function LI(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function a_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l_={exports:{}},ic={},u_={exports:{}},fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xa=Symbol.for("react.element"),FI=Symbol.for("react.portal"),$I=Symbol.for("react.fragment"),jI=Symbol.for("react.strict_mode"),UI=Symbol.for("react.profiler"),BI=Symbol.for("react.provider"),zI=Symbol.for("react.context"),WI=Symbol.for("react.forward_ref"),HI=Symbol.for("react.suspense"),qI=Symbol.for("react.memo"),GI=Symbol.for("react.lazy"),ov=Symbol.iterator;function KI(t){return t===null||typeof t!="object"?null:(t=ov&&t[ov]||t["@@iterator"],typeof t=="function"?t:null)}var c_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d_=Object.assign,h_={};function Qo(t,e,n){this.props=t,this.context=e,this.refs=h_,this.updater=n||c_}Qo.prototype.isReactComponent={};Qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f_(){}f_.prototype=Qo.prototype;function rp(t,e,n){this.props=t,this.context=e,this.refs=h_,this.updater=n||c_}var ip=rp.prototype=new f_;ip.constructor=rp;d_(ip,Qo.prototype);ip.isPureReactComponent=!0;var sv=Array.isArray,p_=Object.prototype.hasOwnProperty,op={current:null},m_={key:!0,ref:!0,__self:!0,__source:!0};function g_(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)p_.call(e,r)&&!m_.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:xa,type:t,key:o,ref:s,props:i,_owner:op.current}}function QI(t,e){return{$$typeof:xa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sp(t){return typeof t=="object"&&t!==null&&t.$$typeof===xa}function YI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var av=/\/+/g;function xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?YI(""+t.key):e.toString(36)}function Wl(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case xa:case FI:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+xd(s,0):r,sv(i)?(n="",t!=null&&(n=t.replace(av,"$&/")+"/"),Wl(i,e,n,"",function(c){return c})):i!=null&&(sp(i)&&(i=QI(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(av,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",sv(t))for(var a=0;a<t.length;a++){o=t[a];var u=r+xd(o,a);s+=Wl(o,e,n,u,i)}else if(u=KI(t),typeof u=="function")for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=r+xd(o,a++),s+=Wl(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function pl(t,e,n){if(t==null)return t;var r=[],i=0;return Wl(t,r,"","",function(o){return e.call(n,o,i++)}),r}function XI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var bt={current:null},Hl={transition:null},JI={ReactCurrentDispatcher:bt,ReactCurrentBatchConfig:Hl,ReactCurrentOwner:op};function v_(){throw Error("act(...) is not supported in production builds of React.")}fe.Children={map:pl,forEach:function(t,e,n){pl(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pl(t,function(){e++}),e},toArray:function(t){return pl(t,function(e){return e})||[]},only:function(t){if(!sp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Qo;fe.Fragment=$I;fe.Profiler=UI;fe.PureComponent=rp;fe.StrictMode=jI;fe.Suspense=HI;fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JI;fe.act=v_;fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=d_({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=op.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)p_.call(e,u)&&!m_.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:xa,type:t.type,key:i,ref:o,props:r,_owner:s}};fe.createContext=function(t){return t={$$typeof:zI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:BI,_context:t},t.Consumer=t};fe.createElement=g_;fe.createFactory=function(t){var e=g_.bind(null,t);return e.type=t,e};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:WI,render:t}};fe.isValidElement=sp;fe.lazy=function(t){return{$$typeof:GI,_payload:{_status:-1,_result:t},_init:XI}};fe.memo=function(t,e){return{$$typeof:qI,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=Hl.transition;Hl.transition={};try{t()}finally{Hl.transition=e}};fe.unstable_act=v_;fe.useCallback=function(t,e){return bt.current.useCallback(t,e)};fe.useContext=function(t){return bt.current.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t){return bt.current.useDeferredValue(t)};fe.useEffect=function(t,e){return bt.current.useEffect(t,e)};fe.useId=function(){return bt.current.useId()};fe.useImperativeHandle=function(t,e,n){return bt.current.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return bt.current.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return bt.current.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return bt.current.useMemo(t,e)};fe.useReducer=function(t,e,n){return bt.current.useReducer(t,e,n)};fe.useRef=function(t){return bt.current.useRef(t)};fe.useState=function(t){return bt.current.useState(t)};fe.useSyncExternalStore=function(t,e,n){return bt.current.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return bt.current.useTransition()};fe.version="18.3.1";u_.exports=fe;var R=u_.exports;const Cr=a_(R),ZI=LI({__proto__:null,default:Cr},[R]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eC=R,tC=Symbol.for("react.element"),nC=Symbol.for("react.fragment"),rC=Object.prototype.hasOwnProperty,iC=eC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oC={key:!0,ref:!0,__self:!0,__source:!0};function y_(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)rC.call(e,r)&&!oC.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:tC,type:t,key:o,ref:s,props:i,_owner:iC.current}}ic.Fragment=nC;ic.jsx=y_;ic.jsxs=y_;l_.exports=ic;var b=l_.exports,__={exports:{}},Xt={},w_={exports:{}},E_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var W=$.length;$.push(q);e:for(;0<W;){var te=W-1>>>1,J=$[te];if(0<i(J,q))$[te]=q,$[W]=J,W=te;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],W=$.pop();if(W!==q){$[0]=W;e:for(var te=0,J=$.length,he=J>>>1;te<he;){var Xe=2*(te+1)-1,de=$[Xe],Ve=Xe+1,Ke=$[Ve];if(0>i(de,W))Ve<J&&0>i(Ke,de)?($[te]=Ke,$[Ve]=W,te=Ve):($[te]=de,$[Xe]=W,te=Xe);else if(Ve<J&&0>i(Ke,W))$[te]=Ke,$[Ve]=W,te=Ve;else break e}}return q}function i($,q){var W=$.sortIndex-q.sortIndex;return W!==0?W:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var u=[],c=[],h=1,f=null,m=3,g=!1,w=!1,T=!1,A=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S($){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=$)r(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=n(c)}}function N($){if(T=!1,S($),!w)if(n(u)!==null)w=!0,Z(M);else{var q=n(c);q!==null&&X(N,q.startTime-$)}}function M($,q){w=!1,T&&(T=!1,y(v),v=-1),g=!0;var W=m;try{for(S(q),f=n(u);f!==null&&(!(f.expirationTime>q)||$&&!x());){var te=f.callback;if(typeof te=="function"){f.callback=null,m=f.priorityLevel;var J=te(f.expirationTime<=q);q=t.unstable_now(),typeof J=="function"?f.callback=J:f===n(u)&&r(u),S(q)}else r(u);f=n(u)}if(f!==null)var he=!0;else{var Xe=n(c);Xe!==null&&X(N,Xe.startTime-q),he=!1}return he}finally{f=null,m=W,g=!1}}var O=!1,I=null,v=-1,C=5,P=-1;function x(){return!(t.unstable_now()-P<C)}function D(){if(I!==null){var $=t.unstable_now();P=$;var q=!0;try{q=I(!0,$)}finally{q?k():(O=!1,I=null)}}else O=!1}var k;if(typeof _=="function")k=function(){_(D)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,He=ge.port2;ge.port1.onmessage=D,k=function(){He.postMessage(null)}}else k=function(){A(D,0)};function Z($){I=$,O||(O=!0,k())}function X($,q){v=A(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){w||g||(w=!0,Z(M))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var q=3;break;default:q=m}var W=m;m=q;try{return $()}finally{m=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=m;m=$;try{return q()}finally{m=W}},t.unstable_scheduleCallback=function($,q,W){var te=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?te+W:te):W=te,$){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=W+J,$={id:h++,callback:q,priorityLevel:$,startTime:W,expirationTime:J,sortIndex:-1},W>te?($.sortIndex=W,e(c,$),n(u)===null&&$===n(c)&&(T?(y(v),v=-1):T=!0,X(N,W-te))):($.sortIndex=J,e(u,$),w||g||(w=!0,Z(M))),$},t.unstable_shouldYield=x,t.unstable_wrapCallback=function($){var q=m;return function(){var W=m;m=q;try{return $.apply(this,arguments)}finally{m=W}}}})(E_);w_.exports=E_;var sC=w_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aC=R,Yt=sC;function B(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,ta={};function ji(t,e){ko(t,e),ko(t+"Capture",e)}function ko(t,e){for(ta[t]=e,t=0;t<e.length;t++)S_.add(e[t])}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=Object.prototype.hasOwnProperty,lC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lv={},uv={};function uC(t){return bh.call(uv,t)?!0:bh.call(lv,t)?!1:lC.test(t)?uv[t]=!0:(lv[t]=!0,!1)}function cC(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dC(t,e,n,r){if(e===null||typeof e>"u"||cC(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xt(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pt[t]=new xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pt[e]=new xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pt[t]=new xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pt[t]=new xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pt[t]=new xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pt[t]=new xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pt[t]=new xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pt[t]=new xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pt[t]=new xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var ap=/[\-:]([a-z])/g;function lp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ap,lp);pt[e]=new xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ap,lp);pt[e]=new xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ap,lp);pt[e]=new xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pt[t]=new xt(t,1,!1,t.toLowerCase(),null,!1,!1)});pt.xlinkHref=new xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pt[t]=new xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function up(t,e,n,r){var i=pt.hasOwnProperty(e)?pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dC(e,n,i,r)&&(n=null),r||i===null?uC(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var dr=aC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ml=Symbol.for("react.element"),io=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),cp=Symbol.for("react.strict_mode"),xh=Symbol.for("react.profiler"),T_=Symbol.for("react.provider"),I_=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),Nh=Symbol.for("react.suspense"),Dh=Symbol.for("react.suspense_list"),hp=Symbol.for("react.memo"),Tr=Symbol.for("react.lazy"),C_=Symbol.for("react.offscreen"),cv=Symbol.iterator;function Ss(t){return t===null||typeof t!="object"?null:(t=cv&&t[cv]||t["@@iterator"],typeof t=="function"?t:null)}var $e=Object.assign,Nd;function Vs(t){if(Nd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Nd=e&&e[1]||""}return`
`+Nd+t}var Dd=!1;function Vd(t,e){if(!t||Dd)return"";Dd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=a);break}}}finally{Dd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vs(t):""}function hC(t){switch(t.tag){case 5:return Vs(t.type);case 16:return Vs("Lazy");case 13:return Vs("Suspense");case 19:return Vs("SuspenseList");case 0:case 2:case 15:return t=Vd(t.type,!1),t;case 11:return t=Vd(t.type.render,!1),t;case 1:return t=Vd(t.type,!0),t;default:return""}}function Vh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case oo:return"Fragment";case io:return"Portal";case xh:return"Profiler";case cp:return"StrictMode";case Nh:return"Suspense";case Dh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I_:return(t.displayName||"Context")+".Consumer";case T_:return(t._context.displayName||"Context")+".Provider";case dp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hp:return e=t.displayName||null,e!==null?e:Vh(t.type)||"Memo";case Tr:e=t._payload,t=t._init;try{return Vh(t(e))}catch{}}return null}function fC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vh(e);case 8:return e===cp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pC(t){var e=R_(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gl(t){t._valueTracker||(t._valueTracker=pC(t))}function A_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=R_(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function fu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Oh(t,e){var n=e.checked;return $e({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Qr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function P_(t,e){e=e.checked,e!=null&&up(t,"checked",e,!1)}function Mh(t,e){P_(t,e);var n=Qr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lh(t,e.type,Qr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lh(t,e,n){(e!=="number"||fu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Os=Array.isArray;function vo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Qr(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Fh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(B(91));return $e({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(B(92));if(Os(n)){if(1<n.length)throw Error(B(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Qr(n)}}function k_(t,e){var n=Qr(e.value),r=Qr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pv(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $h(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vl,x_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vl=vl||document.createElement("div"),vl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function na(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Us={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mC=["Webkit","ms","Moz","O"];Object.keys(Us).forEach(function(t){mC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Us[e]=Us[t]})});function N_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Us.hasOwnProperty(t)&&Us[t]?(""+e).trim():e+"px"}function D_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=N_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var gC=$e({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jh(t,e){if(e){if(gC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(B(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(B(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(B(61))}if(e.style!=null&&typeof e.style!="object")throw Error(B(62))}}function Uh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bh=null;function fp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zh=null,yo=null,_o=null;function mv(t){if(t=Va(t)){if(typeof zh!="function")throw Error(B(280));var e=t.stateNode;e&&(e=uc(e),zh(t.stateNode,t.type,e))}}function V_(t){yo?_o?_o.push(t):_o=[t]:yo=t}function O_(){if(yo){var t=yo,e=_o;if(_o=yo=null,mv(t),e)for(t=0;t<e.length;t++)mv(e[t])}}function M_(t,e){return t(e)}function L_(){}var Od=!1;function F_(t,e,n){if(Od)return t(e,n);Od=!0;try{return M_(t,e,n)}finally{Od=!1,(yo!==null||_o!==null)&&(L_(),O_())}}function ra(t,e){var n=t.stateNode;if(n===null)return null;var r=uc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Wh=!1;if(rr)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Wh=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Wh=!1}function vC(t,e,n,r,i,o,s,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Bs=!1,pu=null,mu=!1,Hh=null,yC={onError:function(t){Bs=!0,pu=t}};function _C(t,e,n,r,i,o,s,a,u){Bs=!1,pu=null,vC.apply(yC,arguments)}function wC(t,e,n,r,i,o,s,a,u){if(_C.apply(this,arguments),Bs){if(Bs){var c=pu;Bs=!1,pu=null}else throw Error(B(198));mu||(mu=!0,Hh=c)}}function Ui(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gv(t){if(Ui(t)!==t)throw Error(B(188))}function EC(t){var e=t.alternate;if(!e){if(e=Ui(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gv(i),t;if(o===r)return gv(i),e;o=o.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function j_(t){return t=EC(t),t!==null?U_(t):null}function U_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U_(t);if(e!==null)return e;t=t.sibling}return null}var B_=Yt.unstable_scheduleCallback,vv=Yt.unstable_cancelCallback,SC=Yt.unstable_shouldYield,TC=Yt.unstable_requestPaint,Ge=Yt.unstable_now,IC=Yt.unstable_getCurrentPriorityLevel,pp=Yt.unstable_ImmediatePriority,z_=Yt.unstable_UserBlockingPriority,gu=Yt.unstable_NormalPriority,CC=Yt.unstable_LowPriority,W_=Yt.unstable_IdlePriority,oc=null,Dn=null;function RC(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(oc,t,void 0,(t.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:kC,AC=Math.log,PC=Math.LN2;function kC(t){return t>>>=0,t===0?32:31-(AC(t)/PC|0)|0}var yl=64,_l=4194304;function Ms(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Ms(a):(o&=s,o!==0&&(r=Ms(o)))}else s=n&~i,s!==0?r=Ms(s):o!==0&&(r=Ms(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-_n(e),i=1<<n,r|=t[n],e&=~i;return r}function bC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xC(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-_n(o),a=1<<s,u=i[s];u===-1?(!(a&n)||a&r)&&(i[s]=bC(a,e)):u<=e&&(t.expiredLanes|=a),o&=~a}}function qh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function H_(){var t=yl;return yl<<=1,!(yl&4194240)&&(yl=64),t}function Md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Na(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-_n(e),t[e]=n}function NC(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-_n(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function mp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-_n(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Ie=0;function q_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var G_,gp,K_,Q_,Y_,Gh=!1,wl=[],Mr=null,Lr=null,Fr=null,ia=new Map,oa=new Map,Rr=[],DC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function yv(t,e){switch(t){case"focusin":case"focusout":Mr=null;break;case"dragenter":case"dragleave":Lr=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":ia.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(e.pointerId)}}function Is(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Va(e),e!==null&&gp(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VC(t,e,n,r,i){switch(e){case"focusin":return Mr=Is(Mr,t,e,n,r,i),!0;case"dragenter":return Lr=Is(Lr,t,e,n,r,i),!0;case"mouseover":return Fr=Is(Fr,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return ia.set(o,Is(ia.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,oa.set(o,Is(oa.get(o)||null,t,e,n,r,i)),!0}return!1}function X_(t){var e=vi(t.target);if(e!==null){var n=Ui(e);if(n!==null){if(e=n.tag,e===13){if(e=$_(n),e!==null){t.blockedOn=e,Y_(t.priority,function(){K_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ql(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bh=r,n.target.dispatchEvent(r),Bh=null}else return e=Va(n),e!==null&&gp(e),t.blockedOn=n,!1;e.shift()}return!0}function _v(t,e,n){ql(t)&&n.delete(e)}function OC(){Gh=!1,Mr!==null&&ql(Mr)&&(Mr=null),Lr!==null&&ql(Lr)&&(Lr=null),Fr!==null&&ql(Fr)&&(Fr=null),ia.forEach(_v),oa.forEach(_v)}function Cs(t,e){t.blockedOn===e&&(t.blockedOn=null,Gh||(Gh=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,OC)))}function sa(t){function e(i){return Cs(i,t)}if(0<wl.length){Cs(wl[0],t);for(var n=1;n<wl.length;n++){var r=wl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mr!==null&&Cs(Mr,t),Lr!==null&&Cs(Lr,t),Fr!==null&&Cs(Fr,t),ia.forEach(e),oa.forEach(e),n=0;n<Rr.length;n++)r=Rr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Rr.length&&(n=Rr[0],n.blockedOn===null);)X_(n),n.blockedOn===null&&Rr.shift()}var wo=dr.ReactCurrentBatchConfig,yu=!0;function MC(t,e,n,r){var i=Ie,o=wo.transition;wo.transition=null;try{Ie=1,vp(t,e,n,r)}finally{Ie=i,wo.transition=o}}function LC(t,e,n,r){var i=Ie,o=wo.transition;wo.transition=null;try{Ie=4,vp(t,e,n,r)}finally{Ie=i,wo.transition=o}}function vp(t,e,n,r){if(yu){var i=Kh(t,e,n,r);if(i===null)qd(t,e,r,_u,n),yv(t,r);else if(VC(i,t,e,n,r))r.stopPropagation();else if(yv(t,r),e&4&&-1<DC.indexOf(t)){for(;i!==null;){var o=Va(i);if(o!==null&&G_(o),o=Kh(t,e,n,r),o===null&&qd(t,e,r,_u,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else qd(t,e,r,null,n)}}var _u=null;function Kh(t,e,n,r){if(_u=null,t=fp(r),t=vi(t),t!==null)if(e=Ui(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return _u=t,null}function J_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(IC()){case pp:return 1;case z_:return 4;case gu:case CC:return 16;case W_:return 536870912;default:return 16}default:return 16}}var Nr=null,yp=null,Gl=null;function Z_(){if(Gl)return Gl;var t,e=yp,n=e.length,r,i="value"in Nr?Nr.value:Nr.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Gl=i.slice(t,1<r?1-r:void 0)}function Kl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function El(){return!0}function wv(){return!1}function Jt(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?El:wv,this.isPropagationStopped=wv,this}return $e(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=El)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=El)},persist:function(){},isPersistent:El}),e}var Yo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_p=Jt(Yo),Da=$e({},Yo,{view:0,detail:0}),FC=Jt(Da),Ld,Fd,Rs,sc=$e({},Da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Rs&&(Rs&&t.type==="mousemove"?(Ld=t.screenX-Rs.screenX,Fd=t.screenY-Rs.screenY):Fd=Ld=0,Rs=t),Ld)},movementY:function(t){return"movementY"in t?t.movementY:Fd}}),Ev=Jt(sc),$C=$e({},sc,{dataTransfer:0}),jC=Jt($C),UC=$e({},Da,{relatedTarget:0}),$d=Jt(UC),BC=$e({},Yo,{animationName:0,elapsedTime:0,pseudoElement:0}),zC=Jt(BC),WC=$e({},Yo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HC=Jt(WC),qC=$e({},Yo,{data:0}),Sv=Jt(qC),GC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QC[t])?!!e[t]:!1}function wp(){return YC}var XC=$e({},Da,{key:function(t){if(t.key){var e=GC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wp,charCode:function(t){return t.type==="keypress"?Kl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),JC=Jt(XC),ZC=$e({},sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tv=Jt(ZC),eR=$e({},Da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wp}),tR=Jt(eR),nR=$e({},Yo,{propertyName:0,elapsedTime:0,pseudoElement:0}),rR=Jt(nR),iR=$e({},sc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oR=Jt(iR),sR=[9,13,27,32],Ep=rr&&"CompositionEvent"in window,zs=null;rr&&"documentMode"in document&&(zs=document.documentMode);var aR=rr&&"TextEvent"in window&&!zs,ew=rr&&(!Ep||zs&&8<zs&&11>=zs),Iv=" ",Cv=!1;function tw(t,e){switch(t){case"keyup":return sR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nw(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var so=!1;function lR(t,e){switch(t){case"compositionend":return nw(e);case"keypress":return e.which!==32?null:(Cv=!0,Iv);case"textInput":return t=e.data,t===Iv&&Cv?null:t;default:return null}}function uR(t,e){if(so)return t==="compositionend"||!Ep&&tw(t,e)?(t=Z_(),Gl=yp=Nr=null,so=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ew&&e.locale!=="ko"?null:e.data;default:return null}}var cR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!cR[t.type]:e==="textarea"}function rw(t,e,n,r){V_(r),e=wu(e,"onChange"),0<e.length&&(n=new _p("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ws=null,aa=null;function dR(t){pw(t,0)}function ac(t){var e=uo(t);if(A_(e))return t}function hR(t,e){if(t==="change")return e}var iw=!1;if(rr){var jd;if(rr){var Ud="oninput"in document;if(!Ud){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),Ud=typeof Av.oninput=="function"}jd=Ud}else jd=!1;iw=jd&&(!document.documentMode||9<document.documentMode)}function Pv(){Ws&&(Ws.detachEvent("onpropertychange",ow),aa=Ws=null)}function ow(t){if(t.propertyName==="value"&&ac(aa)){var e=[];rw(e,aa,t,fp(t)),F_(dR,e)}}function fR(t,e,n){t==="focusin"?(Pv(),Ws=e,aa=n,Ws.attachEvent("onpropertychange",ow)):t==="focusout"&&Pv()}function pR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(aa)}function mR(t,e){if(t==="click")return ac(e)}function gR(t,e){if(t==="input"||t==="change")return ac(e)}function vR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:vR;function la(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bh.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function kv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bv(t,e){var n=kv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kv(n)}}function sw(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sw(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aw(){for(var t=window,e=fu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=fu(t.document)}return e}function Sp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function yR(t){var e=aw(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sw(n.ownerDocument.documentElement,n)){if(r!==null&&Sp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=bv(n,o);var s=bv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _R=rr&&"documentMode"in document&&11>=document.documentMode,ao=null,Qh=null,Hs=null,Yh=!1;function xv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yh||ao==null||ao!==fu(r)||(r=ao,"selectionStart"in r&&Sp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&la(Hs,r)||(Hs=r,r=wu(Qh,"onSelect"),0<r.length&&(e=new _p("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ao)))}function Sl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var lo={animationend:Sl("Animation","AnimationEnd"),animationiteration:Sl("Animation","AnimationIteration"),animationstart:Sl("Animation","AnimationStart"),transitionend:Sl("Transition","TransitionEnd")},Bd={},lw={};rr&&(lw=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function lc(t){if(Bd[t])return Bd[t];if(!lo[t])return t;var e=lo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lw)return Bd[t]=e[n];return t}var uw=lc("animationend"),cw=lc("animationiteration"),dw=lc("animationstart"),hw=lc("transitionend"),fw=new Map,Nv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ni(t,e){fw.set(t,e),ji(e,[t])}for(var zd=0;zd<Nv.length;zd++){var Wd=Nv[zd],wR=Wd.toLowerCase(),ER=Wd[0].toUpperCase()+Wd.slice(1);ni(wR,"on"+ER)}ni(uw,"onAnimationEnd");ni(cw,"onAnimationIteration");ni(dw,"onAnimationStart");ni("dblclick","onDoubleClick");ni("focusin","onFocus");ni("focusout","onBlur");ni(hw,"onTransitionEnd");ko("onMouseEnter",["mouseout","mouseover"]);ko("onMouseLeave",["mouseout","mouseover"]);ko("onPointerEnter",["pointerout","pointerover"]);ko("onPointerLeave",["pointerout","pointerover"]);ji("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ji("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ji("onBeforeInput",["compositionend","keypress","textInput","paste"]);ji("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ji("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ls="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ls));function Dv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,wC(r,e,void 0,t),t.currentTarget=null}function pw(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==o&&i.isPropagationStopped())break e;Dv(i,a,c),o=u}else for(s=0;s<r.length;s++){if(a=r[s],u=a.instance,c=a.currentTarget,a=a.listener,u!==o&&i.isPropagationStopped())break e;Dv(i,a,c),o=u}}}if(mu)throw t=Hh,mu=!1,Hh=null,t}function be(t,e){var n=e[tf];n===void 0&&(n=e[tf]=new Set);var r=t+"__bubble";n.has(r)||(mw(e,t,2,!1),n.add(r))}function Hd(t,e,n){var r=0;e&&(r|=4),mw(n,t,r,e)}var Tl="_reactListening"+Math.random().toString(36).slice(2);function ua(t){if(!t[Tl]){t[Tl]=!0,S_.forEach(function(n){n!=="selectionchange"&&(SR.has(n)||Hd(n,!1,t),Hd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tl]||(e[Tl]=!0,Hd("selectionchange",!1,e))}}function mw(t,e,n,r){switch(J_(e)){case 1:var i=MC;break;case 4:i=LC;break;default:i=vp}n=i.bind(null,e,n,t),i=void 0,!Wh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qd(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;a!==null;){if(s=vi(a),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}a=a.parentNode}}r=r.return}F_(function(){var c=o,h=fp(n),f=[];e:{var m=fw.get(t);if(m!==void 0){var g=_p,w=t;switch(t){case"keypress":if(Kl(n)===0)break e;case"keydown":case"keyup":g=JC;break;case"focusin":w="focus",g=$d;break;case"focusout":w="blur",g=$d;break;case"beforeblur":case"afterblur":g=$d;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Ev;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=jC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=tR;break;case uw:case cw:case dw:g=zC;break;case hw:g=rR;break;case"scroll":g=FC;break;case"wheel":g=oR;break;case"copy":case"cut":case"paste":g=HC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Tv}var T=(e&4)!==0,A=!T&&t==="scroll",y=T?m!==null?m+"Capture":null:m;T=[];for(var _=c,S;_!==null;){S=_;var N=S.stateNode;if(S.tag===5&&N!==null&&(S=N,y!==null&&(N=ra(_,y),N!=null&&T.push(ca(_,N,S)))),A)break;_=_.return}0<T.length&&(m=new g(m,w,null,n,h),f.push({event:m,listeners:T}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==Bh&&(w=n.relatedTarget||n.fromElement)&&(vi(w)||w[ir]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(w=n.relatedTarget||n.toElement,g=c,w=w?vi(w):null,w!==null&&(A=Ui(w),w!==A||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=c),g!==w)){if(T=Ev,N="onMouseLeave",y="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(T=Tv,N="onPointerLeave",y="onPointerEnter",_="pointer"),A=g==null?m:uo(g),S=w==null?m:uo(w),m=new T(N,_+"leave",g,n,h),m.target=A,m.relatedTarget=S,N=null,vi(h)===c&&(T=new T(y,_+"enter",w,n,h),T.target=S,T.relatedTarget=A,N=T),A=N,g&&w)t:{for(T=g,y=w,_=0,S=T;S;S=Qi(S))_++;for(S=0,N=y;N;N=Qi(N))S++;for(;0<_-S;)T=Qi(T),_--;for(;0<S-_;)y=Qi(y),S--;for(;_--;){if(T===y||y!==null&&T===y.alternate)break t;T=Qi(T),y=Qi(y)}T=null}else T=null;g!==null&&Vv(f,m,g,T,!1),w!==null&&A!==null&&Vv(f,A,w,T,!0)}}e:{if(m=c?uo(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var M=hR;else if(Rv(m))if(iw)M=gR;else{M=pR;var O=fR}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=mR);if(M&&(M=M(t,c))){rw(f,M,n,h);break e}O&&O(t,m,c),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Lh(m,"number",m.value)}switch(O=c?uo(c):window,t){case"focusin":(Rv(O)||O.contentEditable==="true")&&(ao=O,Qh=c,Hs=null);break;case"focusout":Hs=Qh=ao=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,xv(f,n,h);break;case"selectionchange":if(_R)break;case"keydown":case"keyup":xv(f,n,h)}var I;if(Ep)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else so?tw(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(ew&&n.locale!=="ko"&&(so||v!=="onCompositionStart"?v==="onCompositionEnd"&&so&&(I=Z_()):(Nr=h,yp="value"in Nr?Nr.value:Nr.textContent,so=!0)),O=wu(c,v),0<O.length&&(v=new Sv(v,t,null,n,h),f.push({event:v,listeners:O}),I?v.data=I:(I=nw(n),I!==null&&(v.data=I)))),(I=aR?lR(t,n):uR(t,n))&&(c=wu(c,"onBeforeInput"),0<c.length&&(h=new Sv("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:c}),h.data=I))}pw(f,e)})}function ca(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wu(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ra(t,n),o!=null&&r.unshift(ca(t,o,i)),o=ra(t,e),o!=null&&r.push(ca(t,o,i))),t=t.return}return r}function Qi(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Vv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,u=a.alternate,c=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&c!==null&&(a=c,i?(u=ra(n,o),u!=null&&s.unshift(ca(n,u,a))):i||(u=ra(n,o),u!=null&&s.push(ca(n,u,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var TR=/\r\n?/g,IR=/\u0000|\uFFFD/g;function Ov(t){return(typeof t=="string"?t:""+t).replace(TR,`
`).replace(IR,"")}function Il(t,e,n){if(e=Ov(e),Ov(t)!==e&&n)throw Error(B(425))}function Eu(){}var Xh=null,Jh=null;function Zh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ef=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,Mv=typeof Promise=="function"?Promise:void 0,RR=typeof queueMicrotask=="function"?queueMicrotask:typeof Mv<"u"?function(t){return Mv.resolve(null).then(t).catch(AR)}:ef;function AR(t){setTimeout(function(){throw t})}function Gd(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),sa(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);sa(e)}function $r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Xo=Math.random().toString(36).slice(2),xn="__reactFiber$"+Xo,da="__reactProps$"+Xo,ir="__reactContainer$"+Xo,tf="__reactEvents$"+Xo,PR="__reactListeners$"+Xo,kR="__reactHandles$"+Xo;function vi(t){var e=t[xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ir]||n[xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lv(t);t!==null;){if(n=t[xn])return n;t=Lv(t)}return e}t=n,n=t.parentNode}return null}function Va(t){return t=t[xn]||t[ir],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function uo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(B(33))}function uc(t){return t[da]||null}var nf=[],co=-1;function ri(t){return{current:t}}function xe(t){0>co||(t.current=nf[co],nf[co]=null,co--)}function Pe(t,e){co++,nf[co]=t.current,t.current=e}var Yr={},It=ri(Yr),Ot=ri(!1),Pi=Yr;function bo(t,e){var n=t.type.contextTypes;if(!n)return Yr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Mt(t){return t=t.childContextTypes,t!=null}function Su(){xe(Ot),xe(It)}function Fv(t,e,n){if(It.current!==Yr)throw Error(B(168));Pe(It,e),Pe(Ot,n)}function gw(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(B(108,fC(t)||"Unknown",i));return $e({},n,r)}function Tu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yr,Pi=It.current,Pe(It,t),Pe(Ot,Ot.current),!0}function $v(t,e,n){var r=t.stateNode;if(!r)throw Error(B(169));n?(t=gw(t,e,Pi),r.__reactInternalMemoizedMergedChildContext=t,xe(Ot),xe(It),Pe(It,t)):xe(Ot),Pe(Ot,n)}var Gn=null,cc=!1,Kd=!1;function vw(t){Gn===null?Gn=[t]:Gn.push(t)}function bR(t){cc=!0,vw(t)}function ii(){if(!Kd&&Gn!==null){Kd=!0;var t=0,e=Ie;try{var n=Gn;for(Ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gn=null,cc=!1}catch(i){throw Gn!==null&&(Gn=Gn.slice(t+1)),B_(pp,ii),i}finally{Ie=e,Kd=!1}}return null}var ho=[],fo=0,Iu=null,Cu=0,nn=[],rn=0,ki=null,Yn=1,Xn="";function hi(t,e){ho[fo++]=Cu,ho[fo++]=Iu,Iu=t,Cu=e}function yw(t,e,n){nn[rn++]=Yn,nn[rn++]=Xn,nn[rn++]=ki,ki=t;var r=Yn;t=Xn;var i=32-_n(r)-1;r&=~(1<<i),n+=1;var o=32-_n(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yn=1<<32-_n(e)+i|n<<i|r,Xn=o+t}else Yn=1<<o|n<<i|r,Xn=t}function Tp(t){t.return!==null&&(hi(t,1),yw(t,1,0))}function Ip(t){for(;t===Iu;)Iu=ho[--fo],ho[fo]=null,Cu=ho[--fo],ho[fo]=null;for(;t===ki;)ki=nn[--rn],nn[rn]=null,Xn=nn[--rn],nn[rn]=null,Yn=nn[--rn],nn[rn]=null}var Kt=null,qt=null,Oe=!1,gn=null;function _w(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function jv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Kt=t,qt=$r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Kt=t,qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:Yn,overflow:Xn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Kt=t,qt=null,!0):!1;default:return!1}}function rf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function of(t){if(Oe){var e=qt;if(e){var n=e;if(!jv(t,e)){if(rf(t))throw Error(B(418));e=$r(n.nextSibling);var r=Kt;e&&jv(t,e)?_w(r,n):(t.flags=t.flags&-4097|2,Oe=!1,Kt=t)}}else{if(rf(t))throw Error(B(418));t.flags=t.flags&-4097|2,Oe=!1,Kt=t}}}function Uv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Kt=t}function Cl(t){if(t!==Kt)return!1;if(!Oe)return Uv(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zh(t.type,t.memoizedProps)),e&&(e=qt)){if(rf(t))throw ww(),Error(B(418));for(;e;)_w(t,e),e=$r(e.nextSibling)}if(Uv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){qt=$r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}qt=null}}else qt=Kt?$r(t.stateNode.nextSibling):null;return!0}function ww(){for(var t=qt;t;)t=$r(t.nextSibling)}function xo(){qt=Kt=null,Oe=!1}function Cp(t){gn===null?gn=[t]:gn.push(t)}var xR=dr.ReactCurrentBatchConfig;function As(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(B(309));var r=n.stateNode}if(!r)throw Error(B(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(B(284));if(!n._owner)throw Error(B(290,t))}return t}function Rl(t,e){throw t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bv(t){var e=t._init;return e(t._payload)}function Ew(t){function e(y,_){if(t){var S=y.deletions;S===null?(y.deletions=[_],y.flags|=16):S.push(_)}}function n(y,_){if(!t)return null;for(;_!==null;)e(y,_),_=_.sibling;return null}function r(y,_){for(y=new Map;_!==null;)_.key!==null?y.set(_.key,_):y.set(_.index,_),_=_.sibling;return y}function i(y,_){return y=zr(y,_),y.index=0,y.sibling=null,y}function o(y,_,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<_?(y.flags|=2,_):S):(y.flags|=2,_)):(y.flags|=1048576,_)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,_,S,N){return _===null||_.tag!==6?(_=th(S,y.mode,N),_.return=y,_):(_=i(_,S),_.return=y,_)}function u(y,_,S,N){var M=S.type;return M===oo?h(y,_,S.props.children,N,S.key):_!==null&&(_.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Tr&&Bv(M)===_.type)?(N=i(_,S.props),N.ref=As(y,_,S),N.return=y,N):(N=tu(S.type,S.key,S.props,null,y.mode,N),N.ref=As(y,_,S),N.return=y,N)}function c(y,_,S,N){return _===null||_.tag!==4||_.stateNode.containerInfo!==S.containerInfo||_.stateNode.implementation!==S.implementation?(_=nh(S,y.mode,N),_.return=y,_):(_=i(_,S.children||[]),_.return=y,_)}function h(y,_,S,N,M){return _===null||_.tag!==7?(_=Ti(S,y.mode,N,M),_.return=y,_):(_=i(_,S),_.return=y,_)}function f(y,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return _=th(""+_,y.mode,S),_.return=y,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ml:return S=tu(_.type,_.key,_.props,null,y.mode,S),S.ref=As(y,null,_),S.return=y,S;case io:return _=nh(_,y.mode,S),_.return=y,_;case Tr:var N=_._init;return f(y,N(_._payload),S)}if(Os(_)||Ss(_))return _=Ti(_,y.mode,S,null),_.return=y,_;Rl(y,_)}return null}function m(y,_,S,N){var M=_!==null?_.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return M!==null?null:a(y,_,""+S,N);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ml:return S.key===M?u(y,_,S,N):null;case io:return S.key===M?c(y,_,S,N):null;case Tr:return M=S._init,m(y,_,M(S._payload),N)}if(Os(S)||Ss(S))return M!==null?null:h(y,_,S,N,null);Rl(y,S)}return null}function g(y,_,S,N,M){if(typeof N=="string"&&N!==""||typeof N=="number")return y=y.get(S)||null,a(_,y,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ml:return y=y.get(N.key===null?S:N.key)||null,u(_,y,N,M);case io:return y=y.get(N.key===null?S:N.key)||null,c(_,y,N,M);case Tr:var O=N._init;return g(y,_,S,O(N._payload),M)}if(Os(N)||Ss(N))return y=y.get(S)||null,h(_,y,N,M,null);Rl(_,N)}return null}function w(y,_,S,N){for(var M=null,O=null,I=_,v=_=0,C=null;I!==null&&v<S.length;v++){I.index>v?(C=I,I=null):C=I.sibling;var P=m(y,I,S[v],N);if(P===null){I===null&&(I=C);break}t&&I&&P.alternate===null&&e(y,I),_=o(P,_,v),O===null?M=P:O.sibling=P,O=P,I=C}if(v===S.length)return n(y,I),Oe&&hi(y,v),M;if(I===null){for(;v<S.length;v++)I=f(y,S[v],N),I!==null&&(_=o(I,_,v),O===null?M=I:O.sibling=I,O=I);return Oe&&hi(y,v),M}for(I=r(y,I);v<S.length;v++)C=g(I,y,v,S[v],N),C!==null&&(t&&C.alternate!==null&&I.delete(C.key===null?v:C.key),_=o(C,_,v),O===null?M=C:O.sibling=C,O=C);return t&&I.forEach(function(x){return e(y,x)}),Oe&&hi(y,v),M}function T(y,_,S,N){var M=Ss(S);if(typeof M!="function")throw Error(B(150));if(S=M.call(S),S==null)throw Error(B(151));for(var O=M=null,I=_,v=_=0,C=null,P=S.next();I!==null&&!P.done;v++,P=S.next()){I.index>v?(C=I,I=null):C=I.sibling;var x=m(y,I,P.value,N);if(x===null){I===null&&(I=C);break}t&&I&&x.alternate===null&&e(y,I),_=o(x,_,v),O===null?M=x:O.sibling=x,O=x,I=C}if(P.done)return n(y,I),Oe&&hi(y,v),M;if(I===null){for(;!P.done;v++,P=S.next())P=f(y,P.value,N),P!==null&&(_=o(P,_,v),O===null?M=P:O.sibling=P,O=P);return Oe&&hi(y,v),M}for(I=r(y,I);!P.done;v++,P=S.next())P=g(I,y,v,P.value,N),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?v:P.key),_=o(P,_,v),O===null?M=P:O.sibling=P,O=P);return t&&I.forEach(function(D){return e(y,D)}),Oe&&hi(y,v),M}function A(y,_,S,N){if(typeof S=="object"&&S!==null&&S.type===oo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case ml:e:{for(var M=S.key,O=_;O!==null;){if(O.key===M){if(M=S.type,M===oo){if(O.tag===7){n(y,O.sibling),_=i(O,S.props.children),_.return=y,y=_;break e}}else if(O.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Tr&&Bv(M)===O.type){n(y,O.sibling),_=i(O,S.props),_.ref=As(y,O,S),_.return=y,y=_;break e}n(y,O);break}else e(y,O);O=O.sibling}S.type===oo?(_=Ti(S.props.children,y.mode,N,S.key),_.return=y,y=_):(N=tu(S.type,S.key,S.props,null,y.mode,N),N.ref=As(y,_,S),N.return=y,y=N)}return s(y);case io:e:{for(O=S.key;_!==null;){if(_.key===O)if(_.tag===4&&_.stateNode.containerInfo===S.containerInfo&&_.stateNode.implementation===S.implementation){n(y,_.sibling),_=i(_,S.children||[]),_.return=y,y=_;break e}else{n(y,_);break}else e(y,_);_=_.sibling}_=nh(S,y.mode,N),_.return=y,y=_}return s(y);case Tr:return O=S._init,A(y,_,O(S._payload),N)}if(Os(S))return w(y,_,S,N);if(Ss(S))return T(y,_,S,N);Rl(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,_!==null&&_.tag===6?(n(y,_.sibling),_=i(_,S),_.return=y,y=_):(n(y,_),_=th(S,y.mode,N),_.return=y,y=_),s(y)):n(y,_)}return A}var No=Ew(!0),Sw=Ew(!1),Ru=ri(null),Au=null,po=null,Rp=null;function Ap(){Rp=po=Au=null}function Pp(t){var e=Ru.current;xe(Ru),t._currentValue=e}function sf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Eo(t,e){Au=t,Rp=po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Vt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(Rp!==t)if(t={context:t,memoizedValue:e,next:null},po===null){if(Au===null)throw Error(B(308));po=t,Au.dependencies={lanes:0,firstContext:t}}else po=po.next=t;return e}var yi=null;function kp(t){yi===null?yi=[t]:yi.push(t)}function Tw(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,kp(e)):(n.next=i.next,i.next=n),e.interleaved=n,or(t,r)}function or(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ir=!1;function bp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Iw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,or(t,n)}return i=r.interleaved,i===null?(e.next=e,kp(r)):(e.next=i.next,i.next=e),r.interleaved=e,or(t,n)}function Ql(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mp(t,n)}}function zv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pu(t,e,n,r){var i=t.updateQueue;Ir=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,s===null?o=c:s.next=c,s=u;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==s&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(o!==null){var f=i.baseState;s=0,h=c=u=null,a=o;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=t,T=a;switch(m=e,g=n,T.tag){case 1:if(w=T.payload,typeof w=="function"){f=w.call(g,f,m);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=T.payload,m=typeof w=="function"?w.call(g,f,m):w,m==null)break e;f=$e({},f,m);break e;case 2:Ir=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=g,u=f):h=h.next=g,s|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);xi|=s,t.lanes=s,t.memoizedState=f}}function Wv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(B(191,i));i.call(r)}}}var Oa={},Vn=ri(Oa),ha=ri(Oa),fa=ri(Oa);function _i(t){if(t===Oa)throw Error(B(174));return t}function xp(t,e){switch(Pe(fa,e),Pe(ha,t),Pe(Vn,Oa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:$h(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=$h(e,t)}xe(Vn),Pe(Vn,e)}function Do(){xe(Vn),xe(ha),xe(fa)}function Cw(t){_i(fa.current);var e=_i(Vn.current),n=$h(e,t.type);e!==n&&(Pe(ha,t),Pe(Vn,n))}function Np(t){ha.current===t&&(xe(Vn),xe(ha))}var Le=ri(0);function ku(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qd=[];function Dp(){for(var t=0;t<Qd.length;t++)Qd[t]._workInProgressVersionPrimary=null;Qd.length=0}var Yl=dr.ReactCurrentDispatcher,Yd=dr.ReactCurrentBatchConfig,bi=0,Fe=null,Je=null,it=null,bu=!1,qs=!1,pa=0,NR=0;function yt(){throw Error(B(321))}function Vp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tn(t[n],e[n]))return!1;return!0}function Op(t,e,n,r,i,o){if(bi=o,Fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yl.current=t===null||t.memoizedState===null?MR:LR,t=n(r,i),qs){o=0;do{if(qs=!1,pa=0,25<=o)throw Error(B(301));o+=1,it=Je=null,e.updateQueue=null,Yl.current=FR,t=n(r,i)}while(qs)}if(Yl.current=xu,e=Je!==null&&Je.next!==null,bi=0,it=Je=Fe=null,bu=!1,e)throw Error(B(300));return t}function Mp(){var t=pa!==0;return pa=0,t}function kn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Fe.memoizedState=it=t:it=it.next=t,it}function ln(){if(Je===null){var t=Fe.alternate;t=t!==null?t.memoizedState:null}else t=Je.next;var e=it===null?Fe.memoizedState:it.next;if(e!==null)it=e,Je=t;else{if(t===null)throw Error(B(310));Je=t,t={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},it===null?Fe.memoizedState=it=t:it=it.next=t}return it}function ma(t,e){return typeof e=="function"?e(t):e}function Xd(t){var e=ln(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=Je,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,u=null,c=o;do{var h=c.lane;if((bi&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=f,s=r):u=u.next=f,Fe.lanes|=h,xi|=h}c=c.next}while(c!==null&&c!==o);u===null?s=r:u.next=a,Tn(r,e.memoizedState)||(Vt=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Fe.lanes|=o,xi|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jd(t){var e=ln(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Tn(o,e.memoizedState)||(Vt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function Rw(){}function Aw(t,e){var n=Fe,r=ln(),i=e(),o=!Tn(r.memoizedState,i);if(o&&(r.memoizedState=i,Vt=!0),r=r.queue,Lp(bw.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||it!==null&&it.memoizedState.tag&1){if(n.flags|=2048,ga(9,kw.bind(null,n,r,i,e),void 0,null),ot===null)throw Error(B(349));bi&30||Pw(n,e,i)}return i}function Pw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kw(t,e,n,r){e.value=n,e.getSnapshot=r,xw(e)&&Nw(t)}function bw(t,e,n){return n(function(){xw(e)&&Nw(t)})}function xw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tn(t,n)}catch{return!0}}function Nw(t){var e=or(t,1);e!==null&&wn(e,t,1,-1)}function Hv(t){var e=kn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:t},e.queue=t,t=t.dispatch=OR.bind(null,Fe,t),[e.memoizedState,t]}function ga(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Fe.updateQueue,e===null?(e={lastEffect:null,stores:null},Fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Dw(){return ln().memoizedState}function Xl(t,e,n,r){var i=kn();Fe.flags|=t,i.memoizedState=ga(1|e,n,void 0,r===void 0?null:r)}function dc(t,e,n,r){var i=ln();r=r===void 0?null:r;var o=void 0;if(Je!==null){var s=Je.memoizedState;if(o=s.destroy,r!==null&&Vp(r,s.deps)){i.memoizedState=ga(e,n,o,r);return}}Fe.flags|=t,i.memoizedState=ga(1|e,n,o,r)}function qv(t,e){return Xl(8390656,8,t,e)}function Lp(t,e){return dc(2048,8,t,e)}function Vw(t,e){return dc(4,2,t,e)}function Ow(t,e){return dc(4,4,t,e)}function Mw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Lw(t,e,n){return n=n!=null?n.concat([t]):null,dc(4,4,Mw.bind(null,e,t),n)}function Fp(){}function Fw(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $w(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Vp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jw(t,e,n){return bi&21?(Tn(n,e)||(n=H_(),Fe.lanes|=n,xi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Vt=!0),t.memoizedState=n)}function DR(t,e){var n=Ie;Ie=n!==0&&4>n?n:4,t(!0);var r=Yd.transition;Yd.transition={};try{t(!1),e()}finally{Ie=n,Yd.transition=r}}function Uw(){return ln().memoizedState}function VR(t,e,n){var r=Br(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bw(t))zw(e,n);else if(n=Tw(t,e,n,r),n!==null){var i=Pt();wn(n,t,r,i),Ww(n,e,r)}}function OR(t,e,n){var r=Br(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bw(t))zw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Tn(a,s)){var u=e.interleaved;u===null?(i.next=i,kp(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Tw(t,e,i,r),n!==null&&(i=Pt(),wn(n,t,r,i),Ww(n,e,r))}}function Bw(t){var e=t.alternate;return t===Fe||e!==null&&e===Fe}function zw(t,e){qs=bu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ww(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mp(t,n)}}var xu={readContext:an,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},MR={readContext:an,useCallback:function(t,e){return kn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:qv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xl(4194308,4,Mw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xl(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xl(4,2,t,e)},useMemo:function(t,e){var n=kn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=kn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VR.bind(null,Fe,t),[r.memoizedState,t]},useRef:function(t){var e=kn();return t={current:t},e.memoizedState=t},useState:Hv,useDebugValue:Fp,useDeferredValue:function(t){return kn().memoizedState=t},useTransition:function(){var t=Hv(!1),e=t[0];return t=DR.bind(null,t[1]),kn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Fe,i=kn();if(Oe){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ot===null)throw Error(B(349));bi&30||Pw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,qv(bw.bind(null,r,o,t),[t]),r.flags|=2048,ga(9,kw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=kn(),e=ot.identifierPrefix;if(Oe){var n=Xn,r=Yn;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=pa++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LR={readContext:an,useCallback:Fw,useContext:an,useEffect:Lp,useImperativeHandle:Lw,useInsertionEffect:Vw,useLayoutEffect:Ow,useMemo:$w,useReducer:Xd,useRef:Dw,useState:function(){return Xd(ma)},useDebugValue:Fp,useDeferredValue:function(t){var e=ln();return jw(e,Je.memoizedState,t)},useTransition:function(){var t=Xd(ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Aw,useId:Uw,unstable_isNewReconciler:!1},FR={readContext:an,useCallback:Fw,useContext:an,useEffect:Lp,useImperativeHandle:Lw,useInsertionEffect:Vw,useLayoutEffect:Ow,useMemo:$w,useReducer:Jd,useRef:Dw,useState:function(){return Jd(ma)},useDebugValue:Fp,useDeferredValue:function(t){var e=ln();return Je===null?e.memoizedState=t:jw(e,Je.memoizedState,t)},useTransition:function(){var t=Jd(ma)[0],e=ln().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:Aw,useId:Uw,unstable_isNewReconciler:!1};function pn(t,e){if(t&&t.defaultProps){e=$e({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function af(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$e({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var hc={isMounted:function(t){return(t=t._reactInternals)?Ui(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Br(t),o=nr(r,i);o.payload=e,n!=null&&(o.callback=n),e=jr(t,o,i),e!==null&&(wn(e,t,i,r),Ql(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Pt(),i=Br(t),o=nr(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=jr(t,o,i),e!==null&&(wn(e,t,i,r),Ql(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Pt(),r=Br(t),i=nr(n,r);i.tag=2,e!=null&&(i.callback=e),e=jr(t,i,r),e!==null&&(wn(e,t,r,n),Ql(e,t,r))}};function Gv(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!la(n,r)||!la(i,o):!0}function Hw(t,e,n){var r=!1,i=Yr,o=e.contextType;return typeof o=="object"&&o!==null?o=an(o):(i=Mt(e)?Pi:It.current,r=e.contextTypes,o=(r=r!=null)?bo(t,i):Yr),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function Kv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&hc.enqueueReplaceState(e,e.state,null)}function lf(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},bp(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=an(o):(o=Mt(e)?Pi:It.current,i.context=bo(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(af(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hc.enqueueReplaceState(i,i.state,null),Pu(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vo(t,e){try{var n="",r=e;do n+=hC(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Zd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function uf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $R=typeof WeakMap=="function"?WeakMap:Map;function qw(t,e,n){n=nr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Du||(Du=!0,_f=r),uf(t,e)},n}function Gw(t,e,n){n=nr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){uf(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){uf(t,e),typeof r!="function"&&(Ur===null?Ur=new Set([this]):Ur.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Qv(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $R;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=ZR.bind(null,t,e,n),e.then(t,t))}function Yv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xv(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nr(-1,1),e.tag=2,jr(n,e,1))),n.lanes|=1),t)}var jR=dr.ReactCurrentOwner,Vt=!1;function At(t,e,n,r){e.child=t===null?Sw(e,null,n,r):No(e,t.child,n,r)}function Jv(t,e,n,r,i){n=n.render;var o=e.ref;return Eo(e,i),r=Op(t,e,n,r,o,i),n=Mp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(Oe&&n&&Tp(e),e.flags|=1,At(t,e,r,i),e.child)}function Zv(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!qp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,Kw(t,e,o,r,i)):(t=tu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:la,n(s,r)&&t.ref===e.ref)return sr(t,e,i)}return e.flags|=1,t=zr(o,r),t.ref=e.ref,t.return=e,e.child=t}function Kw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(la(o,r)&&t.ref===e.ref)if(Vt=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Vt=!0);else return e.lanes=t.lanes,sr(t,e,i)}return cf(t,e,n,r,i)}function Qw(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pe(go,Ht),Ht|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Pe(go,Ht),Ht|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Pe(go,Ht),Ht|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Pe(go,Ht),Ht|=r;return At(t,e,i,n),e.child}function Yw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cf(t,e,n,r,i){var o=Mt(n)?Pi:It.current;return o=bo(e,o),Eo(e,i),n=Op(t,e,n,r,o,i),r=Mp(),t!==null&&!Vt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,sr(t,e,i)):(Oe&&r&&Tp(e),e.flags|=1,At(t,e,n,i),e.child)}function ey(t,e,n,r,i){if(Mt(n)){var o=!0;Tu(e)}else o=!1;if(Eo(e,i),e.stateNode===null)Jl(t,e),Hw(e,n,r),lf(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=an(c):(c=Mt(n)?Pi:It.current,c=bo(e,c));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||u!==c)&&Kv(e,s,r,c),Ir=!1;var m=e.memoizedState;s.state=m,Pu(e,r,s,i),u=e.memoizedState,a!==r||m!==u||Ot.current||Ir?(typeof h=="function"&&(af(e,n,h,r),u=e.memoizedState),(a=Ir||Gv(e,n,a,r,m,u,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Iw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:pn(e.type,a),s.props=c,f=e.pendingProps,m=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=an(u):(u=Mt(n)?Pi:It.current,u=bo(e,u));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||m!==u)&&Kv(e,s,r,u),Ir=!1,m=e.memoizedState,s.state=m,Pu(e,r,s,i);var w=e.memoizedState;a!==f||m!==w||Ot.current||Ir?(typeof g=="function"&&(af(e,n,g,r),w=e.memoizedState),(c=Ir||Gv(e,n,c,r,m,w,u)||!1)?(h||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,w,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,w,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),s.props=r,s.state=w,s.context=u,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return df(t,e,n,r,o,i)}function df(t,e,n,r,i,o){Yw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&$v(e,n,!1),sr(t,e,o);r=e.stateNode,jR.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=No(e,t.child,null,o),e.child=No(e,null,a,o)):At(t,e,a,o),e.memoizedState=r.state,i&&$v(e,n,!0),e.child}function Xw(t){var e=t.stateNode;e.pendingContext?Fv(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Fv(t,e.context,!1),xp(t,e.containerInfo)}function ty(t,e,n,r,i){return xo(),Cp(i),e.flags|=256,At(t,e,n,r),e.child}var hf={dehydrated:null,treeContext:null,retryLane:0};function ff(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jw(t,e,n){var r=e.pendingProps,i=Le.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Pe(Le,i&1),t===null)return of(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=mc(s,r,0,null),t=Ti(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=ff(n),e.memoizedState=hf,t):$p(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return UR(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=zr(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=zr(a,o):(o=Ti(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?ff(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=hf,r}return o=t.child,t=o.sibling,r=zr(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $p(t,e){return e=mc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Al(t,e,n,r){return r!==null&&Cp(r),No(e,t.child,null,n),t=$p(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function UR(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Zd(Error(B(422))),Al(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=mc({mode:"visible",children:r.children},i,0,null),o=Ti(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&No(e,t.child,null,s),e.child.memoizedState=ff(s),e.memoizedState=hf,o);if(!(e.mode&1))return Al(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(B(419)),r=Zd(o,r,void 0),Al(t,e,s,r)}if(a=(s&t.childLanes)!==0,Vt||a){if(r=ot,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,or(t,i),wn(r,t,i,-1))}return Hp(),r=Zd(Error(B(421))),Al(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=eA.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,qt=$r(i.nextSibling),Kt=e,Oe=!0,gn=null,t!==null&&(nn[rn++]=Yn,nn[rn++]=Xn,nn[rn++]=ki,Yn=t.id,Xn=t.overflow,ki=e),e=$p(e,r.children),e.flags|=4096,e)}function ny(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),sf(t.return,e,n)}function eh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Zw(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(At(t,e,r.children,n),r=Le.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ny(t,n,e);else if(t.tag===19)ny(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Pe(Le,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ku(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),eh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ku(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}eh(e,!0,n,null,o);break;case"together":eh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function sr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=zr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function BR(t,e,n){switch(e.tag){case 3:Xw(e),xo();break;case 5:Cw(e);break;case 1:Mt(e.type)&&Tu(e);break;case 4:xp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Pe(Ru,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Pe(Le,Le.current&1),e.flags|=128,null):n&e.child.childLanes?Jw(t,e,n):(Pe(Le,Le.current&1),t=sr(t,e,n),t!==null?t.sibling:null);Pe(Le,Le.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Zw(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Pe(Le,Le.current),r)break;return null;case 22:case 23:return e.lanes=0,Qw(t,e,n)}return sr(t,e,n)}var eE,pf,tE,nE;eE=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pf=function(){};tE=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_i(Vn.current);var o=null;switch(n){case"input":i=Oh(t,i),r=Oh(t,r),o=[];break;case"select":i=$e({},i,{value:void 0}),r=$e({},r,{value:void 0}),o=[];break;case"textarea":i=Fh(t,i),r=Fh(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Eu)}jh(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ta.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&a[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(o=o||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ta.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&be("scroll",t),o||a===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(e.updateQueue=c)&&(e.flags|=4)}};nE=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ps(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function zR(t,e,n){var r=e.pendingProps;switch(Ip(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return Mt(e.type)&&Su(),_t(e),null;case 3:return r=e.stateNode,Do(),xe(Ot),xe(It),Dp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cl(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,gn!==null&&(Sf(gn),gn=null))),pf(t,e),_t(e),null;case 5:Np(e);var i=_i(fa.current);if(n=e.type,t!==null&&e.stateNode!=null)tE(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(B(166));return _t(e),null}if(t=_i(Vn.current),Cl(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xn]=e,r[da]=o,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(i=0;i<Ls.length;i++)be(Ls[i],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":dv(r,o),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},be("invalid",r);break;case"textarea":fv(r,o),be("invalid",r)}jh(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Il(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Il(r.textContent,a,t),i=["children",""+a]):ta.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&be("scroll",r)}switch(n){case"input":gl(r),hv(r,o,!0);break;case"textarea":gl(r),pv(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Eu)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b_(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[xn]=e,t[da]=r,eE(t,e,!1,!1),e.stateNode=t;e:{switch(s=Uh(n,r),n){case"dialog":be("cancel",t),be("close",t),i=r;break;case"iframe":case"object":case"embed":be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ls.length;i++)be(Ls[i],t);i=r;break;case"source":be("error",t),i=r;break;case"img":case"image":case"link":be("error",t),be("load",t),i=r;break;case"details":be("toggle",t),i=r;break;case"input":dv(t,r),i=Oh(t,r),be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$e({},r,{value:void 0}),be("invalid",t);break;case"textarea":fv(t,r),i=Fh(t,r),be("invalid",t);break;default:i=r}jh(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var u=a[o];o==="style"?D_(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&x_(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&na(t,u):typeof u=="number"&&na(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ta.hasOwnProperty(o)?u!=null&&o==="onScroll"&&be("scroll",t):u!=null&&up(t,o,u,s))}switch(n){case"input":gl(t),hv(t,r,!1);break;case"textarea":gl(t),pv(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Qr(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?vo(t,!!r.multiple,o,!1):r.defaultValue!=null&&vo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Eu)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)nE(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(n=_i(fa.current),_i(Vn.current),Cl(e)){if(r=e.stateNode,n=e.memoizedProps,r[xn]=e,(o=r.nodeValue!==n)&&(t=Kt,t!==null))switch(t.tag){case 3:Il(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Il(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xn]=e,e.stateNode=r}return _t(e),null;case 13:if(xe(Le),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&qt!==null&&e.mode&1&&!(e.flags&128))ww(),xo(),e.flags|=98560,o=!1;else if(o=Cl(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(B(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(B(317));o[xn]=e}else xo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),o=!1}else gn!==null&&(Sf(gn),gn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Le.current&1?et===0&&(et=3):Hp())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return Do(),pf(t,e),t===null&&ua(e.stateNode.containerInfo),_t(e),null;case 10:return Pp(e.type._context),_t(e),null;case 17:return Mt(e.type)&&Su(),_t(e),null;case 19:if(xe(Le),o=e.memoizedState,o===null)return _t(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Ps(o,!1);else{if(et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=ku(t),s!==null){for(e.flags|=128,Ps(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Pe(Le,Le.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ge()>Oo&&(e.flags|=128,r=!0,Ps(o,!1),e.lanes=4194304)}else{if(!r)if(t=ku(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ps(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Oe)return _t(e),null}else 2*Ge()-o.renderingStartTime>Oo&&n!==1073741824&&(e.flags|=128,r=!0,Ps(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ge(),e.sibling=null,n=Le.current,Pe(Le,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return Wp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ht&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(B(156,e.tag))}function WR(t,e){switch(Ip(e),e.tag){case 1:return Mt(e.type)&&Su(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Do(),xe(Ot),xe(It),Dp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Np(e),null;case 13:if(xe(Le),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));xo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return xe(Le),null;case 4:return Do(),null;case 10:return Pp(e.type._context),null;case 22:case 23:return Wp(),null;case 24:return null;default:return null}}var Pl=!1,St=!1,HR=typeof WeakSet=="function"?WeakSet:Set,K=null;function mo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){We(t,e,r)}else n.current=null}function mf(t,e,n){try{n()}catch(r){We(t,e,r)}}var ry=!1;function qR(t,e){if(Xh=yu,t=aw(),Sp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,u=-1,c=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(u=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++c===i&&(a=s),m===o&&++h===r&&(u=s),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jh={focusedElem:t,selectionRange:n},yu=!1,K=e;K!==null;)if(e=K,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,K=t;else for(;K!==null;){e=K;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var T=w.memoizedProps,A=w.memoizedState,y=e.stateNode,_=y.getSnapshotBeforeUpdate(e.elementType===e.type?T:pn(e.type,T),A);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(B(163))}}catch(N){We(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,K=t;break}K=e.return}return w=ry,ry=!1,w}function Gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&mf(e,n,o)}i=i.next}while(i!==r)}}function fc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function rE(t){var e=t.alternate;e!==null&&(t.alternate=null,rE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xn],delete e[da],delete e[tf],delete e[PR],delete e[kR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iE(t){return t.tag===5||t.tag===3||t.tag===4}function iy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Eu));else if(r!==4&&(t=t.child,t!==null))for(vf(t,e,n),t=t.sibling;t!==null;)vf(t,e,n),t=t.sibling}function yf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yf(t,e,n),t=t.sibling;t!==null;)yf(t,e,n),t=t.sibling}var ut=null,mn=!1;function Er(t,e,n){for(n=n.child;n!==null;)oE(t,e,n),n=n.sibling}function oE(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(oc,n)}catch{}switch(n.tag){case 5:St||mo(n,e);case 6:var r=ut,i=mn;ut=null,Er(t,e,n),ut=r,mn=i,ut!==null&&(mn?(t=ut,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(mn?(t=ut,n=n.stateNode,t.nodeType===8?Gd(t.parentNode,n):t.nodeType===1&&Gd(t,n),sa(t)):Gd(ut,n.stateNode));break;case 4:r=ut,i=mn,ut=n.stateNode.containerInfo,mn=!0,Er(t,e,n),ut=r,mn=i;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&mf(n,e,s),i=i.next}while(i!==r)}Er(t,e,n);break;case 1:if(!St&&(mo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){We(n,e,a)}Er(t,e,n);break;case 21:Er(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Er(t,e,n),St=r):Er(t,e,n);break;default:Er(t,e,n)}}function oy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new HR),e.forEach(function(r){var i=tA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:ut=a.stateNode,mn=!1;break e;case 3:ut=a.stateNode.containerInfo,mn=!0;break e;case 4:ut=a.stateNode.containerInfo,mn=!0;break e}a=a.return}if(ut===null)throw Error(B(160));oE(o,s,i),ut=null,mn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){We(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)sE(e,t),e=e.sibling}function sE(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(fn(e,t),Pn(t),r&4){try{Gs(3,t,t.return),fc(3,t)}catch(T){We(t,t.return,T)}try{Gs(5,t,t.return)}catch(T){We(t,t.return,T)}}break;case 1:fn(e,t),Pn(t),r&512&&n!==null&&mo(n,n.return);break;case 5:if(fn(e,t),Pn(t),r&512&&n!==null&&mo(n,n.return),t.flags&32){var i=t.stateNode;try{na(i,"")}catch(T){We(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&P_(i,o),Uh(a,s);var c=Uh(a,o);for(s=0;s<u.length;s+=2){var h=u[s],f=u[s+1];h==="style"?D_(i,f):h==="dangerouslySetInnerHTML"?x_(i,f):h==="children"?na(i,f):up(i,h,f,c)}switch(a){case"input":Mh(i,o);break;case"textarea":k_(i,o);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?vo(i,!!o.multiple,g,!1):m!==!!o.multiple&&(o.defaultValue!=null?vo(i,!!o.multiple,o.defaultValue,!0):vo(i,!!o.multiple,o.multiple?[]:"",!1))}i[da]=o}catch(T){We(t,t.return,T)}}break;case 6:if(fn(e,t),Pn(t),r&4){if(t.stateNode===null)throw Error(B(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(T){We(t,t.return,T)}}break;case 3:if(fn(e,t),Pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{sa(e.containerInfo)}catch(T){We(t,t.return,T)}break;case 4:fn(e,t),Pn(t);break;case 13:fn(e,t),Pn(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Bp=Ge())),r&4&&oy(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(St=(c=St)||h,fn(e,t),St=c):fn(e,t),Pn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(K=t,h=t.child;h!==null;){for(f=K=h;K!==null;){switch(m=K,g=m.child,m.tag){case 0:case 11:case 14:case 15:Gs(4,m,m.return);break;case 1:mo(m,m.return);var w=m.stateNode;if(typeof w.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(T){We(r,n,T)}}break;case 5:mo(m,m.return);break;case 22:if(m.memoizedState!==null){ay(f);continue}}g!==null?(g.return=m,K=g):ay(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,u=f.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=N_("display",s))}catch(T){We(t,t.return,T)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){We(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:fn(e,t),Pn(t),r&4&&oy(t);break;case 21:break;default:fn(e,t),Pn(t)}}function Pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(iE(n)){var r=n;break e}n=n.return}throw Error(B(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(na(i,""),r.flags&=-33);var o=iy(t);yf(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=iy(t);vf(t,a,s);break;default:throw Error(B(161))}}catch(u){We(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GR(t,e,n){K=t,aE(t)}function aE(t,e,n){for(var r=(t.mode&1)!==0;K!==null;){var i=K,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Pl;if(!s){var a=i.alternate,u=a!==null&&a.memoizedState!==null||St;a=Pl;var c=St;if(Pl=s,(St=u)&&!c)for(K=i;K!==null;)s=K,u=s.child,s.tag===22&&s.memoizedState!==null?ly(i):u!==null?(u.return=s,K=u):ly(i);for(;o!==null;)K=o,aE(o),o=o.sibling;K=i,Pl=a,St=c}sy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,K=o):sy(t)}}function sy(t){for(;K!==null;){var e=K;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||fc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Wv(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Wv(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&sa(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(B(163))}St||e.flags&512&&gf(e)}catch(m){We(e,e.return,m)}}if(e===t){K=null;break}if(n=e.sibling,n!==null){n.return=e.return,K=n;break}K=e.return}}function ay(t){for(;K!==null;){var e=K;if(e===t){K=null;break}var n=e.sibling;if(n!==null){n.return=e.return,K=n;break}K=e.return}}function ly(t){for(;K!==null;){var e=K;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{fc(4,e)}catch(u){We(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){We(e,i,u)}}var o=e.return;try{gf(e)}catch(u){We(e,o,u)}break;case 5:var s=e.return;try{gf(e)}catch(u){We(e,s,u)}}}catch(u){We(e,e.return,u)}if(e===t){K=null;break}var a=e.sibling;if(a!==null){a.return=e.return,K=a;break}K=e.return}}var KR=Math.ceil,Nu=dr.ReactCurrentDispatcher,jp=dr.ReactCurrentOwner,sn=dr.ReactCurrentBatchConfig,ye=0,ot=null,Ye=null,ht=0,Ht=0,go=ri(0),et=0,va=null,xi=0,pc=0,Up=0,Ks=null,Nt=null,Bp=0,Oo=1/0,qn=null,Du=!1,_f=null,Ur=null,kl=!1,Dr=null,Vu=0,Qs=0,wf=null,Zl=-1,eu=0;function Pt(){return ye&6?Ge():Zl!==-1?Zl:Zl=Ge()}function Br(t){return t.mode&1?ye&2&&ht!==0?ht&-ht:xR.transition!==null?(eu===0&&(eu=H_()),eu):(t=Ie,t!==0||(t=window.event,t=t===void 0?16:J_(t.type)),t):1}function wn(t,e,n,r){if(50<Qs)throw Qs=0,wf=null,Error(B(185));Na(t,n,r),(!(ye&2)||t!==ot)&&(t===ot&&(!(ye&2)&&(pc|=n),et===4&&Ar(t,ht)),Lt(t,r),n===1&&ye===0&&!(e.mode&1)&&(Oo=Ge()+500,cc&&ii()))}function Lt(t,e){var n=t.callbackNode;xC(t,e);var r=vu(t,t===ot?ht:0);if(r===0)n!==null&&vv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&vv(n),e===1)t.tag===0?bR(uy.bind(null,t)):vw(uy.bind(null,t)),RR(function(){!(ye&6)&&ii()}),n=null;else{switch(q_(r)){case 1:n=pp;break;case 4:n=z_;break;case 16:n=gu;break;case 536870912:n=W_;break;default:n=gu}n=mE(n,lE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function lE(t,e){if(Zl=-1,eu=0,ye&6)throw Error(B(327));var n=t.callbackNode;if(So()&&t.callbackNode!==n)return null;var r=vu(t,t===ot?ht:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ou(t,r);else{e=r;var i=ye;ye|=2;var o=cE();(ot!==t||ht!==e)&&(qn=null,Oo=Ge()+500,Si(t,e));do try{XR();break}catch(a){uE(t,a)}while(!0);Ap(),Nu.current=o,ye=i,Ye!==null?e=0:(ot=null,ht=0,e=et)}if(e!==0){if(e===2&&(i=qh(t),i!==0&&(r=i,e=Ef(t,i))),e===1)throw n=va,Si(t,0),Ar(t,r),Lt(t,Ge()),n;if(e===6)Ar(t,r);else{if(i=t.current.alternate,!(r&30)&&!QR(i)&&(e=Ou(t,r),e===2&&(o=qh(t),o!==0&&(r=o,e=Ef(t,o))),e===1))throw n=va,Si(t,0),Ar(t,r),Lt(t,Ge()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(B(345));case 2:fi(t,Nt,qn);break;case 3:if(Ar(t,r),(r&130023424)===r&&(e=Bp+500-Ge(),10<e)){if(vu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Pt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ef(fi.bind(null,t,Nt,qn),e);break}fi(t,Nt,qn);break;case 4:if(Ar(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-_n(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ge()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*KR(r/1960))-r,10<r){t.timeoutHandle=ef(fi.bind(null,t,Nt,qn),r);break}fi(t,Nt,qn);break;case 5:fi(t,Nt,qn);break;default:throw Error(B(329))}}}return Lt(t,Ge()),t.callbackNode===n?lE.bind(null,t):null}function Ef(t,e){var n=Ks;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=Ou(t,e),t!==2&&(e=Nt,Nt=n,e!==null&&Sf(e)),t}function Sf(t){Nt===null?Nt=t:Nt.push.apply(Nt,t)}function QR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Tn(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ar(t,e){for(e&=~Up,e&=~pc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-_n(e),r=1<<n;t[n]=-1,e&=~r}}function uy(t){if(ye&6)throw Error(B(327));So();var e=vu(t,0);if(!(e&1))return Lt(t,Ge()),null;var n=Ou(t,e);if(t.tag!==0&&n===2){var r=qh(t);r!==0&&(e=r,n=Ef(t,r))}if(n===1)throw n=va,Si(t,0),Ar(t,e),Lt(t,Ge()),n;if(n===6)throw Error(B(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fi(t,Nt,qn),Lt(t,Ge()),null}function zp(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(Oo=Ge()+500,cc&&ii())}}function Ni(t){Dr!==null&&Dr.tag===0&&!(ye&6)&&So();var e=ye;ye|=1;var n=sn.transition,r=Ie;try{if(sn.transition=null,Ie=1,t)return t()}finally{Ie=r,sn.transition=n,ye=e,!(ye&6)&&ii()}}function Wp(){Ht=go.current,xe(go)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CR(n)),Ye!==null)for(n=Ye.return;n!==null;){var r=n;switch(Ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Su();break;case 3:Do(),xe(Ot),xe(It),Dp();break;case 5:Np(r);break;case 4:Do();break;case 13:xe(Le);break;case 19:xe(Le);break;case 10:Pp(r.type._context);break;case 22:case 23:Wp()}n=n.return}if(ot=t,Ye=t=zr(t.current,null),ht=Ht=e,et=0,va=null,Up=pc=xi=0,Nt=Ks=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}yi=null}return t}function uE(t,e){do{var n=Ye;try{if(Ap(),Yl.current=xu,bu){for(var r=Fe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}bu=!1}if(bi=0,it=Je=Fe=null,qs=!1,pa=0,jp.current=null,n===null||n.return===null){et=1,va=e,Ye=null;break}e:{var o=t,s=n.return,a=n,u=e;if(e=ht,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Yv(s);if(g!==null){g.flags&=-257,Xv(g,s,a,o,e),g.mode&1&&Qv(o,c,e),e=g,u=c;var w=e.updateQueue;if(w===null){var T=new Set;T.add(u),e.updateQueue=T}else w.add(u);break e}else{if(!(e&1)){Qv(o,c,e),Hp();break e}u=Error(B(426))}}else if(Oe&&a.mode&1){var A=Yv(s);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Xv(A,s,a,o,e),Cp(Vo(u,a));break e}}o=u=Vo(u,a),et!==4&&(et=2),Ks===null?Ks=[o]:Ks.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var y=qw(o,u,e);zv(o,y);break e;case 1:a=u;var _=o.type,S=o.stateNode;if(!(o.flags&128)&&(typeof _.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ur===null||!Ur.has(S)))){o.flags|=65536,e&=-e,o.lanes|=e;var N=Gw(o,a,e);zv(o,N);break e}}o=o.return}while(o!==null)}hE(n)}catch(M){e=M,Ye===n&&n!==null&&(Ye=n=n.return);continue}break}while(!0)}function cE(){var t=Nu.current;return Nu.current=xu,t===null?xu:t}function Hp(){(et===0||et===3||et===2)&&(et=4),ot===null||!(xi&268435455)&&!(pc&268435455)||Ar(ot,ht)}function Ou(t,e){var n=ye;ye|=2;var r=cE();(ot!==t||ht!==e)&&(qn=null,Si(t,e));do try{YR();break}catch(i){uE(t,i)}while(!0);if(Ap(),ye=n,Nu.current=r,Ye!==null)throw Error(B(261));return ot=null,ht=0,et}function YR(){for(;Ye!==null;)dE(Ye)}function XR(){for(;Ye!==null&&!SC();)dE(Ye)}function dE(t){var e=pE(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,e===null?hE(t):Ye=e,jp.current=null}function hE(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=WR(n,e),n!==null){n.flags&=32767,Ye=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{et=6,Ye=null;return}}else if(n=zR(n,e,Ht),n!==null){Ye=n;return}if(e=e.sibling,e!==null){Ye=e;return}Ye=e=t}while(e!==null);et===0&&(et=5)}function fi(t,e,n){var r=Ie,i=sn.transition;try{sn.transition=null,Ie=1,JR(t,e,n,r)}finally{sn.transition=i,Ie=r}return null}function JR(t,e,n,r){do So();while(Dr!==null);if(ye&6)throw Error(B(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(B(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(NC(t,o),t===ot&&(Ye=ot=null,ht=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||kl||(kl=!0,mE(gu,function(){return So(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=sn.transition,sn.transition=null;var s=Ie;Ie=1;var a=ye;ye|=4,jp.current=null,qR(t,n),sE(n,t),yR(Jh),yu=!!Xh,Jh=Xh=null,t.current=n,GR(n),TC(),ye=a,Ie=s,sn.transition=o}else t.current=n;if(kl&&(kl=!1,Dr=t,Vu=i),o=t.pendingLanes,o===0&&(Ur=null),RC(n.stateNode),Lt(t,Ge()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Du)throw Du=!1,t=_f,_f=null,t;return Vu&1&&t.tag!==0&&So(),o=t.pendingLanes,o&1?t===wf?Qs++:(Qs=0,wf=t):Qs=0,ii(),null}function So(){if(Dr!==null){var t=q_(Vu),e=sn.transition,n=Ie;try{if(sn.transition=null,Ie=16>t?16:t,Dr===null)var r=!1;else{if(t=Dr,Dr=null,Vu=0,ye&6)throw Error(B(331));var i=ye;for(ye|=4,K=t.current;K!==null;){var o=K,s=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(K=c;K!==null;){var h=K;switch(h.tag){case 0:case 11:case 15:Gs(8,h,o)}var f=h.child;if(f!==null)f.return=h,K=f;else for(;K!==null;){h=K;var m=h.sibling,g=h.return;if(rE(h),h===c){K=null;break}if(m!==null){m.return=g,K=m;break}K=g}}}var w=o.alternate;if(w!==null){var T=w.child;if(T!==null){w.child=null;do{var A=T.sibling;T.sibling=null,T=A}while(T!==null)}}K=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,K=s;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Gs(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,K=y;break e}K=o.return}}var _=t.current;for(K=_;K!==null;){s=K;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,K=S;else e:for(s=_;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:fc(9,a)}}catch(M){We(a,a.return,M)}if(a===s){K=null;break e}var N=a.sibling;if(N!==null){N.return=a.return,K=N;break e}K=a.return}}if(ye=i,ii(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(oc,t)}catch{}r=!0}return r}finally{Ie=n,sn.transition=e}}return!1}function cy(t,e,n){e=Vo(n,e),e=qw(t,e,1),t=jr(t,e,1),e=Pt(),t!==null&&(Na(t,1,e),Lt(t,e))}function We(t,e,n){if(t.tag===3)cy(t,t,n);else for(;e!==null;){if(e.tag===3){cy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ur===null||!Ur.has(r))){t=Vo(n,t),t=Gw(e,t,1),e=jr(e,t,1),t=Pt(),e!==null&&(Na(e,1,t),Lt(e,t));break}}e=e.return}}function ZR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Pt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ht&n)===n&&(et===4||et===3&&(ht&130023424)===ht&&500>Ge()-Bp?Si(t,0):Up|=n),Lt(t,e)}function fE(t,e){e===0&&(t.mode&1?(e=_l,_l<<=1,!(_l&130023424)&&(_l=4194304)):e=1);var n=Pt();t=or(t,e),t!==null&&(Na(t,e,n),Lt(t,n))}function eA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),fE(t,n)}function tA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(B(314))}r!==null&&r.delete(e),fE(t,n)}var pE;pE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ot.current)Vt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Vt=!1,BR(t,e,n);Vt=!!(t.flags&131072)}else Vt=!1,Oe&&e.flags&1048576&&yw(e,Cu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Jl(t,e),t=e.pendingProps;var i=bo(e,It.current);Eo(e,n),i=Op(null,e,r,t,i,n);var o=Mp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Mt(r)?(o=!0,Tu(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,bp(e),i.updater=hc,e.stateNode=i,i._reactInternals=e,lf(e,r,t,n),e=df(null,e,r,!0,o,n)):(e.tag=0,Oe&&o&&Tp(e),At(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Jl(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=rA(r),t=pn(r,t),i){case 0:e=cf(null,e,r,t,n);break e;case 1:e=ey(null,e,r,t,n);break e;case 11:e=Jv(null,e,r,t,n);break e;case 14:e=Zv(null,e,r,pn(r.type,t),n);break e}throw Error(B(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),cf(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),ey(t,e,r,i,n);case 3:e:{if(Xw(e),t===null)throw Error(B(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Iw(t,e),Pu(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Vo(Error(B(423)),e),e=ty(t,e,r,n,i);break e}else if(r!==i){i=Vo(Error(B(424)),e),e=ty(t,e,r,n,i);break e}else for(qt=$r(e.stateNode.containerInfo.firstChild),Kt=e,Oe=!0,gn=null,n=Sw(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xo(),r===i){e=sr(t,e,n);break e}At(t,e,r,n)}e=e.child}return e;case 5:return Cw(e),t===null&&of(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,Zh(r,i)?s=null:o!==null&&Zh(r,o)&&(e.flags|=32),Yw(t,e),At(t,e,s,n),e.child;case 6:return t===null&&of(e),null;case 13:return Jw(t,e,n);case 4:return xp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=No(e,null,r,n):At(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Jv(t,e,r,i,n);case 7:return At(t,e,e.pendingProps,n),e.child;case 8:return At(t,e,e.pendingProps.children,n),e.child;case 12:return At(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Pe(Ru,r._currentValue),r._currentValue=s,o!==null)if(Tn(o.value,s)){if(o.children===i.children&&!Ot.current){e=sr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=nr(-1,n&-n),u.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),sf(o.return,n,e),a.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),sf(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}At(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Eo(e,n),i=an(i),r=r(i),e.flags|=1,At(t,e,r,n),e.child;case 14:return r=e.type,i=pn(r,e.pendingProps),i=pn(r.type,i),Zv(t,e,r,i,n);case 15:return Kw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pn(r,i),Jl(t,e),e.tag=1,Mt(r)?(t=!0,Tu(e)):t=!1,Eo(e,n),Hw(e,r,i),lf(e,r,i,n),df(null,e,r,!0,t,n);case 19:return Zw(t,e,n);case 22:return Qw(t,e,n)}throw Error(B(156,e.tag))};function mE(t,e){return B_(t,e)}function nA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new nA(t,e,n,r)}function qp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function rA(t){if(typeof t=="function")return qp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dp)return 11;if(t===hp)return 14}return 2}function zr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function tu(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")qp(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case oo:return Ti(n.children,i,o,e);case cp:s=8,i|=8;break;case xh:return t=on(12,n,e,i|2),t.elementType=xh,t.lanes=o,t;case Nh:return t=on(13,n,e,i),t.elementType=Nh,t.lanes=o,t;case Dh:return t=on(19,n,e,i),t.elementType=Dh,t.lanes=o,t;case C_:return mc(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T_:s=10;break e;case I_:s=9;break e;case dp:s=11;break e;case hp:s=14;break e;case Tr:s=16,r=null;break e}throw Error(B(130,t==null?t:typeof t,""))}return e=on(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Ti(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function mc(t,e,n,r){return t=on(22,t,r,e),t.elementType=C_,t.lanes=n,t.stateNode={isHidden:!1},t}function th(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function nh(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function iA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Md(0),this.expirationTimes=Md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Md(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gp(t,e,n,r,i,o,s,a,u){return t=new iA(t,e,n,a,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=on(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bp(o),t}function oA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function gE(t){if(!t)return Yr;t=t._reactInternals;e:{if(Ui(t)!==t||t.tag!==1)throw Error(B(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Mt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(B(171))}if(t.tag===1){var n=t.type;if(Mt(n))return gw(t,n,e)}return e}function vE(t,e,n,r,i,o,s,a,u){return t=Gp(n,r,!0,t,i,o,s,a,u),t.context=gE(null),n=t.current,r=Pt(),i=Br(n),o=nr(r,i),o.callback=e??null,jr(n,o,i),t.current.lanes=i,Na(t,i,r),Lt(t,r),t}function gc(t,e,n,r){var i=e.current,o=Pt(),s=Br(i);return n=gE(n),e.context===null?e.context=n:e.pendingContext=n,e=nr(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jr(i,e,s),t!==null&&(wn(t,i,s,o),Ql(t,i,s)),s}function Mu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Kp(t,e){dy(t,e),(t=t.alternate)&&dy(t,e)}function sA(){return null}var yE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Qp(t){this._internalRoot=t}vc.prototype.render=Qp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));gc(t,e,null,null)};vc.prototype.unmount=Qp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ni(function(){gc(null,t,null,null)}),e[ir]=null}};function vc(t){this._internalRoot=t}vc.prototype.unstable_scheduleHydration=function(t){if(t){var e=Q_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Rr.length&&e!==0&&e<Rr[n].priority;n++);Rr.splice(n,0,t),n===0&&X_(t)}};function Yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hy(){}function aA(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Mu(s);o.call(c)}}var s=vE(e,r,t,0,null,!1,!1,"",hy);return t._reactRootContainer=s,t[ir]=s.current,ua(t.nodeType===8?t.parentNode:t),Ni(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Mu(u);a.call(c)}}var u=Gp(t,0,!1,null,null,!1,!1,"",hy);return t._reactRootContainer=u,t[ir]=u.current,ua(t.nodeType===8?t.parentNode:t),Ni(function(){gc(e,u,n,r)}),u}function _c(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var u=Mu(s);a.call(u)}}gc(e,s,t,i)}else s=aA(n,e,t,i,r);return Mu(s)}G_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ms(e.pendingLanes);n!==0&&(mp(e,n|1),Lt(e,Ge()),!(ye&6)&&(Oo=Ge()+500,ii()))}break;case 13:Ni(function(){var r=or(t,1);if(r!==null){var i=Pt();wn(r,t,1,i)}}),Kp(t,1)}};gp=function(t){if(t.tag===13){var e=or(t,134217728);if(e!==null){var n=Pt();wn(e,t,134217728,n)}Kp(t,134217728)}};K_=function(t){if(t.tag===13){var e=Br(t),n=or(t,e);if(n!==null){var r=Pt();wn(n,t,e,r)}Kp(t,e)}};Q_=function(){return Ie};Y_=function(t,e){var n=Ie;try{return Ie=t,e()}finally{Ie=n}};zh=function(t,e,n){switch(e){case"input":if(Mh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=uc(r);if(!i)throw Error(B(90));A_(r),Mh(r,i)}}}break;case"textarea":k_(t,n);break;case"select":e=n.value,e!=null&&vo(t,!!n.multiple,e,!1)}};M_=zp;L_=Ni;var lA={usingClientEntryPoint:!1,Events:[Va,uo,uc,V_,O_,zp]},ks={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uA={bundleType:ks.bundleType,version:ks.version,rendererPackageName:ks.rendererPackageName,rendererConfig:ks.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:dr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=j_(t),t===null?null:t.stateNode},findFiberByHostInstance:ks.findFiberByHostInstance||sA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{oc=bl.inject(uA),Dn=bl}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lA;Xt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(e))throw Error(B(200));return oA(t,e,null,n)};Xt.createRoot=function(t,e){if(!Yp(t))throw Error(B(299));var n=!1,r="",i=yE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gp(t,1,!1,null,null,n,!1,r,i),t[ir]=e.current,ua(t.nodeType===8?t.parentNode:t),new Qp(e)};Xt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=j_(e),t=t===null?null:t.stateNode,t};Xt.flushSync=function(t){return Ni(t)};Xt.hydrate=function(t,e,n){if(!yc(e))throw Error(B(200));return _c(null,t,e,!0,n)};Xt.hydrateRoot=function(t,e,n){if(!Yp(t))throw Error(B(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=yE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=vE(e,null,t,1,n??null,i,!1,o,s),t[ir]=e.current,ua(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new vc(e)};Xt.render=function(t,e,n){if(!yc(e))throw Error(B(200));return _c(null,t,e,!1,n)};Xt.unmountComponentAtNode=function(t){if(!yc(t))throw Error(B(40));return t._reactRootContainer?(Ni(function(){_c(null,null,t,!1,function(){t._reactRootContainer=null,t[ir]=null})}),!0):!1};Xt.unstable_batchedUpdates=zp;Xt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!yc(n))throw Error(B(200));if(t==null||t._reactInternals===void 0)throw Error(B(38));return _c(t,e,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function _E(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_E)}catch(t){console.error(t)}}_E(),__.exports=Xt;var Xp=__.exports;const cA=a_(Xp);var wE,fy=Xp;wE=fy.createRoot,fy.hydrateRoot;var Nn=function(){return Nn=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Nn.apply(this,arguments)};function Ma(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function dA(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,o;r<i;r++)(o||!(r in e))&&(o||(o=Array.prototype.slice.call(e,0,r)),o[r]=e[r]);return t.concat(o||Array.prototype.slice.call(e))}var nu="right-scroll-bar-position",ru="width-before-scroll-bar",hA="with-scroll-bars-hidden",fA="--removed-body-scroll-bar-size";function rh(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function pA(t,e){var n=R.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var mA=typeof window<"u"?R.useLayoutEffect:R.useEffect,py=new WeakMap;function gA(t,e){var n=pA(null,function(r){return t.forEach(function(i){return rh(i,r)})});return mA(function(){var r=py.get(n);if(r){var i=new Set(r),o=new Set(t),s=n.current;i.forEach(function(a){o.has(a)||rh(a,null)}),o.forEach(function(a){i.has(a)||rh(a,s)})}py.set(n,t)},[t]),n}function vA(t){return t}function yA(t,e){e===void 0&&(e=vA);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(o){var s=e(o,r);return n.push(s),function(){n=n.filter(function(a){return a!==s})}},assignSyncMedium:function(o){for(r=!0;n.length;){var s=n;n=[],s.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var s=[];if(n.length){var a=n;n=[],a.forEach(o),s=n}var u=function(){var h=s;s=[],h.forEach(o)},c=function(){return Promise.resolve().then(u)};c(),n={push:function(h){s.push(h),c()},filter:function(h){return s=s.filter(h),n}}}};return i}function _A(t){t===void 0&&(t={});var e=yA(null);return e.options=Nn({async:!0,ssr:!1},t),e}var EE=function(t){var e=t.sideCar,n=Ma(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return R.createElement(r,Nn({},n))};EE.isSideCarExport=!0;function wA(t,e){return t.useMedium(e),EE}var SE=_A(),ih=function(){},wc=R.forwardRef(function(t,e){var n=R.useRef(null),r=R.useState({onScrollCapture:ih,onWheelCapture:ih,onTouchMoveCapture:ih}),i=r[0],o=r[1],s=t.forwardProps,a=t.children,u=t.className,c=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noIsolation,w=t.inert,T=t.allowPinchZoom,A=t.as,y=A===void 0?"div":A,_=t.gapMode,S=Ma(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),N=m,M=gA([n,e]),O=Nn(Nn({},S),i);return R.createElement(R.Fragment,null,h&&R.createElement(N,{sideCar:SE,removeScrollBar:c,shards:f,noIsolation:g,inert:w,setCallbacks:o,allowPinchZoom:!!T,lockRef:n,gapMode:_}),s?R.cloneElement(R.Children.only(a),Nn(Nn({},O),{ref:M})):R.createElement(y,Nn({},O,{className:u,ref:M}),a))});wc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};wc.classNames={fullWidth:ru,zeroRight:nu};var EA=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SA(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=EA();return e&&t.setAttribute("nonce",e),t}function TA(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function IA(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var CA=function(){var t=0,e=null;return{add:function(n){t==0&&(e=SA())&&(TA(e,n),IA(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},RA=function(){var t=CA();return function(e,n){R.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},TE=function(){var t=RA(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},AA={left:0,top:0,right:0,gap:0},oh=function(t){return parseInt(t||"",10)||0},PA=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[oh(n),oh(r),oh(i)]},kA=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return AA;var e=PA(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},bA=TE(),To="data-scroll-locked",xA=function(t,e,n,r){var i=t.left,o=t.top,s=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(hA,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(To,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(s,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nu,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(ru,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nu," .").concat(nu,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(ru," .").concat(ru,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(To,`] {
    `).concat(fA,": ").concat(a,`px;
  }
`)},my=function(){var t=parseInt(document.body.getAttribute(To)||"0",10);return isFinite(t)?t:0},NA=function(){R.useEffect(function(){return document.body.setAttribute(To,(my()+1).toString()),function(){var t=my()-1;t<=0?document.body.removeAttribute(To):document.body.setAttribute(To,t.toString())}},[])},DA=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;NA();var o=R.useMemo(function(){return kA(i)},[i]);return R.createElement(bA,{styles:xA(o,!e,i,n?"":"!important")})},Tf=!1;if(typeof window<"u")try{var xl=Object.defineProperty({},"passive",{get:function(){return Tf=!0,!0}});window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Tf=!1}var Yi=Tf?{passive:!1}:!1,VA=function(t){return t.tagName==="TEXTAREA"},IE=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!VA(t)&&n[e]==="visible")},OA=function(t){return IE(t,"overflowY")},MA=function(t){return IE(t,"overflowX")},gy=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=CE(t,r);if(i){var o=RE(t,r),s=o[1],a=o[2];if(s>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},LA=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},FA=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},CE=function(t,e){return t==="v"?OA(e):MA(e)},RE=function(t,e){return t==="v"?LA(e):FA(e)},$A=function(t,e){return t==="h"&&e==="rtl"?-1:1},jA=function(t,e,n,r,i){var o=$A(t,window.getComputedStyle(e).direction),s=o*r,a=n.target,u=e.contains(a),c=!1,h=s>0,f=0,m=0;do{var g=RE(t,a),w=g[0],T=g[1],A=g[2],y=T-A-o*w;(w||y)&&CE(t,a)&&(f+=y,m+=w),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!u&&a!==document.body||u&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(c=!0),c},Nl=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},vy=function(t){return[t.deltaX,t.deltaY]},yy=function(t){return t&&"current"in t?t.current:t},UA=function(t,e){return t[0]===e[0]&&t[1]===e[1]},BA=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},zA=0,Xi=[];function WA(t){var e=R.useRef([]),n=R.useRef([0,0]),r=R.useRef(),i=R.useState(zA++)[0],o=R.useState(TE)[0],s=R.useRef(t);R.useEffect(function(){s.current=t},[t]),R.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var T=dA([t.lockRef.current],(t.shards||[]).map(yy),!0).filter(Boolean);return T.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),T.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=R.useCallback(function(T,A){if("touches"in T&&T.touches.length===2||T.type==="wheel"&&T.ctrlKey)return!s.current.allowPinchZoom;var y=Nl(T),_=n.current,S="deltaX"in T?T.deltaX:_[0]-y[0],N="deltaY"in T?T.deltaY:_[1]-y[1],M,O=T.target,I=Math.abs(S)>Math.abs(N)?"h":"v";if("touches"in T&&I==="h"&&O.type==="range")return!1;var v=gy(I,O);if(!v)return!0;if(v?M=I:(M=I==="v"?"h":"v",v=gy(I,O)),!v)return!1;if(!r.current&&"changedTouches"in T&&(S||N)&&(r.current=M),!M)return!0;var C=r.current||M;return jA(C,A,T,C==="h"?S:N,!0)},[]),u=R.useCallback(function(T){var A=T;if(!(!Xi.length||Xi[Xi.length-1]!==o)){var y="deltaY"in A?vy(A):Nl(A),_=e.current.filter(function(M){return M.name===A.type&&(M.target===A.target||A.target===M.shadowParent)&&UA(M.delta,y)})[0];if(_&&_.should){A.cancelable&&A.preventDefault();return}if(!_){var S=(s.current.shards||[]).map(yy).filter(Boolean).filter(function(M){return M.contains(A.target)}),N=S.length>0?a(A,S[0]):!s.current.noIsolation;N&&A.cancelable&&A.preventDefault()}}},[]),c=R.useCallback(function(T,A,y,_){var S={name:T,delta:A,target:y,should:_,shadowParent:HA(y)};e.current.push(S),setTimeout(function(){e.current=e.current.filter(function(N){return N!==S})},1)},[]),h=R.useCallback(function(T){n.current=Nl(T),r.current=void 0},[]),f=R.useCallback(function(T){c(T.type,vy(T),T.target,a(T,t.lockRef.current))},[]),m=R.useCallback(function(T){c(T.type,Nl(T),T.target,a(T,t.lockRef.current))},[]);R.useEffect(function(){return Xi.push(o),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",u,Yi),document.addEventListener("touchmove",u,Yi),document.addEventListener("touchstart",h,Yi),function(){Xi=Xi.filter(function(T){return T!==o}),document.removeEventListener("wheel",u,Yi),document.removeEventListener("touchmove",u,Yi),document.removeEventListener("touchstart",h,Yi)}},[]);var g=t.removeScrollBar,w=t.inert;return R.createElement(R.Fragment,null,w?R.createElement(o,{styles:BA(i)}):null,g?R.createElement(DA,{gapMode:t.gapMode}):null)}function HA(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const qA=wA(SE,WA);var AE=R.forwardRef(function(t,e){return R.createElement(wc,Nn({},t,{ref:e,sideCar:qA}))});AE.classNames=wc.classNames;function On(t){return Object.keys(t)}function sh(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Jp(t,e){const n={...t},r=e;return sh(t)&&sh(e)&&Object.keys(e).forEach(i=>{sh(r[i])&&i in t?n[i]=Jp(n[i],r[i]):n[i]=r[i]}),n}function GA(t){return t.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}function KA(t){var e;return typeof t!="string"||!t.includes("var(--mantine-scale)")?t:(e=t.match(/^calc\((.*?)\)$/))==null?void 0:e[1].split("*")[0].trim()}function QA(t){const e=KA(t);return typeof e=="number"?e:typeof e=="string"?e.includes("calc")||e.includes("var")?e:e.includes("px")?Number(e.replace("px","")):e.includes("rem")?Number(e.replace("rem",""))*16:e.includes("em")?Number(e.replace("em",""))*16:Number(e):NaN}function ah(t){return t==="0rem"?"0rem":`calc(${t} * var(--mantine-scale))`}function PE(t,{shouldScale:e=!1}={}){function n(r){if(r===0||r==="0")return`0${t}`;if(typeof r=="number"){const i=`${r/16}${t}`;return e?ah(i):i}if(typeof r=="string"){if(r===""||r.startsWith("calc(")||r.startsWith("clamp(")||r.includes("rgba("))return r;if(r.includes(","))return r.split(",").map(o=>n(o)).join(",");if(r.includes(" "))return r.split(" ").map(o=>n(o)).join(" ");if(r.includes(t))return e?ah(r):r;const i=r.replace("px","");if(!Number.isNaN(Number(i))){const o=`${Number(i)/16}${t}`;return e?ah(o):o}}return r}return n}const F=PE("rem",{shouldScale:!0}),_y=PE("em");function Ec(t){return Object.keys(t).reduce((e,n)=>(t[n]!==void 0&&(e[n]=t[n]),e),{})}function kE(t){return typeof t=="number"?!0:typeof t=="string"?t.startsWith("calc(")||t.startsWith("var(")||t.includes(" ")&&t.trim()!==""?!0:/[0-9]/.test(t.trim().replace("-","")[0]):!1}function YA(t){return Array.isArray(t)||t===null?!1:typeof t=="object"?t.type!==R.Fragment:!1}function Sc(t){const e=R.createContext(null);return[({children:i,value:o})=>b.jsx(e.Provider,{value:o,children:i}),()=>{const i=R.useContext(e);if(i===null)throw new Error(t);return i}]}function XA(t=null){const e=R.createContext(t);return[({children:i,value:o})=>b.jsx(e.Provider,{value:o,children:i}),()=>R.useContext(e)]}const JA={app:100,modal:200,popover:300,overlay:400,max:9999};function Tc(t){return JA[t]}function Ft(t,e="size",n=!0){if(t!==void 0)return kE(t)?n?F(t):t:`var(--${e}-${t})`}function Ic(t){return Ft(t,"mantine-spacing")}function oi(t){return t===void 0?"var(--mantine-radius-default)":Ft(t,"mantine-radius")}function Mn(t){return Ft(t,"mantine-font-size")}function ZA(t){return Ft(t,"mantine-line-height",!1)}function bE(t){if(t)return Ft(t,"mantine-shadow",!1)}function Dl(t,e,n){return e===void 0&&n===void 0?t:e!==void 0&&n===void 0?Math.max(t,e):Math.min(e===void 0&&n!==void 0?t:Math.max(t,e),n)}function xE(){return`mantine-${Math.random().toString(36).slice(2,11)}`}function eP(t,e){if(t===e)return!0;if(!(t instanceof Object)||!(e instanceof Object))return!1;const n=Object.keys(t),{length:r}=n;if(r!==Object.keys(e).length)return!1;for(let i=0;i<r;i+=1){const o=n[i];if(!(o in e)||t[o]!==e[o])return!1}return!0}function mi(t){const e=R.useRef(t);return R.useEffect(()=>{e.current=t}),R.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Cc(t,e){const n=mi(t),r=R.useRef(0);return R.useEffect(()=>()=>window.clearTimeout(r.current),[]),R.useCallback((...i)=>{window.clearTimeout(r.current),r.current=window.setTimeout(()=>n(...i),e)},[n,e])}function tP(t,e){try{return t.addEventListener("change",e),()=>t.removeEventListener("change",e)}catch{return t.addListener(e),()=>t.removeListener(e)}}function nP(t,e){return typeof window<"u"&&"matchMedia"in window?window.matchMedia(t).matches:!1}function rP(t,e,{getInitialValueInEffect:n}={getInitialValueInEffect:!0}){const[r,i]=R.useState(n?e:nP(t)),o=R.useRef();return R.useEffect(()=>{if("matchMedia"in window)return o.current=window.matchMedia(t),i(o.current.matches),tP(o.current,s=>i(s.matches))},[t]),r}const La=typeof document<"u"?R.useLayoutEffect:R.useEffect;function NE(t,e){const n=R.useRef(!1);R.useEffect(()=>()=>{n.current=!1},[]),R.useEffect(()=>{if(n.current)return t();n.current=!0},e)}function iP({opened:t,shouldReturnFocus:e=!0}){const n=R.useRef(),r=()=>{var i;n.current&&"focus"in n.current&&typeof n.current.focus=="function"&&((i=n.current)==null||i.focus({preventScroll:!0}))};return NE(()=>{let i=-1;const o=s=>{s.key==="Tab"&&window.clearTimeout(i)};return document.addEventListener("keydown",o),t?n.current=document.activeElement:e&&(i=window.setTimeout(r,10)),()=>{window.clearTimeout(i),document.removeEventListener("keydown",o)}},[t,e]),r}function oP(t,e="body > :not(script)"){const n=xE(),r=Array.from(document.querySelectorAll(e)).map(i=>{var u;if((u=i==null?void 0:i.shadowRoot)!=null&&u.contains(t)||i.contains(t))return;const o=i.getAttribute("aria-hidden"),s=i.getAttribute("data-hidden"),a=i.getAttribute("data-focus-id");return i.setAttribute("data-focus-id",n),o===null||o==="false"?i.setAttribute("aria-hidden","true"):!s&&!a&&i.setAttribute("data-hidden",o),{node:i,ariaHidden:s||null}});return()=>{r.forEach(i=>{!i||n!==i.node.getAttribute("data-focus-id")||(i.ariaHidden===null?i.node.removeAttribute("aria-hidden"):i.node.setAttribute("aria-hidden",i.ariaHidden),i.node.removeAttribute("data-focus-id"),i.node.removeAttribute("data-hidden"))})}}const sP=/input|select|textarea|button|object/,DE="a, input, select, textarea, button, object, [tabindex]";function aP(t){return t.style.display==="none"}function lP(t){if(t.getAttribute("aria-hidden")||t.getAttribute("hidden")||t.getAttribute("type")==="hidden")return!1;let n=t;for(;n&&!(n===document.body||n.nodeType===11);){if(aP(n))return!1;n=n.parentNode}return!0}function VE(t){let e=t.getAttribute("tabindex");return e===null&&(e=void 0),parseInt(e,10)}function If(t){const e=t.nodeName.toLowerCase(),n=!Number.isNaN(VE(t));return(sP.test(e)&&!t.disabled||t instanceof HTMLAnchorElement&&t.href||n)&&lP(t)}function OE(t){const e=VE(t);return(Number.isNaN(e)||e>=0)&&If(t)}function uP(t){return Array.from(t.querySelectorAll(DE)).filter(OE)}function cP(t,e){const n=uP(t);if(!n.length){e.preventDefault();return}const r=n[e.shiftKey?0:n.length-1],i=t.getRootNode();let o=r===i.activeElement||t===i.activeElement;const s=i.activeElement;if(s.tagName==="INPUT"&&s.getAttribute("type")==="radio"&&(o=n.filter(h=>h.getAttribute("type")==="radio"&&h.getAttribute("name")===s.getAttribute("name")).includes(r)),!o)return;e.preventDefault();const u=n[e.shiftKey?n.length-1:0];u&&u.focus()}function dP(t=!0){const e=R.useRef(),n=R.useRef(null),r=o=>{let s=o.querySelector("[data-autofocus]");if(!s){const a=Array.from(o.querySelectorAll(DE));s=a.find(OE)||a.find(If)||null,!s&&If(o)&&(s=o)}s&&s.focus({preventScroll:!0})},i=R.useCallback(o=>{if(t){if(o===null){n.current&&(n.current(),n.current=null);return}n.current=oP(o),e.current!==o&&(o?(setTimeout(()=>{o.getRootNode()&&r(o)}),e.current=o):e.current=null)}},[t]);return R.useEffect(()=>{if(!t)return;e.current&&setTimeout(()=>r(e.current));const o=s=>{s.key==="Tab"&&e.current&&cP(e.current,s)};return document.addEventListener("keydown",o),()=>{document.removeEventListener("keydown",o),n.current&&n.current()}},[t]),i}const hP=Cr.useId||(()=>{});function fP(){const t=hP();return t?`mantine-${t.replace(/:/g,"")}`:""}function ME(t){const e=fP(),[n,r]=R.useState(e);return La(()=>{r(xE())},[]),typeof t=="string"?t:typeof window>"u"?e:n}function Cf(t,e,n){R.useEffect(()=>(window.addEventListener(t,e,n),()=>window.removeEventListener(t,e,n)),[t,e])}function pP(t,e="use-local-storage"){try{return JSON.stringify(t)}catch{throw new Error(`@mantine/hooks ${e}: Failed to serialize the value`)}}function mP(t){try{return t&&JSON.parse(t)}catch{return t}}function gP(t){return{getItem:i=>{try{return window[t].getItem(i)}catch{return console.warn("use-local-storage: Failed to get value from storage, localStorage is blocked"),null}},setItem:(i,o)=>{try{window[t].setItem(i,o)}catch{console.warn("use-local-storage: Failed to set value to storage, localStorage is blocked")}},removeItem:i=>{try{window[t].removeItem(i)}catch{console.warn("use-local-storage: Failed to remove value from storage, localStorage is blocked")}}}}function vP(t,e){const n="mantine-local-storage",{getItem:r,setItem:i,removeItem:o}=gP(t);return function({key:a,defaultValue:u,getInitialValueInEffect:c=!0,deserialize:h=mP,serialize:f=m=>pP(m,e)}){const m=R.useCallback(y=>{let _;try{_=typeof window>"u"||!(t in window)||window[t]===null||!!y}catch{_=!0}if(_)return u;const S=r(a);return S!==null?h(S):u},[a,u]),[g,w]=R.useState(m(c)),T=R.useCallback(y=>{y instanceof Function?w(_=>{const S=y(_);return i(a,f(S)),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:y(_)}})),S}):(i(a,f(y)),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:y}})),w(y))},[a]),A=R.useCallback(()=>{o(a),window.dispatchEvent(new CustomEvent(n,{detail:{key:a,value:u}}))},[]);return Cf("storage",y=>{y.storageArea===window[t]&&y.key===a&&w(h(y.newValue??void 0))}),Cf(n,y=>{y.detail.key===a&&w(y.detail.value)}),R.useEffect(()=>{u!==void 0&&g===void 0&&T(u)},[u,g,T]),R.useEffect(()=>{const y=m();y!==void 0&&T(y)},[]),[g===void 0?u:g,T,A]}}function Zp(t){return vP("localStorage","use-local-storage")(t)}function em(t,e){typeof t=="function"?t(e):typeof t=="object"&&t!==null&&"current"in t&&(t.current=e)}function yP(...t){return e=>{t.forEach(n=>em(n,e))}}function si(...t){return R.useCallback(yP(...t),t)}function _P({value:t,defaultValue:e,finalValue:n,onChange:r=()=>{}}){const[i,o]=R.useState(e!==void 0?e:n),s=(a,...u)=>{o(a),r==null||r(a,...u)};return t!==void 0?[t,r,!0]:[i,s,!1]}function LE(t,e){return rP("(prefers-reduced-motion: reduce)",t,e)}function wP(t,e){if(!t||!e)return!1;if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0;n<t.length;n+=1)if(!eP(t[n],e[n]))return!1;return!0}function EP(t){const e=R.useRef([]),n=R.useRef(0);return wP(e.current,t)||(e.current=t,n.current+=1),[n.current]}function SP(t,e){R.useEffect(t,EP(e))}function lh(t=!1,e){const{onOpen:n,onClose:r}={},[i,o]=R.useState(t),s=R.useCallback(()=>{o(c=>c||(n==null||n(),!0))},[n]),a=R.useCallback(()=>{o(c=>c&&(r==null||r(),!1))},[r]),u=R.useCallback(()=>{i?a():s()},[a,s,i]);return[i,{open:s,close:a,toggle:u}]}function FE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=FE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function $t(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=FE(t))&&(r&&(r+=" "),r+=e);return r}const TP={};function IP(t){const e={};return t.forEach(n=>{Object.entries(n).forEach(([r,i])=>{e[r]?e[r]=$t(e[r],i):e[r]=i})}),e}function Rc({theme:t,classNames:e,props:n,stylesCtx:r}){const o=(Array.isArray(e)?e:[e]).map(s=>typeof s=="function"?s(t,n,r):s||TP);return IP(o)}function Lu({theme:t,styles:e,props:n,stylesCtx:r}){return(Array.isArray(e)?e:[e]).reduce((o,s)=>typeof s=="function"?{...o,...s(t,n,r)}:{...o,...s},{})}const $E=R.createContext(null);function Bi(){const t=R.useContext($E);if(!t)throw new Error("[@mantine/core] MantineProvider was not found in tree");return t}function CP(){return Bi().cssVariablesResolver}function RP(){return Bi().classNamesPrefix}function tm(){return Bi().getStyleNonce}function AP(){return Bi().withStaticClasses}function PP(){return Bi().headless}function kP(){var t;return(t=Bi().stylesTransform)==null?void 0:t.sx}function bP(){var t;return(t=Bi().stylesTransform)==null?void 0:t.styles}function xP(t){return/^#?([0-9A-F]{3}){1,2}([0-9A-F]{2})?$/i.test(t)}function NP(t){let e=t.replace("#","");if(e.length===3){const s=e.split("");e=[s[0],s[0],s[1],s[1],s[2],s[2]].join("")}if(e.length===8){const s=parseInt(e.slice(6,8),16)/255;return{r:parseInt(e.slice(0,2),16),g:parseInt(e.slice(2,4),16),b:parseInt(e.slice(4,6),16),a:s}}const n=parseInt(e,16),r=n>>16&255,i=n>>8&255,o=n&255;return{r,g:i,b:o,a:1}}function DP(t){const[e,n,r,i]=t.replace(/[^0-9,./]/g,"").split(/[/,]/).map(Number);return{r:e,g:n,b:r,a:i||1}}function VP(t){const e=/^hsla?\(\s*(\d+)\s*,\s*(\d+%)\s*,\s*(\d+%)\s*(,\s*(0?\.\d+|\d+(\.\d+)?))?\s*\)$/i,n=t.match(e);if(!n)return{r:0,g:0,b:0,a:1};const r=parseInt(n[1],10),i=parseInt(n[2],10)/100,o=parseInt(n[3],10)/100,s=n[5]?parseFloat(n[5]):void 0,a=(1-Math.abs(2*o-1))*i,u=r/60,c=a*(1-Math.abs(u%2-1)),h=o-a/2;let f,m,g;return u>=0&&u<1?(f=a,m=c,g=0):u>=1&&u<2?(f=c,m=a,g=0):u>=2&&u<3?(f=0,m=a,g=c):u>=3&&u<4?(f=0,m=c,g=a):u>=4&&u<5?(f=c,m=0,g=a):(f=a,m=0,g=c),{r:Math.round((f+h)*255),g:Math.round((m+h)*255),b:Math.round((g+h)*255),a:s||1}}function nm(t){return xP(t)?NP(t):t.startsWith("rgb")?DP(t):t.startsWith("hsl")?VP(t):{r:0,g:0,b:0,a:1}}function Vl(t,e){if(t.startsWith("var("))return`color-mix(in srgb, ${t}, black ${e*100}%)`;const{r:n,g:r,b:i,a:o}=nm(t),s=1-e,a=u=>Math.round(u*s);return`rgba(${a(n)}, ${a(r)}, ${a(i)}, ${o})`}function ya(t,e){return typeof t.primaryShade=="number"?t.primaryShade:e==="dark"?t.primaryShade.dark:t.primaryShade.light}function uh(t){return t<=.03928?t/12.92:((t+.055)/1.055)**2.4}function OP(t){const e=t.match(/oklch\((.*?)%\s/);return e?parseFloat(e[1]):null}function MP(t){if(t.startsWith("oklch("))return(OP(t)||0)/100;const{r:e,g:n,b:r}=nm(t),i=e/255,o=n/255,s=r/255,a=uh(i),u=uh(o),c=uh(s);return .2126*a+.7152*u+.0722*c}function bs(t,e=.179){return t.startsWith("var(")?!1:MP(t)>e}function Fa({color:t,theme:e,colorScheme:n}){if(typeof t!="string")throw new Error(`[@mantine/core] Failed to parse color. Expected color to be a string, instead got ${typeof t}`);if(t==="bright")return{color:t,value:n==="dark"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:bs(n==="dark"?e.white:e.black,e.luminanceThreshold),variable:"--mantine-color-bright"};if(t==="dimmed")return{color:t,value:n==="dark"?e.colors.dark[2]:e.colors.gray[7],shade:void 0,isThemeColor:!1,isLight:bs(n==="dark"?e.colors.dark[2]:e.colors.gray[6],e.luminanceThreshold),variable:"--mantine-color-dimmed"};if(t==="white"||t==="black")return{color:t,value:t==="white"?e.white:e.black,shade:void 0,isThemeColor:!1,isLight:bs(t==="white"?e.white:e.black,e.luminanceThreshold),variable:`--mantine-color-${t}`};const[r,i]=t.split("."),o=i?Number(i):void 0,s=r in e.colors;if(s){const a=o!==void 0?e.colors[r][o]:e.colors[r][ya(e,n||"light")];return{color:r,value:a,shade:o,isThemeColor:s,isLight:bs(a,e.luminanceThreshold),variable:i?`--mantine-color-${r}-${o}`:`--mantine-color-${r}-filled`}}return{color:t,value:t,isThemeColor:s,isLight:bs(t,e.luminanceThreshold),shade:o,variable:void 0}}function Fu(t,e){const n=Fa({color:t||e.primaryColor,theme:e});return n.variable?`var(${n.variable})`:t}function Rf(t,e){const n={from:(t==null?void 0:t.from)||e.defaultGradient.from,to:(t==null?void 0:t.to)||e.defaultGradient.to,deg:(t==null?void 0:t.deg)||e.defaultGradient.deg||0},r=Fu(n.from,e),i=Fu(n.to,e);return`linear-gradient(${n.deg}deg, ${r} 0%, ${i} 100%)`}function bn(t,e){if(typeof t!="string"||e>1||e<0)return"rgba(0, 0, 0, 1)";if(t.startsWith("var(")){const o=(1-e)*100;return`color-mix(in srgb, ${t}, transparent ${o}%)`}if(t.startsWith("oklch"))return t.includes("/")?t.replace(/\/\s*[\d.]+\s*\)/,`/ ${e})`):t.replace(")",` / ${e})`);const{r:n,g:r,b:i}=nm(t);return`rgba(${n}, ${r}, ${i}, ${e})`}const Ji=bn,LP=({color:t,theme:e,variant:n,gradient:r,autoContrast:i})=>{const o=Fa({color:t,theme:e}),s=typeof i=="boolean"?i:e.autoContrast;if(n==="filled"){const a=s&&o.isLight?"var(--mantine-color-black)":"var(--mantine-color-white)";return o.isThemeColor?o.shade===void 0?{background:`var(--mantine-color-${t}-filled)`,hover:`var(--mantine-color-${t}-filled-hover)`,color:a,border:`${F(1)} solid transparent`}:{background:`var(--mantine-color-${o.color}-${o.shade})`,hover:`var(--mantine-color-${o.color}-${o.shade===9?8:o.shade+1})`,color:a,border:`${F(1)} solid transparent`}:{background:t,hover:Vl(t,.1),color:a,border:`${F(1)} solid transparent`}}if(n==="light"){if(o.isThemeColor){if(o.shade===void 0)return{background:`var(--mantine-color-${t}-light)`,hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${F(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:bn(a,.1),hover:bn(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${F(1)} solid transparent`}}return{background:bn(t,.1),hover:bn(t,.12),color:t,border:`${F(1)} solid transparent`}}if(n==="outline")return o.isThemeColor?o.shade===void 0?{background:"transparent",hover:`var(--mantine-color-${t}-outline-hover)`,color:`var(--mantine-color-${t}-outline)`,border:`${F(1)} solid var(--mantine-color-${t}-outline)`}:{background:"transparent",hover:bn(e.colors[o.color][o.shade],.05),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${F(1)} solid var(--mantine-color-${o.color}-${o.shade})`}:{background:"transparent",hover:bn(t,.05),color:t,border:`${F(1)} solid ${t}`};if(n==="subtle"){if(o.isThemeColor){if(o.shade===void 0)return{background:"transparent",hover:`var(--mantine-color-${t}-light-hover)`,color:`var(--mantine-color-${t}-light-color)`,border:`${F(1)} solid transparent`};const a=e.colors[o.color][o.shade];return{background:"transparent",hover:bn(a,.12),color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${F(1)} solid transparent`}}return{background:"transparent",hover:bn(t,.12),color:t,border:`${F(1)} solid transparent`}}return n==="transparent"?o.isThemeColor?o.shade===void 0?{background:"transparent",hover:"transparent",color:`var(--mantine-color-${t}-light-color)`,border:`${F(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:`var(--mantine-color-${o.color}-${Math.min(o.shade,6)})`,border:`${F(1)} solid transparent`}:{background:"transparent",hover:"transparent",color:t,border:`${F(1)} solid transparent`}:n==="white"?o.isThemeColor?o.shade===void 0?{background:"var(--mantine-color-white)",hover:Vl(e.white,.01),color:`var(--mantine-color-${t}-filled)`,border:`${F(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Vl(e.white,.01),color:`var(--mantine-color-${o.color}-${o.shade})`,border:`${F(1)} solid transparent`}:{background:"var(--mantine-color-white)",hover:Vl(e.white,.01),color:t,border:`${F(1)} solid transparent`}:n==="gradient"?{background:Rf(r,e),hover:Rf(r,e),color:"var(--mantine-color-white)",border:"none"}:n==="default"?{background:"var(--mantine-color-default)",hover:"var(--mantine-color-default-hover)",color:"var(--mantine-color-default-color)",border:`${F(1)} solid var(--mantine-color-default-border)`}:{}},FP={dark:["#C9C9C9","#b8b8b8","#828282","#696969","#424242","#3b3b3b","#2e2e2e","#242424","#1f1f1f","#141414"],gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},wy="-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial, sans-serif, Apple Color Emoji, Segoe UI Emoji",rm={scale:1,fontSmoothing:!0,focusRing:"auto",white:"#fff",black:"#000",colors:FP,primaryShade:{light:6,dark:8},primaryColor:"blue",variantColorResolver:LP,autoContrast:!1,luminanceThreshold:.3,fontFamily:wy,fontFamilyMonospace:"ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, Liberation Mono, Courier New, monospace",respectReducedMotion:!1,cursorType:"default",defaultGradient:{from:"blue",to:"cyan",deg:45},defaultRadius:"sm",activeClassName:"mantine-active",focusClassName:"",headings:{fontFamily:wy,fontWeight:"700",textWrap:"wrap",sizes:{h1:{fontSize:F(34),lineHeight:"1.3"},h2:{fontSize:F(26),lineHeight:"1.35"},h3:{fontSize:F(22),lineHeight:"1.4"},h4:{fontSize:F(18),lineHeight:"1.45"},h5:{fontSize:F(16),lineHeight:"1.5"},h6:{fontSize:F(14),lineHeight:"1.5"}}},fontSizes:{xs:F(12),sm:F(14),md:F(16),lg:F(18),xl:F(20)},lineHeights:{xs:"1.4",sm:"1.45",md:"1.55",lg:"1.6",xl:"1.65"},radius:{xs:F(2),sm:F(4),md:F(8),lg:F(16),xl:F(32)},spacing:{xs:F(10),sm:F(12),md:F(16),lg:F(20),xl:F(32)},breakpoints:{xs:"36em",sm:"48em",md:"62em",lg:"75em",xl:"88em"},shadows:{xs:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), 0 ${F(1)} ${F(2)} rgba(0, 0, 0, 0.1)`,sm:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(10)} ${F(15)} ${F(-5)}, rgba(0, 0, 0, 0.04) 0 ${F(7)} ${F(7)} ${F(-5)}`,md:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(20)} ${F(25)} ${F(-5)}, rgba(0, 0, 0, 0.04) 0 ${F(10)} ${F(10)} ${F(-5)}`,lg:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(28)} ${F(23)} ${F(-7)}, rgba(0, 0, 0, 0.04) 0 ${F(12)} ${F(12)} ${F(-7)}`,xl:`0 ${F(1)} ${F(3)} rgba(0, 0, 0, 0.05), rgba(0, 0, 0, 0.05) 0 ${F(36)} ${F(28)} ${F(-7)}, rgba(0, 0, 0, 0.04) 0 ${F(17)} ${F(17)} ${F(-7)}`},other:{},components:{}};function Ey(t){return t==="auto"||t==="dark"||t==="light"}function $P({key:t="mantine-color-scheme-value"}={}){let e;return{get:n=>{if(typeof window>"u")return n;try{const r=window.localStorage.getItem(t);return Ey(r)?r:n}catch{return n}},set:n=>{try{window.localStorage.setItem(t,n)}catch(r){console.warn("[@mantine/core] Local storage color scheme manager was unable to save color scheme.",r)}},subscribe:n=>{e=r=>{r.storageArea===window.localStorage&&r.key===t&&Ey(r.newValue)&&n(r.newValue)},window.addEventListener("storage",e)},unsubscribe:()=>{window.removeEventListener("storage",e)},clear:()=>{window.localStorage.removeItem(t)}}}const jP="[@mantine/core] MantineProvider: Invalid theme.primaryColor, it accepts only key of theme.colors, learn more – https://mantine.dev/theming/colors/#primary-color",Sy="[@mantine/core] MantineProvider: Invalid theme.primaryShade, it accepts only 0-9 integers or an object { light: 0-9, dark: 0-9 }";function ch(t){return t<0||t>9?!1:parseInt(t.toString(),10)===t}function Ty(t){if(!(t.primaryColor in t.colors))throw new Error(jP);if(typeof t.primaryShade=="object"&&(!ch(t.primaryShade.dark)||!ch(t.primaryShade.light)))throw new Error(Sy);if(typeof t.primaryShade=="number"&&!ch(t.primaryShade))throw new Error(Sy)}function UP(t,e){var r;if(!e)return Ty(t),t;const n=Jp(t,e);return e.fontFamily&&!((r=e.headings)!=null&&r.fontFamily)&&(n.headings.fontFamily=e.fontFamily),Ty(n),n}const im=R.createContext(null),BP=()=>R.useContext(im)||rm;function hr(){const t=R.useContext(im);if(!t)throw new Error("@mantine/core: MantineProvider was not found in component tree, make sure you have it in your app");return t}function jE({theme:t,children:e,inherit:n=!0}){const r=BP(),i=R.useMemo(()=>UP(n?r:rm,t),[t,r,n]);return b.jsx(im.Provider,{value:i,children:e})}jE.displayName="@mantine/core/MantineThemeProvider";function zP(){const t=hr(),e=tm(),n=On(t.breakpoints).reduce((r,i)=>{const o=t.breakpoints[i].includes("px"),s=QA(t.breakpoints[i]),a=o?`${s-.1}px`:_y(s-.1),u=o?`${s}px`:_y(s);return`${r}@media (max-width: ${a}) {.mantine-visible-from-${i} {display: none !important;}}@media (min-width: ${u}) {.mantine-hidden-from-${i} {display: none !important;}}`},"");return b.jsx("style",{"data-mantine-styles":"classes",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:n}})}function dh(t){return Object.entries(t).map(([e,n])=>`${e}: ${n};`).join("")}function xs(t,e){return(Array.isArray(t)?t:[t]).reduce((r,i)=>`${i}{${r}}`,e)}function WP(t,e){const n=dh(t.variables),r=n?xs(e,n):"",i=dh(t.dark),o=dh(t.light),s=i?xs(e===":host"?`${e}([data-mantine-color-scheme="dark"])`:`${e}[data-mantine-color-scheme="dark"]`,i):"",a=o?xs(e===":host"?`${e}([data-mantine-color-scheme="light"])`:`${e}[data-mantine-color-scheme="light"]`,o):"";return`${r}${s}${a}`}function HP({color:t,theme:e,autoContrast:n}){return(typeof n=="boolean"?n:e.autoContrast)&&Fa({color:t||e.primaryColor,theme:e}).isLight?"var(--mantine-color-black)":"var(--mantine-color-white)"}function Iy(t,e){return HP({color:t.colors[t.primaryColor][ya(t,e)],theme:t,autoContrast:null})}function Ol({theme:t,color:e,colorScheme:n,name:r=e,withColorValues:i=!0}){if(!t.colors[e])return{};if(n==="light"){const a=ya(t,"light"),u={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-filled)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${a===9?8:a+1})`,[`--mantine-color-${r}-light`]:Ji(t.colors[e][a],.1),[`--mantine-color-${r}-light-hover`]:Ji(t.colors[e][a],.12),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${a})`,[`--mantine-color-${r}-outline-hover`]:Ji(t.colors[e][a],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...u}:u}const o=ya(t,"dark"),s={[`--mantine-color-${r}-text`]:`var(--mantine-color-${r}-4)`,[`--mantine-color-${r}-filled`]:`var(--mantine-color-${r}-${o})`,[`--mantine-color-${r}-filled-hover`]:`var(--mantine-color-${r}-${o===9?8:o+1})`,[`--mantine-color-${r}-light`]:Ji(t.colors[e][Math.max(0,o-2)],.15),[`--mantine-color-${r}-light-hover`]:Ji(t.colors[e][Math.max(0,o-2)],.2),[`--mantine-color-${r}-light-color`]:`var(--mantine-color-${r}-${Math.max(o-5,0)})`,[`--mantine-color-${r}-outline`]:`var(--mantine-color-${r}-${Math.max(o-4,0)})`,[`--mantine-color-${r}-outline-hover`]:Ji(t.colors[e][Math.max(o-4,0)],.05)};return i?{[`--mantine-color-${r}-0`]:t.colors[e][0],[`--mantine-color-${r}-1`]:t.colors[e][1],[`--mantine-color-${r}-2`]:t.colors[e][2],[`--mantine-color-${r}-3`]:t.colors[e][3],[`--mantine-color-${r}-4`]:t.colors[e][4],[`--mantine-color-${r}-5`]:t.colors[e][5],[`--mantine-color-${r}-6`]:t.colors[e][6],[`--mantine-color-${r}-7`]:t.colors[e][7],[`--mantine-color-${r}-8`]:t.colors[e][8],[`--mantine-color-${r}-9`]:t.colors[e][9],...s}:s}function qP(t){return!!t&&typeof t=="object"&&"mantine-virtual-color"in t}function Zi(t,e,n){On(e).forEach(r=>Object.assign(t,{[`--mantine-${n}-${r}`]:e[r]}))}const UE=t=>{const e=ya(t,"light"),n=t.defaultRadius in t.radius?t.radius[t.defaultRadius]:F(t.defaultRadius),r={variables:{"--mantine-scale":t.scale.toString(),"--mantine-cursor-type":t.cursorType,"--mantine-color-scheme":"light dark","--mantine-webkit-font-smoothing":t.fontSmoothing?"antialiased":"unset","--mantine-moz-font-smoothing":t.fontSmoothing?"grayscale":"unset","--mantine-color-white":t.white,"--mantine-color-black":t.black,"--mantine-line-height":t.lineHeights.md,"--mantine-font-family":t.fontFamily,"--mantine-font-family-monospace":t.fontFamilyMonospace,"--mantine-font-family-headings":t.headings.fontFamily,"--mantine-heading-font-weight":t.headings.fontWeight,"--mantine-heading-text-wrap":t.headings.textWrap,"--mantine-radius-default":n,"--mantine-primary-color-filled":`var(--mantine-color-${t.primaryColor}-filled)`,"--mantine-primary-color-filled-hover":`var(--mantine-color-${t.primaryColor}-filled-hover)`,"--mantine-primary-color-light":`var(--mantine-color-${t.primaryColor}-light)`,"--mantine-primary-color-light-hover":`var(--mantine-color-${t.primaryColor}-light-hover)`,"--mantine-primary-color-light-color":`var(--mantine-color-${t.primaryColor}-light-color)`},light:{"--mantine-primary-color-contrast":Iy(t,"light"),"--mantine-color-bright":"var(--mantine-color-black)","--mantine-color-text":t.black,"--mantine-color-body":t.white,"--mantine-color-error":"var(--mantine-color-red-6)","--mantine-color-placeholder":"var(--mantine-color-gray-5)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-${e})`,"--mantine-color-default":"var(--mantine-color-white)","--mantine-color-default-hover":"var(--mantine-color-gray-0)","--mantine-color-default-color":"var(--mantine-color-black)","--mantine-color-default-border":"var(--mantine-color-gray-4)","--mantine-color-dimmed":"var(--mantine-color-gray-6)"},dark:{"--mantine-primary-color-contrast":Iy(t,"dark"),"--mantine-color-bright":"var(--mantine-color-white)","--mantine-color-text":"var(--mantine-color-dark-0)","--mantine-color-body":"var(--mantine-color-dark-7)","--mantine-color-error":"var(--mantine-color-red-8)","--mantine-color-placeholder":"var(--mantine-color-dark-3)","--mantine-color-anchor":`var(--mantine-color-${t.primaryColor}-4)`,"--mantine-color-default":"var(--mantine-color-dark-6)","--mantine-color-default-hover":"var(--mantine-color-dark-5)","--mantine-color-default-color":"var(--mantine-color-white)","--mantine-color-default-border":"var(--mantine-color-dark-4)","--mantine-color-dimmed":"var(--mantine-color-dark-2)"}};Zi(r.variables,t.breakpoints,"breakpoint"),Zi(r.variables,t.spacing,"spacing"),Zi(r.variables,t.fontSizes,"font-size"),Zi(r.variables,t.lineHeights,"line-height"),Zi(r.variables,t.shadows,"shadow"),Zi(r.variables,t.radius,"radius"),t.colors[t.primaryColor].forEach((o,s)=>{r.variables[`--mantine-primary-color-${s}`]=`var(--mantine-color-${t.primaryColor}-${s})`}),On(t.colors).forEach(o=>{const s=t.colors[o];if(qP(s)){Object.assign(r.light,Ol({theme:t,name:s.name,color:s.light,colorScheme:"light",withColorValues:!0})),Object.assign(r.dark,Ol({theme:t,name:s.name,color:s.dark,colorScheme:"dark",withColorValues:!0}));return}s.forEach((a,u)=>{r.variables[`--mantine-color-${o}-${u}`]=a}),Object.assign(r.light,Ol({theme:t,color:o,colorScheme:"light",withColorValues:!1})),Object.assign(r.dark,Ol({theme:t,color:o,colorScheme:"dark",withColorValues:!1}))});const i=t.headings.sizes;return On(i).forEach(o=>{r.variables[`--mantine-${o}-font-size`]=i[o].fontSize,r.variables[`--mantine-${o}-line-height`]=i[o].lineHeight,r.variables[`--mantine-${o}-font-weight`]=i[o].fontWeight||t.headings.fontWeight}),r};function GP({theme:t,generator:e}){const n=UE(t),r=e==null?void 0:e(t);return r?Jp(n,r):n}const hh=UE(rm);function KP(t){const e={variables:{},light:{},dark:{}};return On(t.variables).forEach(n=>{hh.variables[n]!==t.variables[n]&&(e.variables[n]=t.variables[n])}),On(t.light).forEach(n=>{hh.light[n]!==t.light[n]&&(e.light[n]=t.light[n])}),On(t.dark).forEach(n=>{hh.dark[n]!==t.dark[n]&&(e.dark[n]=t.dark[n])}),e}function QP(t){return`
  ${t}[data-mantine-color-scheme="dark"] { --mantine-color-scheme: dark; }
  ${t}[data-mantine-color-scheme="light"] { --mantine-color-scheme: light; }
`}function BE({cssVariablesSelector:t,deduplicateCssVariables:e}){const n=hr(),r=tm(),i=CP(),o=GP({theme:n,generator:i}),s=t===":root"&&e,a=s?KP(o):o,u=WP(a,t);return u?b.jsx("style",{"data-mantine-styles":!0,nonce:r==null?void 0:r(),dangerouslySetInnerHTML:{__html:`${u}${s?"":QP(t)}`}}):null}BE.displayName="@mantine/CssVariables";function YP(){const t=console.error;console.error=(...e)=>{e.length>1&&typeof e[0]=="string"&&e[0].toLowerCase().includes("extra attributes from the server")&&typeof e[1]=="string"&&e[1].toLowerCase().includes("data-mantine-color-scheme")||t(...e)}}function eo(t,e){var r;const n=t!=="auto"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";(r=e())==null||r.setAttribute("data-mantine-color-scheme",n)}function XP({manager:t,defaultColorScheme:e,getRootElement:n,forceColorScheme:r}){const i=R.useRef(),[o,s]=R.useState(()=>t.get(e)),a=r||o,u=R.useCallback(h=>{r||(eo(h,n),s(h),t.set(h))},[t.set,a,r]),c=R.useCallback(()=>{s(e),eo(e,n),t.clear()},[t.clear,e]);return R.useEffect(()=>(t.subscribe(u),t.unsubscribe),[t.subscribe,t.unsubscribe]),La(()=>{eo(t.get(e),n)},[]),R.useEffect(()=>{var f;if(r)return eo(r,n),()=>{};r===void 0&&eo(o,n),i.current=window.matchMedia("(prefers-color-scheme: dark)");const h=m=>{o==="auto"&&eo(m.matches?"dark":"light",n)};return(f=i.current)==null||f.addEventListener("change",h),()=>{var m;return(m=i.current)==null?void 0:m.removeEventListener("change",h)}},[o,r]),{colorScheme:a,setColorScheme:u,clearColorScheme:c}}function JP({respectReducedMotion:t,getRootElement:e}){La(()=>{var n;t&&((n=e())==null||n.setAttribute("data-respect-reduced-motion","true"))},[t])}YP();function zE({theme:t,children:e,getStyleNonce:n,withStaticClasses:r=!0,withGlobalClasses:i=!0,deduplicateCssVariables:o=!0,withCssVariables:s=!0,cssVariablesSelector:a=":root",classNamesPrefix:u="mantine",colorSchemeManager:c=$P(),defaultColorScheme:h="light",getRootElement:f=()=>document.documentElement,cssVariablesResolver:m,forceColorScheme:g,stylesTransform:w}){const{colorScheme:T,setColorScheme:A,clearColorScheme:y}=XP({defaultColorScheme:h,forceColorScheme:g,manager:c,getRootElement:f});return JP({respectReducedMotion:(t==null?void 0:t.respectReducedMotion)||!1,getRootElement:f}),b.jsx($E.Provider,{value:{colorScheme:T,setColorScheme:A,clearColorScheme:y,getRootElement:f,classNamesPrefix:u,getStyleNonce:n,cssVariablesResolver:m,cssVariablesSelector:a,withStaticClasses:r,stylesTransform:w},children:b.jsxs(jE,{theme:t,children:[s&&b.jsx(BE,{cssVariablesSelector:a,deduplicateCssVariables:o}),i&&b.jsx(zP,{}),e]})})}zE.displayName="@mantine/core/MantineProvider";function ZP({classNames:t,styles:e,props:n,stylesCtx:r}){const i=hr();return{resolvedClassNames:Rc({theme:i,classNames:t,props:n,stylesCtx:r||void 0}),resolvedStyles:Lu({theme:i,styles:e,props:n,stylesCtx:r||void 0})}}const ek={always:"mantine-focus-always",auto:"mantine-focus-auto",never:"mantine-focus-never"};function tk({theme:t,options:e,unstyled:n}){return $t((e==null?void 0:e.focusable)&&!n&&(t.focusClassName||ek[t.focusRing]),(e==null?void 0:e.active)&&!n&&t.activeClassName)}function nk({selector:t,stylesCtx:e,options:n,props:r,theme:i}){return Rc({theme:i,classNames:n==null?void 0:n.classNames,props:(n==null?void 0:n.props)||r,stylesCtx:e})[t]}function Cy({selector:t,stylesCtx:e,theme:n,classNames:r,props:i}){return Rc({theme:n,classNames:r,props:i,stylesCtx:e})[t]}function rk({rootSelector:t,selector:e,className:n}){return t===e?n:void 0}function ik({selector:t,classes:e,unstyled:n}){return n?void 0:e[t]}function ok({themeName:t,classNamesPrefix:e,selector:n,withStaticClass:r}){return r===!1?[]:t.map(i=>`${e}-${i}-${n}`)}function sk({themeName:t,theme:e,selector:n,props:r,stylesCtx:i}){return t.map(o=>{var s,a;return(a=Rc({theme:e,classNames:(s=e.components[o])==null?void 0:s.classNames,props:r,stylesCtx:i}))==null?void 0:a[n]})}function ak({options:t,classes:e,selector:n,unstyled:r}){return t!=null&&t.variant&&!r?e[`${n}--${t.variant}`]:void 0}function lk({theme:t,options:e,themeName:n,selector:r,classNamesPrefix:i,classNames:o,classes:s,unstyled:a,className:u,rootSelector:c,props:h,stylesCtx:f,withStaticClasses:m,headless:g,transformedStyles:w}){return $t(tk({theme:t,options:e,unstyled:a||g}),sk({theme:t,themeName:n,selector:r,props:h,stylesCtx:f}),ak({options:e,classes:s,selector:r,unstyled:a}),Cy({selector:r,stylesCtx:f,theme:t,classNames:o,props:h}),Cy({selector:r,stylesCtx:f,theme:t,classNames:w,props:h}),nk({selector:r,stylesCtx:f,options:e,props:h,theme:t}),rk({rootSelector:c,selector:r,className:u}),ik({selector:r,classes:s,unstyled:a||g}),m&&!g&&ok({themeName:n,classNamesPrefix:i,selector:r,withStaticClass:e==null?void 0:e.withStaticClass}),e==null?void 0:e.className)}function uk({theme:t,themeName:e,props:n,stylesCtx:r,selector:i}){return e.map(o=>{var s;return Lu({theme:t,styles:(s=t.components[o])==null?void 0:s.styles,props:n,stylesCtx:r})[i]}).reduce((o,s)=>({...o,...s}),{})}function Af({style:t,theme:e}){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Af({style:r,theme:e})}),{}):typeof t=="function"?t(e):t??{}}function ck(t){return t.reduce((e,n)=>(n&&Object.keys(n).forEach(r=>{e[r]={...e[r],...Ec(n[r])}}),e),{})}function dk({vars:t,varsResolver:e,theme:n,props:r,stylesCtx:i,selector:o,themeName:s,headless:a}){var u;return(u=ck([a?{}:e==null?void 0:e(n,r,i),...s.map(c=>{var h,f,m;return(m=(f=(h=n.components)==null?void 0:h[c])==null?void 0:f.vars)==null?void 0:m.call(f,n,r,i)}),t==null?void 0:t(n,r,i)]))==null?void 0:u[o]}function hk({theme:t,themeName:e,selector:n,options:r,props:i,stylesCtx:o,rootSelector:s,styles:a,style:u,vars:c,varsResolver:h,headless:f,withStylesTransform:m}){return{...!m&&uk({theme:t,themeName:e,props:i,stylesCtx:o,selector:n}),...!m&&Lu({theme:t,styles:a,props:i,stylesCtx:o})[n],...!m&&Lu({theme:t,styles:r==null?void 0:r.styles,props:(r==null?void 0:r.props)||i,stylesCtx:o})[n],...dk({theme:t,props:i,stylesCtx:o,vars:c,varsResolver:h,selector:n,themeName:e,headless:f}),...s===n?Af({style:u,theme:t}):null,...Af({style:r==null?void 0:r.style,theme:t})}}function fk({props:t,stylesCtx:e,themeName:n}){var s;const r=hr(),i=(s=bP())==null?void 0:s();return{getTransformedStyles:a=>i?[...a.map(c=>i(c,{props:t,theme:r,ctx:e})),...n.map(c=>{var h;return i((h=r.components[c])==null?void 0:h.styles,{props:t,theme:r,ctx:e})})].filter(Boolean):[],withStylesTransform:!!i}}function Ne({name:t,classes:e,props:n,stylesCtx:r,className:i,style:o,rootSelector:s="root",unstyled:a,classNames:u,styles:c,vars:h,varsResolver:f}){const m=hr(),g=RP(),w=AP(),T=PP(),A=(Array.isArray(t)?t:[t]).filter(S=>S),{withStylesTransform:y,getTransformedStyles:_}=fk({props:n,stylesCtx:r,themeName:A});return(S,N)=>({className:lk({theme:m,options:N,themeName:A,selector:S,classNamesPrefix:g,classNames:u,classes:e,unstyled:a,className:i,rootSelector:s,props:n,stylesCtx:r,withStaticClasses:w,headless:T,transformedStyles:_([N==null?void 0:N.styles,c])}),style:hk({theme:m,themeName:A,selector:S,options:N,props:n,stylesCtx:r,rootSelector:s,styles:c,style:o,vars:h,varsResolver:f,headless:T,withStylesTransform:y})})}function ue(t,e,n){var s;const r=hr(),i=(s=r.components[t])==null?void 0:s.defaultProps,o=typeof i=="function"?i(r):i;return{...e,...o,...Ec(n)}}function fh(t){return On(t).reduce((e,n)=>t[n]!==void 0?`${e}${GA(n)}:${t[n]};`:e,"").trim()}function pk({selector:t,styles:e,media:n,container:r}){const i=e?fh(e):"",o=Array.isArray(n)?n.map(a=>`@media${a.query}{${t}{${fh(a.styles)}}}`):[],s=Array.isArray(r)?r.map(a=>`@container ${a.query}{${t}{${fh(a.styles)}}}`):[];return`${i?`${t}{${i}}`:""}${o.join("")}${s.join("")}`.trim()}function WE(t){const e=tm();return b.jsx("style",{"data-mantine-styles":"inline",nonce:e==null?void 0:e(),dangerouslySetInnerHTML:{__html:pk(t)}})}function om(t){const{m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:u,ms:c,p:h,px:f,py:m,pt:g,pb:w,pl:T,pr:A,pe:y,ps:_,bd:S,bg:N,c:M,opacity:O,ff:I,fz:v,fw:C,lts:P,ta:x,lh:D,fs:k,tt:ge,td:He,w:Z,miw:X,maw:$,h:q,mih:W,mah:te,bgsz:J,bgp:he,bgr:Xe,bga:de,pos:Ve,top:Ke,left:st,bottom:jt,right:Zt,inset:An,display:en,flex:dn,hiddenFrom:tn,visibleFrom:Ut,lightHidden:gr,darkHidden:G,sx:Q,...re}=t;return{styleProps:Ec({m:e,mx:n,my:r,mt:i,mb:o,ml:s,mr:a,me:u,ms:c,p:h,px:f,py:m,pt:g,pb:w,pl:T,pr:A,pe:y,ps:_,bd:S,bg:N,c:M,opacity:O,ff:I,fz:v,fw:C,lts:P,ta:x,lh:D,fs:k,tt:ge,td:He,w:Z,miw:X,maw:$,h:q,mih:W,mah:te,bgsz:J,bgp:he,bgr:Xe,bga:de,pos:Ve,top:Ke,left:st,bottom:jt,right:Zt,inset:An,display:en,flex:dn,hiddenFrom:tn,visibleFrom:Ut,lightHidden:gr,darkHidden:G,sx:Q}),rest:re}}const mk={m:{type:"spacing",property:"margin"},mt:{type:"spacing",property:"marginTop"},mb:{type:"spacing",property:"marginBottom"},ml:{type:"spacing",property:"marginLeft"},mr:{type:"spacing",property:"marginRight"},ms:{type:"spacing",property:"marginInlineStart"},me:{type:"spacing",property:"marginInlineEnd"},mx:{type:"spacing",property:"marginInline"},my:{type:"spacing",property:"marginBlock"},p:{type:"spacing",property:"padding"},pt:{type:"spacing",property:"paddingTop"},pb:{type:"spacing",property:"paddingBottom"},pl:{type:"spacing",property:"paddingLeft"},pr:{type:"spacing",property:"paddingRight"},ps:{type:"spacing",property:"paddingInlineStart"},pe:{type:"spacing",property:"paddingInlineEnd"},px:{type:"spacing",property:"paddingInline"},py:{type:"spacing",property:"paddingBlock"},bd:{type:"border",property:"border"},bg:{type:"color",property:"background"},c:{type:"textColor",property:"color"},opacity:{type:"identity",property:"opacity"},ff:{type:"fontFamily",property:"fontFamily"},fz:{type:"fontSize",property:"fontSize"},fw:{type:"identity",property:"fontWeight"},lts:{type:"size",property:"letterSpacing"},ta:{type:"identity",property:"textAlign"},lh:{type:"lineHeight",property:"lineHeight"},fs:{type:"identity",property:"fontStyle"},tt:{type:"identity",property:"textTransform"},td:{type:"identity",property:"textDecoration"},w:{type:"spacing",property:"width"},miw:{type:"spacing",property:"minWidth"},maw:{type:"spacing",property:"maxWidth"},h:{type:"spacing",property:"height"},mih:{type:"spacing",property:"minHeight"},mah:{type:"spacing",property:"maxHeight"},bgsz:{type:"size",property:"backgroundSize"},bgp:{type:"identity",property:"backgroundPosition"},bgr:{type:"identity",property:"backgroundRepeat"},bga:{type:"identity",property:"backgroundAttachment"},pos:{type:"identity",property:"position"},top:{type:"identity",property:"top"},left:{type:"size",property:"left"},bottom:{type:"size",property:"bottom"},right:{type:"size",property:"right"},inset:{type:"size",property:"inset"},display:{type:"identity",property:"display"},flex:{type:"identity",property:"flex"}};function sm(t,e){const n=Fa({color:t,theme:e});return n.color==="dimmed"?"var(--mantine-color-dimmed)":n.color==="bright"?"var(--mantine-color-bright)":n.variable?`var(${n.variable})`:n.color}function gk(t,e){const n=Fa({color:t,theme:e});return n.isThemeColor&&n.shade===void 0?`var(--mantine-color-${n.color}-text)`:sm(t,e)}function vk(t,e){if(typeof t=="number")return F(t);if(typeof t=="string"){const[n,r,...i]=t.split(" ").filter(s=>s.trim()!=="");let o=`${F(n)}`;return r&&(o+=` ${r}`),i.length>0&&(o+=` ${sm(i.join(" "),e)}`),o.trim()}return t}const Ry={text:"var(--mantine-font-family)",mono:"var(--mantine-font-family-monospace)",monospace:"var(--mantine-font-family-monospace)",heading:"var(--mantine-font-family-headings)",headings:"var(--mantine-font-family-headings)"};function yk(t){return typeof t=="string"&&t in Ry?Ry[t]:t}const _k=["h1","h2","h3","h4","h5","h6"];function wk(t,e){return typeof t=="string"&&t in e.fontSizes?`var(--mantine-font-size-${t})`:typeof t=="string"&&_k.includes(t)?`var(--mantine-${t}-font-size)`:typeof t=="number"||typeof t=="string"?F(t):t}function Ek(t){return t}const Sk=["h1","h2","h3","h4","h5","h6"];function Tk(t,e){return typeof t=="string"&&t in e.lineHeights?`var(--mantine-line-height-${t})`:typeof t=="string"&&Sk.includes(t)?`var(--mantine-${t}-line-height)`:t}function Ik(t){return typeof t=="number"?F(t):t}function Ck(t,e){if(typeof t=="number")return F(t);if(typeof t=="string"){const n=t.replace("-","");if(!(n in e.spacing))return F(t);const r=`--mantine-spacing-${n}`;return t.startsWith("-")?`calc(var(${r}) * -1)`:`var(${r})`}return t}const ph={color:sm,textColor:gk,fontSize:wk,spacing:Ck,identity:Ek,size:Ik,lineHeight:Tk,fontFamily:yk,border:vk};function Ay(t){return t.replace("(min-width: ","").replace("em)","")}function Rk({media:t,...e}){const r=Object.keys(t).sort((i,o)=>Number(Ay(i))-Number(Ay(o))).map(i=>({query:i,styles:t[i]}));return{...e,media:r}}function Ak(t){if(typeof t!="object"||t===null)return!1;const e=Object.keys(t);return!(e.length===1&&e[0]==="base")}function Pk(t){return typeof t=="object"&&t!==null?"base"in t?t.base:void 0:t}function kk(t){return typeof t=="object"&&t!==null?On(t).filter(e=>e!=="base"):[]}function bk(t,e){return typeof t=="object"&&t!==null&&e in t?t[e]:t}function HE({styleProps:t,data:e,theme:n}){return Rk(On(t).reduce((r,i)=>{if(i==="hiddenFrom"||i==="visibleFrom"||i==="sx")return r;const o=e[i],s=Array.isArray(o.property)?o.property:[o.property],a=Pk(t[i]);if(!Ak(t[i]))return s.forEach(c=>{r.inlineStyles[c]=ph[o.type](a,n)}),r;r.hasResponsiveStyles=!0;const u=kk(t[i]);return s.forEach(c=>{a&&(r.styles[c]=ph[o.type](a,n)),u.forEach(h=>{const f=`(min-width: ${n.breakpoints[h]})`;r.media[f]={...r.media[f],[c]:ph[o.type](bk(t[i],h),n)}})}),r},{hasResponsiveStyles:!1,styles:{},inlineStyles:{},media:{}}))}function qE(){return`__m__-${R.useId().replace(/:/g,"")}`}function GE(t){return t.startsWith("data-")?t:`data-${t}`}function xk(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return r===void 0||r===""||r===!1||r===null||(e[GE(n)]=t[n]),e},{})}function KE(t){return t?typeof t=="string"?{[GE(t)]:!0}:Array.isArray(t)?[...t].reduce((e,n)=>({...e,...KE(n)}),{}):xk(t):null}function Pf(t,e){return Array.isArray(t)?[...t].reduce((n,r)=>({...n,...Pf(r,e)}),{}):typeof t=="function"?t(e):t??{}}function Nk({theme:t,style:e,vars:n,styleProps:r}){const i=Pf(e,t),o=Pf(n,t);return{...i,...o,...r}}const QE=R.forwardRef(({component:t,style:e,__vars:n,className:r,variant:i,mod:o,size:s,hiddenFrom:a,visibleFrom:u,lightHidden:c,darkHidden:h,renderRoot:f,__size:m,...g},w)=>{var v;const T=hr(),A=t||"div",{styleProps:y,rest:_}=om(g),S=kP(),N=(v=S==null?void 0:S())==null?void 0:v(y.sx),M=qE(),O=HE({styleProps:y,theme:T,data:mk}),I={ref:w,style:Nk({theme:T,style:e,vars:n,styleProps:O.inlineStyles}),className:$t(r,N,{[M]:O.hasResponsiveStyles,"mantine-light-hidden":c,"mantine-dark-hidden":h,[`mantine-hidden-from-${a}`]:a,[`mantine-visible-from-${u}`]:u}),"data-variant":i,"data-size":kE(s)?void 0:s||void 0,size:m,...KE(o),..._};return b.jsxs(b.Fragment,{children:[O.hasResponsiveStyles&&b.jsx(WE,{selector:`.${M}`,styles:O.styles,media:O.media}),typeof f=="function"?f(I):b.jsx(A,{...I})]})});QE.displayName="@mantine/core/Box";const se=QE;function YE(t){return t}function De(t){const e=R.forwardRef(t);return e.extend=YE,e.withProps=n=>{const r=R.forwardRef((i,o)=>b.jsx(e,{...n,...i,ref:o}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e}function Cn(t){const e=R.forwardRef(t);return e.withProps=n=>{const r=R.forwardRef((i,o)=>b.jsx(e,{...n,...i,ref:o}));return r.extend=e.extend,r.displayName=`WithProps(${e.displayName})`,r},e.extend=YE,e}const Dk=R.createContext({dir:"ltr",toggleDirection:()=>{},setDirection:()=>{}});function Vk(){return R.useContext(Dk)}const[Ok,un]=Sc("ScrollArea.Root component was not found in tree");function Mo(t,e){const n=mi(e);La(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}const Mk=R.forwardRef((t,e)=>{const{style:n,...r}=t,i=un(),[o,s]=R.useState(0),[a,u]=R.useState(0),c=!!(o&&a);return Mo(i.scrollbarX,()=>{var f;const h=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(h),u(h)}),Mo(i.scrollbarY,()=>{var f;const h=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(h),s(h)}),c?b.jsx("div",{...r,ref:e,style:{...n,width:o,height:a}}):null}),Lk=R.forwardRef((t,e)=>{const n=un(),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?b.jsx(Mk,{...t,ref:e}):null}),Fk={scrollHideDelay:1e3,type:"hover"},XE=R.forwardRef((t,e)=>{const n=ue("ScrollAreaRoot",Fk,t),{type:r,scrollHideDelay:i,scrollbars:o,...s}=n,[a,u]=R.useState(null),[c,h]=R.useState(null),[f,m]=R.useState(null),[g,w]=R.useState(null),[T,A]=R.useState(null),[y,_]=R.useState(0),[S,N]=R.useState(0),[M,O]=R.useState(!1),[I,v]=R.useState(!1),C=si(e,P=>u(P));return b.jsx(Ok,{value:{type:r,scrollHideDelay:i,scrollArea:a,viewport:c,onViewportChange:h,content:f,onContentChange:m,scrollbarX:g,onScrollbarXChange:w,scrollbarXEnabled:M,onScrollbarXEnabledChange:O,scrollbarY:T,onScrollbarYChange:A,scrollbarYEnabled:I,onScrollbarYEnabledChange:v,onCornerWidthChange:_,onCornerHeightChange:N},children:b.jsx(se,{...s,ref:C,__vars:{"--sa-corner-width":o!=="xy"?"0px":`${y}px`,"--sa-corner-height":o!=="xy"?"0px":`${S}px`}})})});XE.displayName="@mantine/core/ScrollAreaRoot";function JE(t,e){const n=t/e;return Number.isNaN(n)?0:n}function Ac(t){const e=JE(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function ZE(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function $k(t,[e,n]){return Math.min(n,Math.max(e,t))}function Py(t,e,n="ltr"){const r=Ac(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-i,s=e.content-e.viewport,a=o-r,u=n==="ltr"?[0,s]:[s*-1,0],c=$k(t,u);return ZE([0,s],[0,a])(c)}function jk(t,e,n,r="ltr"){const i=Ac(n),o=i/2,s=e||o,a=i-s,u=n.scrollbar.paddingStart+s,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,h=n.content-n.viewport,f=r==="ltr"?[0,h]:[h*-1,0];return ZE([u,c],f)(t)}function e1(t,e){return t>0&&t<e}function $u(t){return t?parseInt(t,10):0}function Ii(t,e,{checkForDefaultPrevented:n=!0}={}){return r=>{t==null||t(r),(n===!1||!r.defaultPrevented)&&(e==null||e(r))}}const[Uk,t1]=Sc("ScrollAreaScrollbar was not found in tree"),n1=R.forwardRef((t,e)=>{const{sizes:n,hasThumb:r,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:s,onThumbPositionChange:a,onDragScroll:u,onWheelScroll:c,onResize:h,...f}=t,m=un(),[g,w]=R.useState(null),T=si(e,v=>w(v)),A=R.useRef(null),y=R.useRef(""),{viewport:_}=m,S=n.content-n.viewport,N=mi(c),M=mi(a),O=Cc(h,10),I=v=>{if(A.current){const C=v.clientX-A.current.left,P=v.clientY-A.current.top;u({x:C,y:P})}};return R.useEffect(()=>{const v=C=>{const P=C.target;(g==null?void 0:g.contains(P))&&N(C,S)};return document.addEventListener("wheel",v,{passive:!1}),()=>document.removeEventListener("wheel",v,{passive:!1})},[_,g,S,N]),R.useEffect(M,[n,M]),Mo(g,O),Mo(m.content,O),b.jsx(Uk,{value:{scrollbar:g,hasThumb:r,onThumbChange:mi(i),onThumbPointerUp:mi(o),onThumbPositionChange:M,onThumbPointerDown:mi(s)},children:b.jsx("div",{...f,ref:T,"data-mantine-scrollbar":!0,style:{position:"absolute",...f.style},onPointerDown:Ii(t.onPointerDown,v=>{v.preventDefault(),v.button===0&&(v.target.setPointerCapture(v.pointerId),A.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",I(v))}),onPointerMove:Ii(t.onPointerMove,I),onPointerUp:Ii(t.onPointerUp,v=>{v.preventDefault();const C=v.target;C.hasPointerCapture(v.pointerId)&&C.releasePointerCapture(v.pointerId),document.body.style.webkitUserSelect=y.current,A.current=null})})})}),r1=R.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=un(),[a,u]=R.useState(),c=R.useRef(null),h=si(e,c,s.onScrollbarXChange);return R.useEffect(()=>{c.current&&u(getComputedStyle(c.current))},[c]),b.jsx(n1,{"data-orientation":"horizontal",...o,ref:h,sizes:n,style:{...i,"--sa-thumb-width":`${Ac(n)}px`},onThumbPointerDown:f=>t.onThumbPointerDown(f.x),onDragScroll:f=>t.onDragScroll(f.x),onWheelScroll:(f,m)=>{if(s.viewport){const g=s.viewport.scrollLeft+f.deltaX;t.onWheelScroll(g),e1(g,m)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:c.current.clientWidth,paddingStart:$u(a.paddingLeft),paddingEnd:$u(a.paddingRight)}})}})});r1.displayName="@mantine/core/ScrollAreaScrollbarX";const i1=R.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,style:i,...o}=t,s=un(),[a,u]=R.useState(),c=R.useRef(null),h=si(e,c,s.onScrollbarYChange);return R.useEffect(()=>{c.current&&u(window.getComputedStyle(c.current))},[]),b.jsx(n1,{...o,"data-orientation":"vertical",ref:h,sizes:n,style:{"--sa-thumb-height":`${Ac(n)}px`,...i},onThumbPointerDown:f=>t.onThumbPointerDown(f.y),onDragScroll:f=>t.onDragScroll(f.y),onWheelScroll:(f,m)=>{if(s.viewport){const g=s.viewport.scrollTop+f.deltaY;t.onWheelScroll(g),e1(g,m)&&f.preventDefault()}},onResize:()=>{c.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:c.current.clientHeight,paddingStart:$u(a.paddingTop),paddingEnd:$u(a.paddingBottom)}})}})});i1.displayName="@mantine/core/ScrollAreaScrollbarY";const Pc=R.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,{dir:i}=Vk(),o=un(),s=R.useRef(null),a=R.useRef(0),[u,c]=R.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=JE(u.viewport,u.content),f={...r,sizes:u,onSizesChange:c,hasThumb:h>0&&h<1,onThumbChange:g=>{s.current=g},onThumbPointerUp:()=>{a.current=0},onThumbPointerDown:g=>{a.current=g}},m=(g,w)=>jk(g,a.current,u,w);return n==="horizontal"?b.jsx(r1,{...f,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollLeft,w=Py(g,u,i);s.current.style.transform=`translate3d(${w}px, 0, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollLeft=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollLeft=m(g,i))}}):n==="vertical"?b.jsx(i1,{...f,ref:e,onThumbPositionChange:()=>{if(o.viewport&&s.current){const g=o.viewport.scrollTop,w=Py(g,u);u.scrollbar.size===0?s.current.style.opacity="0":s.current.style.opacity="1",s.current.style.transform=`translate3d(0, ${w}px, 0)`}},onWheelScroll:g=>{o.viewport&&(o.viewport.scrollTop=g)},onDragScroll:g=>{o.viewport&&(o.viewport.scrollTop=m(g))}}):null});Pc.displayName="@mantine/core/ScrollAreaScrollbarVisible";const am=R.forwardRef((t,e)=>{const n=un(),{forceMount:r,...i}=t,[o,s]=R.useState(!1),a=t.orientation==="horizontal",u=Cc(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?c:h)}},10);return Mo(n.viewport,u),Mo(n.content,u),r||o?b.jsx(Pc,{"data-state":o?"visible":"hidden",...i,ref:e}):null});am.displayName="@mantine/core/ScrollAreaScrollbarAuto";const o1=R.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=un(),[o,s]=R.useState(!1);return R.useEffect(()=>{const{scrollArea:a}=i;let u=0;if(a){const c=()=>{window.clearTimeout(u),s(!0)},h=()=>{u=window.setTimeout(()=>s(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),n||o?b.jsx(am,{"data-state":o?"visible":"hidden",...r,ref:e}):null});o1.displayName="@mantine/core/ScrollAreaScrollbarHover";const Bk=R.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=un(),o=t.orientation==="horizontal",[s,a]=R.useState("hidden"),u=Cc(()=>a("idle"),100);return R.useEffect(()=>{if(s==="idle"){const c=window.setTimeout(()=>a("hidden"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[s,i.scrollHideDelay]),R.useEffect(()=>{const{viewport:c}=i,h=o?"scrollLeft":"scrollTop";if(c){let f=c[h];const m=()=>{const g=c[h];f!==g&&(a("scrolling"),u()),f=g};return c.addEventListener("scroll",m),()=>c.removeEventListener("scroll",m)}},[i.viewport,o,u]),n||s!=="hidden"?b.jsx(Pc,{"data-state":s==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:Ii(t.onPointerEnter,()=>a("interacting")),onPointerLeave:Ii(t.onPointerLeave,()=>a("idle"))}):null}),kf=R.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=un(),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:s}=i,a=t.orientation==="horizontal";return R.useEffect(()=>(a?o(!0):s(!0),()=>{a?o(!1):s(!1)}),[a,o,s]),i.type==="hover"?b.jsx(o1,{...r,ref:e,forceMount:n}):i.type==="scroll"?b.jsx(Bk,{...r,ref:e,forceMount:n}):i.type==="auto"?b.jsx(am,{...r,ref:e,forceMount:n}):i.type==="always"?b.jsx(Pc,{...r,ref:e}):null});kf.displayName="@mantine/core/ScrollAreaScrollbar";function zk(t,e=()=>{}){let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const o={left:t.scrollLeft,top:t.scrollTop},s=n.left!==o.left,a=n.top!==o.top;(s||a)&&e(),n=o,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)}const s1=R.forwardRef((t,e)=>{const{style:n,...r}=t,i=un(),o=t1(),{onThumbPositionChange:s}=o,a=si(e,h=>o.onThumbChange(h)),u=R.useRef(),c=Cc(()=>{u.current&&(u.current(),u.current=void 0)},100);return R.useEffect(()=>{const{viewport:h}=i;if(h){const f=()=>{if(c(),!u.current){const m=zk(h,s);u.current=m,s()}};return s(),h.addEventListener("scroll",f),()=>h.removeEventListener("scroll",f)}},[i.viewport,c,s]),b.jsx("div",{"data-state":o.hasThumb?"visible":"hidden",...r,ref:a,style:{width:"var(--sa-thumb-width)",height:"var(--sa-thumb-height)",...n},onPointerDownCapture:Ii(t.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),g=h.clientX-m.left,w=h.clientY-m.top;o.onThumbPointerDown({x:g,y:w})}),onPointerUp:Ii(t.onPointerUp,o.onThumbPointerUp)})});s1.displayName="@mantine/core/ScrollAreaThumb";const bf=R.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=t1();return n||i.hasThumb?b.jsx(s1,{ref:e,...r}):null});bf.displayName="@mantine/core/ScrollAreaThumb";const a1=R.forwardRef(({children:t,style:e,...n},r)=>{const i=un(),o=si(r,i.onViewportChange);return b.jsx(se,{...n,ref:o,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e},children:b.jsx("div",{style:{minWidth:"100%",display:"table"},ref:i.onContentChange,children:t})})});a1.displayName="@mantine/core/ScrollAreaViewport";var lm={root:"m_d57069b5",viewport:"m_c0783ff9",viewportInner:"m_f8f631dd",scrollbar:"m_c44ba933",thumb:"m_d8b5e363",corner:"m_21657268"};const l1={scrollHideDelay:1e3,type:"hover",scrollbars:"xy"},Wk=(t,{scrollbarSize:e})=>({root:{"--scrollarea-scrollbar-size":F(e)}}),$a=De((t,e)=>{const n=ue("ScrollArea",l1,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,scrollbarSize:u,vars:c,type:h,scrollHideDelay:f,viewportProps:m,viewportRef:g,onScrollPositionChange:w,children:T,offsetScrollbars:A,scrollbars:y,onBottomReached:_,onTopReached:S,...N}=n,[M,O]=R.useState(!1),I=Ne({name:"ScrollArea",props:n,classes:lm,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:Wk});return b.jsxs(XE,{type:h==="never"?"always":h,scrollHideDelay:f,ref:e,scrollbars:y,...I("root"),...N,children:[b.jsx(a1,{...m,...I("viewport",{style:m==null?void 0:m.style}),ref:g,"data-offset-scrollbars":A===!0?"xy":A||void 0,"data-scrollbars":y||void 0,onScroll:v=>{var D;(D=m==null?void 0:m.onScroll)==null||D.call(m,v),w==null||w({x:v.currentTarget.scrollLeft,y:v.currentTarget.scrollTop});const{scrollTop:C,scrollHeight:P,clientHeight:x}=v.currentTarget;C-(P-x)===0&&(_==null||_()),C===0&&(S==null||S())},children:T}),(y==="xy"||y==="x")&&b.jsx(kf,{...I("scrollbar"),orientation:"horizontal","data-hidden":h==="never"||void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:b.jsx(bf,{...I("thumb")})}),(y==="xy"||y==="y")&&b.jsx(kf,{...I("scrollbar"),orientation:"vertical","data-hidden":h==="never"||void 0,forceMount:!0,onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),children:b.jsx(bf,{...I("thumb")})}),b.jsx(Lk,{...I("corner"),"data-hovered":M||void 0,"data-hidden":h==="never"||void 0})]})});$a.displayName="@mantine/core/ScrollArea";const um=De((t,e)=>{const{children:n,classNames:r,styles:i,scrollbarSize:o,scrollHideDelay:s,type:a,dir:u,offsetScrollbars:c,viewportRef:h,onScrollPositionChange:f,unstyled:m,variant:g,viewportProps:w,scrollbars:T,style:A,vars:y,onBottomReached:_,...S}=ue("ScrollAreaAutosize",l1,t);return b.jsx(se,{...S,ref:e,style:[{display:"flex",overflow:"auto"},A],children:b.jsx(se,{style:{display:"flex",flexDirection:"column",flex:1},children:b.jsx($a,{classNames:r,styles:i,scrollHideDelay:s,scrollbarSize:o,type:a,dir:u,offsetScrollbars:c,viewportRef:h,onScrollPositionChange:f,unstyled:m,variant:g,viewportProps:w,vars:y,scrollbars:T,onBottomReached:_,children:n})})})});$a.classes=lm;um.displayName="@mantine/core/ScrollAreaAutosize";um.classes=lm;$a.Autosize=um;var u1={root:"m_87cf2631"};const Hk={__staticSelector:"UnstyledButton"},Di=Cn((t,e)=>{const n=ue("UnstyledButton",Hk,t),{className:r,component:i="button",__staticSelector:o,unstyled:s,classNames:a,styles:u,style:c,...h}=n,f=Ne({name:o,props:n,classes:u1,className:r,style:c,classNames:a,styles:u,unstyled:s});return b.jsx(se,{...f("root",{focusable:!0}),component:i,ref:e,type:i==="button"?"button":void 0,...h})});Di.classes=u1;Di.displayName="@mantine/core/UnstyledButton";var c1={root:"m_515a97f8"};const qk={},cm=De((t,e)=>{const n=ue("VisuallyHidden",qk,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,...c}=n,h=Ne({name:"VisuallyHidden",classes:c1,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a});return b.jsx(se,{component:"span",ref:e,...h("root"),...c})});cm.classes=c1;cm.displayName="@mantine/core/VisuallyHidden";var d1={root:"m_1b7284a3"};const Gk={},Kk=(t,{radius:e,shadow:n})=>({root:{"--paper-radius":e===void 0?void 0:oi(e),"--paper-shadow":bE(n)}}),Lo=Cn((t,e)=>{const n=ue("Paper",Gk,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,withBorder:u,vars:c,radius:h,shadow:f,variant:m,mod:g,...w}=n,T=Ne({name:"Paper",props:n,classes:d1,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:Kk});return b.jsx(se,{ref:e,mod:[{"data-with-border":u},g],...T("root"),variant:m,...w})});Lo.classes=d1;Lo.displayName="@mantine/core/Paper";function dm({children:t,active:e=!0,refProp:n="ref",innerRef:r}){const i=dP(e),o=si(i,r);return YA(t)?R.cloneElement(t,{[n]:o}):t}function h1(t){return b.jsx(cm,{tabIndex:-1,"data-autofocus":!0,...t})}dm.displayName="@mantine/core/FocusTrap";h1.displayName="@mantine/core/FocusTrapInitialFocus";dm.InitialFocus=h1;function Qk(t){const e=document.createElement("div");return e.setAttribute("data-portal","true"),typeof t.className=="string"&&e.classList.add(...t.className.split(" ").filter(Boolean)),typeof t.style=="object"&&Object.assign(e.style,t.style),typeof t.id=="string"&&e.setAttribute("id",t.id),e}const Yk={},f1=R.forwardRef((t,e)=>{const{children:n,target:r,...i}=ue("Portal",Yk,t),[o,s]=R.useState(!1),a=R.useRef(null);return La(()=>(s(!0),a.current=r?typeof r=="string"?document.querySelector(r):r:Qk(i),em(e,a.current),!r&&a.current&&document.body.appendChild(a.current),()=>{!r&&a.current&&document.body.removeChild(a.current)}),[r]),!o||!a.current?null:Xp.createPortal(b.jsx(b.Fragment,{children:n}),a.current)});f1.displayName="@mantine/core/Portal";function p1({withinPortal:t=!0,children:e,...n}){return t?b.jsx(f1,{...n,children:e}):b.jsx(b.Fragment,{children:e})}p1.displayName="@mantine/core/OptionalPortal";const Ns=t=>({in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:`scale(.9) translateY(${F(t==="bottom"?10:-10)})`},transitionProperty:"transform, opacity"}),Ml={fade:{in:{opacity:1},out:{opacity:0},transitionProperty:"opacity"},"fade-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${F(30)}`},transitionProperty:"opacity, transform"},"fade-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:`translateY(${F(-30)}`},transitionProperty:"opacity, transform"},"fade-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${F(30)}`},transitionProperty:"opacity, transform"},"fade-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:`translateX(${F(-30)}`},transitionProperty:"opacity, transform"},scale:{in:{opacity:1,transform:"scale(1)"},out:{opacity:0,transform:"scale(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-y":{in:{opacity:1,transform:"scaleY(1)"},out:{opacity:0,transform:"scaleY(0)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"scale-x":{in:{opacity:1,transform:"scaleX(1)"},out:{opacity:0,transform:"scaleX(0)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"skew-up":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${F(-20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"skew-down":{in:{opacity:1,transform:"translateY(0) skew(0deg, 0deg)"},out:{opacity:0,transform:`translateY(${F(20)}) skew(-10deg, -5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-left":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${F(20)}) rotate(-5deg)`},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"rotate-right":{in:{opacity:1,transform:"translateY(0) rotate(0deg)"},out:{opacity:0,transform:`translateY(${F(20)}) rotate(5deg)`},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-down":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(-100%)"},common:{transformOrigin:"top"},transitionProperty:"transform, opacity"},"slide-up":{in:{opacity:1,transform:"translateY(0)"},out:{opacity:0,transform:"translateY(100%)"},common:{transformOrigin:"bottom"},transitionProperty:"transform, opacity"},"slide-left":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(100%)"},common:{transformOrigin:"left"},transitionProperty:"transform, opacity"},"slide-right":{in:{opacity:1,transform:"translateX(0)"},out:{opacity:0,transform:"translateX(-100%)"},common:{transformOrigin:"right"},transitionProperty:"transform, opacity"},pop:{...Ns("bottom"),common:{transformOrigin:"center center"}},"pop-bottom-left":{...Ns("bottom"),common:{transformOrigin:"bottom left"}},"pop-bottom-right":{...Ns("bottom"),common:{transformOrigin:"bottom right"}},"pop-top-left":{...Ns("top"),common:{transformOrigin:"top left"}},"pop-top-right":{...Ns("top"),common:{transformOrigin:"top right"}}},ky={entering:"in",entered:"in",exiting:"out",exited:"out","pre-exiting":"out","pre-entering":"out"};function Xk({transition:t,state:e,duration:n,timingFunction:r}){const i={transitionDuration:`${n}ms`,transitionTimingFunction:r};return typeof t=="string"?t in Ml?{transitionProperty:Ml[t].transitionProperty,...i,...Ml[t].common,...Ml[t][ky[e]]}:{}:{transitionProperty:t.transitionProperty,...i,...t.common,...t[ky[e]]}}function Jk({duration:t,exitDuration:e,timingFunction:n,mounted:r,onEnter:i,onExit:o,onEntered:s,onExited:a,enterDelay:u,exitDelay:c}){const h=hr(),f=LE(),m=h.respectReducedMotion?f:!1,[g,w]=R.useState(m?0:t),[T,A]=R.useState(r?"entered":"exited"),y=R.useRef(-1),_=R.useRef(-1),S=R.useRef(-1),N=O=>{const I=O?i:o,v=O?s:a;window.clearTimeout(y.current);const C=m?0:O?t:e;w(C),C===0?(typeof I=="function"&&I(),typeof v=="function"&&v(),A(O?"entered":"exited")):S.current=requestAnimationFrame(()=>{cA.flushSync(()=>{A(O?"pre-entering":"pre-exiting")}),S.current=requestAnimationFrame(()=>{typeof I=="function"&&I(),A(O?"entering":"exiting"),y.current=window.setTimeout(()=>{typeof v=="function"&&v(),A(O?"entered":"exited")},C)})})},M=O=>{if(window.clearTimeout(_.current),typeof(O?u:c)!="number"){N(O);return}_.current=window.setTimeout(()=>{N(O)},O?u:c)};return NE(()=>{M(r)},[r]),R.useEffect(()=>()=>{window.clearTimeout(y.current),cancelAnimationFrame(S.current)},[]),{transitionDuration:g,transitionStatus:T,transitionTimingFunction:n||"ease"}}function ja({keepMounted:t,transition:e="fade",duration:n=250,exitDuration:r=n,mounted:i,children:o,timingFunction:s="ease",onExit:a,onEntered:u,onEnter:c,onExited:h,enterDelay:f,exitDelay:m}){const{transitionDuration:g,transitionStatus:w,transitionTimingFunction:T}=Jk({mounted:i,exitDuration:r,duration:n,timingFunction:s,onExit:a,onEntered:u,onEnter:c,onExited:h,enterDelay:f,exitDelay:m});return g===0?i?b.jsx(b.Fragment,{children:o({})}):t?o({display:"none"}):null:w==="exited"?t?o({display:"none"}):null:b.jsx(b.Fragment,{children:o(Xk({transition:e,duration:g,state:w,timingFunction:T}))})}ja.displayName="@mantine/core/Transition";var yn={root:"m_5ae2e3c",barsLoader:"m_7a2bd4cd",bar:"m_870bb79","bars-loader-animation":"m_5d2b3b9d",dotsLoader:"m_4e3f22d7",dot:"m_870c4af","loader-dots-animation":"m_aac34a1",ovalLoader:"m_b34414df","oval-loader-animation":"m_f8e89c4b"};const m1=R.forwardRef(({className:t,...e},n)=>b.jsxs(se,{component:"span",className:$t(yn.barsLoader,t),...e,ref:n,children:[b.jsx("span",{className:yn.bar}),b.jsx("span",{className:yn.bar}),b.jsx("span",{className:yn.bar})]}));m1.displayName="@mantine/core/Bars";const g1=R.forwardRef(({className:t,...e},n)=>b.jsxs(se,{component:"span",className:$t(yn.dotsLoader,t),...e,ref:n,children:[b.jsx("span",{className:yn.dot}),b.jsx("span",{className:yn.dot}),b.jsx("span",{className:yn.dot})]}));g1.displayName="@mantine/core/Dots";const v1=R.forwardRef(({className:t,...e},n)=>b.jsx(se,{component:"span",className:$t(yn.ovalLoader,t),...e,ref:n}));v1.displayName="@mantine/core/Oval";const y1={bars:m1,oval:v1,dots:g1},Zk={loaders:y1,type:"oval"},eb=(t,{size:e,color:n})=>({root:{"--loader-size":Ft(e,"loader-size"),"--loader-color":n?Fu(n,t):void 0}}),Ua=De((t,e)=>{const n=ue("Loader",Zk,t),{size:r,color:i,type:o,vars:s,className:a,style:u,classNames:c,styles:h,unstyled:f,loaders:m,variant:g,children:w,...T}=n,A=Ne({name:"Loader",props:n,classes:yn,className:a,style:u,classNames:c,styles:h,unstyled:f,vars:s,varsResolver:eb});return w?b.jsx(se,{...A("root"),ref:e,...T,children:w}):b.jsx(se,{...A("root"),ref:e,component:m[o],variant:g,size:r,...T})});Ua.defaultLoaders=y1;Ua.classes=yn;Ua.displayName="@mantine/core/Loader";var kc={root:"m_8d3f4000",icon:"m_8d3afb97",loader:"m_302b9fb1",group:"m_1a0f1b21"};const by={orientation:"horizontal"},tb=(t,{borderWidth:e})=>({group:{"--ai-border-width":F(e)}}),hm=De((t,e)=>{const n=ue("ActionIconGroup",by,t),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:u,vars:c,borderWidth:h,variant:f,mod:m,...g}=ue("ActionIconGroup",by,t),w=Ne({name:"ActionIconGroup",props:n,classes:kc,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:tb,rootSelector:"group"});return b.jsx(se,{...w("group"),ref:e,variant:f,mod:[{"data-orientation":u},m],role:"group",...g})});hm.classes=kc;hm.displayName="@mantine/core/ActionIconGroup";const nb={},rb=(t,{size:e,radius:n,variant:r,gradient:i,color:o,autoContrast:s})=>{const a=t.variantColorResolver({color:o||t.primaryColor,theme:t,gradient:i,variant:r||"filled",autoContrast:s});return{root:{"--ai-size":Ft(e,"ai-size"),"--ai-radius":n===void 0?void 0:oi(n),"--ai-bg":o||r?a.background:void 0,"--ai-hover":o||r?a.hover:void 0,"--ai-hover-color":o||r?a.hoverColor:void 0,"--ai-color":a.color,"--ai-bd":o||r?a.border:void 0}}},Fo=Cn((t,e)=>{const n=ue("ActionIcon",nb,t),{className:r,unstyled:i,variant:o,classNames:s,styles:a,style:u,loading:c,loaderProps:h,size:f,color:m,radius:g,__staticSelector:w,gradient:T,vars:A,children:y,disabled:_,"data-disabled":S,autoContrast:N,mod:M,...O}=n,I=Ne({name:["ActionIcon",w],props:n,className:r,style:u,classes:kc,classNames:s,styles:a,unstyled:i,vars:A,varsResolver:rb});return b.jsxs(Di,{...I("root",{active:!_&&!c&&!S}),...O,unstyled:i,variant:o,size:f,disabled:_||c,ref:e,mod:[{loading:c,disabled:_||S},M],children:[b.jsx(ja,{mounted:!!c,transition:"slide-down",duration:150,children:v=>b.jsx(se,{component:"span",...I("loader",{style:v}),"aria-hidden":!0,children:b.jsx(Ua,{color:"var(--ai-color)",size:"calc(var(--ai-size) * 0.55)",...h})})}),b.jsx(se,{component:"span",mod:{loading:c},...I("icon"),children:y})]})});Fo.classes=kc;Fo.displayName="@mantine/core/ActionIcon";Fo.Group=hm;const _1=R.forwardRef(({size:t="var(--cb-icon-size, 70%)",style:e,...n},r)=>b.jsx("svg",{viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{...e,width:t,height:t},ref:r,...n,children:b.jsx("path",{d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}));_1.displayName="@mantine/core/CloseIcon";var w1={root:"m_86a44da5","root--subtle":"m_220c80f2"};const ib={variant:"subtle"},ob=(t,{size:e,radius:n,iconSize:r})=>({root:{"--cb-size":Ft(e,"cb-size"),"--cb-radius":n===void 0?void 0:oi(n),"--cb-icon-size":F(r)}}),fm=Cn((t,e)=>{const n=ue("CloseButton",ib,t),{iconSize:r,children:i,vars:o,radius:s,className:a,classNames:u,style:c,styles:h,unstyled:f,"data-disabled":m,disabled:g,variant:w,icon:T,mod:A,...y}=n,_=Ne({name:"CloseButton",props:n,className:a,style:c,classes:w1,classNames:u,styles:h,unstyled:f,vars:o,varsResolver:ob});return b.jsxs(Di,{ref:e,...y,unstyled:f,variant:w,disabled:g,mod:[{disabled:g||m},A],..._("root",{variant:w,active:!g&&!m}),children:[T||b.jsx(_1,{}),i]})});fm.classes=w1;fm.displayName="@mantine/core/CloseButton";function sb(t){return R.Children.toArray(t).filter(Boolean)}var E1={root:"m_4081bf90"};const ab={preventGrowOverflow:!0,gap:"md",align:"center",justify:"flex-start",wrap:"wrap"},lb=(t,{grow:e,preventGrowOverflow:n,gap:r,align:i,justify:o,wrap:s},{childWidth:a})=>({root:{"--group-child-width":e&&n?a:void 0,"--group-gap":Ic(r),"--group-align":i,"--group-justify":o,"--group-wrap":s}}),Kn=De((t,e)=>{const n=ue("Group",ab,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,children:u,gap:c,align:h,justify:f,wrap:m,grow:g,preventGrowOverflow:w,vars:T,variant:A,__size:y,mod:_,...S}=n,N=sb(u),M=N.length,O=Ic(c??"md"),v={childWidth:`calc(${100/M}% - (${O} - ${O} / ${M}))`},C=Ne({name:"Group",props:n,stylesCtx:v,className:i,style:o,classes:E1,classNames:r,styles:s,unstyled:a,vars:T,varsResolver:lb});return b.jsx(se,{...C("root"),ref:e,variant:A,mod:[{grow:g},_],size:y,...S,children:N})});Kn.classes=E1;Kn.displayName="@mantine/core/Group";var S1={root:"m_9814e45f"};const ub={zIndex:Tc("modal")},cb=(t,{gradient:e,color:n,backgroundOpacity:r,blur:i,radius:o,zIndex:s})=>({root:{"--overlay-bg":e||(n!==void 0||r!==void 0)&&bn(n||"#000",r??.6)||void 0,"--overlay-filter":i?`blur(${F(i)})`:void 0,"--overlay-radius":o===void 0?void 0:oi(o),"--overlay-z-index":s==null?void 0:s.toString()}}),pm=Cn((t,e)=>{const n=ue("Overlay",ub,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,fixed:c,center:h,children:f,radius:m,zIndex:g,gradient:w,blur:T,color:A,backgroundOpacity:y,mod:_,...S}=n,N=Ne({name:"Overlay",props:n,classes:S1,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:cb});return b.jsx(se,{ref:e,...N("root"),mod:[{center:h,fixed:c},_],...S,children:f})});pm.classes=S1;pm.displayName="@mantine/core/Overlay";const[db,fr]=Sc("ModalBase component was not found in tree");function hb({opened:t,transitionDuration:e}){const[n,r]=R.useState(t),i=R.useRef(),s=LE()?0:e;return R.useEffect(()=>(t?(r(!0),window.clearTimeout(i.current)):s===0?r(!1):i.current=window.setTimeout(()=>r(!1),s),()=>window.clearTimeout(i.current)),[t,s]),n}function fb({id:t,transitionProps:e,opened:n,trapFocus:r,closeOnEscape:i,onClose:o,returnFocus:s}){const a=ME(t),[u,c]=R.useState(!1),[h,f]=R.useState(!1),m=typeof(e==null?void 0:e.duration)=="number"?e==null?void 0:e.duration:200,g=hb({opened:n,transitionDuration:m});return Cf("keydown",w=>{var T;w.key==="Escape"&&i&&n&&((T=w.target)==null?void 0:T.getAttribute("data-mantine-stop-propagation"))!=="true"&&o()},{capture:!0}),iP({opened:n,shouldReturnFocus:r&&s}),{_id:a,titleMounted:u,bodyMounted:h,shouldLockScroll:g,setTitleMounted:c,setBodyMounted:f}}const T1=R.forwardRef(({keepMounted:t,opened:e,onClose:n,id:r,transitionProps:i,trapFocus:o,closeOnEscape:s,returnFocus:a,closeOnClickOutside:u,withinPortal:c,portalProps:h,lockScroll:f,children:m,zIndex:g,shadow:w,padding:T,__vars:A,unstyled:y,removeScrollProps:_,...S},N)=>{const{_id:M,titleMounted:O,bodyMounted:I,shouldLockScroll:v,setTitleMounted:C,setBodyMounted:P}=fb({id:r,transitionProps:i,opened:e,trapFocus:o,closeOnEscape:s,onClose:n,returnFocus:a}),{key:x,...D}=_||{};return b.jsx(p1,{...h,withinPortal:c,children:b.jsx(db,{value:{opened:e,onClose:n,closeOnClickOutside:u,transitionProps:{...i,keepMounted:t},getTitleId:()=>`${M}-title`,getBodyId:()=>`${M}-body`,titleMounted:O,bodyMounted:I,setTitleMounted:C,setBodyMounted:P,trapFocus:o,closeOnEscape:s,zIndex:g,unstyled:y},children:b.jsx(AE,{enabled:v&&f,...D,children:b.jsx(se,{ref:N,...S,__vars:{...A,"--mb-z-index":(g||Tc("modal")).toString(),"--mb-shadow":bE(w),"--mb-padding":Ic(T)},children:m})},x)})})});T1.displayName="@mantine/core/ModalBase";function pb(){const t=fr();return R.useEffect(()=>(t.setBodyMounted(!0),()=>t.setBodyMounted(!1)),[]),t.getBodyId()}var $o={title:"m_615af6c9",header:"m_b5489c3c",inner:"m_60c222c7",content:"m_fd1ab0aa",close:"m_606cb269",body:"m_5df29311"};const I1=R.forwardRef(({className:t,...e},n)=>{const r=pb(),i=fr();return b.jsx(se,{ref:n,...e,id:r,className:$t({[$o.body]:!i.unstyled},t)})});I1.displayName="@mantine/core/ModalBaseBody";const C1=R.forwardRef(({className:t,onClick:e,...n},r)=>{const i=fr();return b.jsx(fm,{ref:r,...n,onClick:o=>{i.onClose(),e==null||e(o)},className:$t({[$o.close]:!i.unstyled},t),unstyled:i.unstyled})});C1.displayName="@mantine/core/ModalBaseCloseButton";const R1=R.forwardRef(({transitionProps:t,className:e,innerProps:n,onKeyDown:r,style:i,...o},s)=>{const a=fr();return b.jsx(ja,{mounted:a.opened,transition:"pop",...a.transitionProps,...t,children:u=>b.jsx("div",{...n,className:$t({[$o.inner]:!a.unstyled},n.className),children:b.jsx(dm,{active:a.opened&&a.trapFocus,innerRef:s,children:b.jsx(Lo,{...o,component:"section",role:"dialog",tabIndex:-1,"aria-modal":!0,"aria-describedby":a.bodyMounted?a.getBodyId():void 0,"aria-labelledby":a.titleMounted?a.getTitleId():void 0,style:[i,u],className:$t({[$o.content]:!a.unstyled},e),unstyled:a.unstyled,children:o.children})})})})});R1.displayName="@mantine/core/ModalBaseContent";const A1=R.forwardRef(({className:t,...e},n)=>{const r=fr();return b.jsx(se,{component:"header",ref:n,className:$t({[$o.header]:!r.unstyled},t),...e})});A1.displayName="@mantine/core/ModalBaseHeader";const mb={duration:200,timingFunction:"ease",transition:"fade"};function gb(t){const e=fr();return{...mb,...e.transitionProps,...t}}const P1=R.forwardRef(({onClick:t,transitionProps:e,style:n,...r},i)=>{const o=fr(),s=gb(e);return b.jsx(ja,{mounted:o.opened,...s,transition:"fade",children:a=>b.jsx(pm,{ref:i,fixed:!0,style:[n,a],zIndex:o.zIndex,unstyled:o.unstyled,onClick:u=>{t==null||t(u),o.closeOnClickOutside&&o.onClose()},...r})})});P1.displayName="@mantine/core/ModalBaseOverlay";function vb(){const t=fr();return R.useEffect(()=>(t.setTitleMounted(!0),()=>t.setTitleMounted(!1)),[]),t.getTitleId()}const k1=R.forwardRef(({className:t,...e},n)=>{const r=vb(),i=fr();return b.jsx(se,{component:"h2",ref:n,className:$t({[$o.title]:!i.unstyled},t),...e,id:r})});k1.displayName="@mantine/core/ModalBaseTitle";function yb({children:t}){return b.jsx(b.Fragment,{children:t})}const[_b,bc]=XA({offsetBottom:!1,offsetTop:!1,describedBy:void 0,getStyles:null,inputId:void 0,labelId:void 0});var cn={wrapper:"m_6c018570",input:"m_8fb7ebe7",section:"m_82577fc2",placeholder:"m_88bacfd0",root:"m_46b77525",label:"m_8fdc1311",required:"m_78a94662",error:"m_8f816625",description:"m_fe47ce59"};const xy={},wb=(t,{size:e})=>({description:{"--input-description-size":e===void 0?void 0:`calc(${Mn(e)} - ${F(2)})`}}),xc=De((t,e)=>{const n=ue("InputDescription",xy,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:c,__staticSelector:h,__inheritStyles:f=!0,variant:m,...g}=ue("InputDescription",xy,n),w=bc(),T=Ne({name:["InputWrapper",h],props:n,classes:cn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"description",vars:u,varsResolver:wb}),A=f&&(w==null?void 0:w.getStyles)||T;return b.jsx(se,{component:"p",ref:e,variant:m,size:c,...A("description",w!=null&&w.getStyles?{className:i,style:o}:void 0),...g})});xc.classes=cn;xc.displayName="@mantine/core/InputDescription";const Eb={},Sb=(t,{size:e})=>({error:{"--input-error-size":e===void 0?void 0:`calc(${Mn(e)} - ${F(2)})`}}),Nc=De((t,e)=>{const n=ue("InputError",Eb,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:c,__staticSelector:h,__inheritStyles:f=!0,variant:m,...g}=n,w=Ne({name:["InputWrapper",h],props:n,classes:cn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"error",vars:u,varsResolver:Sb}),T=bc(),A=f&&(T==null?void 0:T.getStyles)||w;return b.jsx(se,{component:"p",ref:e,variant:m,size:c,...A("error",T!=null&&T.getStyles?{className:i,style:o}:void 0),...g})});Nc.classes=cn;Nc.displayName="@mantine/core/InputError";const Ny={labelElement:"label"},Tb=(t,{size:e})=>({label:{"--input-label-size":Mn(e),"--input-asterisk-color":void 0}}),Dc=De((t,e)=>{const n=ue("InputLabel",Ny,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,labelElement:c,size:h,required:f,htmlFor:m,onMouseDown:g,children:w,__staticSelector:T,variant:A,mod:y,..._}=ue("InputLabel",Ny,n),S=Ne({name:["InputWrapper",T],props:n,classes:cn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"label",vars:u,varsResolver:Tb}),N=bc(),M=(N==null?void 0:N.getStyles)||S;return b.jsxs(se,{...M("label",N!=null&&N.getStyles?{className:i,style:o}:void 0),component:c,variant:A,size:h,ref:e,htmlFor:c==="label"?m:void 0,mod:[{required:f},y],onMouseDown:O=>{g==null||g(O),!O.defaultPrevented&&O.detail>1&&O.preventDefault()},..._,children:[w,f&&b.jsx("span",{...M("required"),"aria-hidden":!0,children:" *"})]})});Dc.classes=cn;Dc.displayName="@mantine/core/InputLabel";const Dy={},mm=De((t,e)=>{const n=ue("InputPlaceholder",Dy,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,__staticSelector:c,variant:h,error:f,mod:m,...g}=ue("InputPlaceholder",Dy,n),w=Ne({name:["InputPlaceholder",c],props:n,classes:cn,className:i,style:o,classNames:r,styles:s,unstyled:a,rootSelector:"placeholder"});return b.jsx(se,{...w("placeholder"),mod:[{error:!!f},m],component:"span",variant:h,ref:e,...g})});mm.classes=cn;mm.displayName="@mantine/core/InputPlaceholder";function Ib(t,{hasDescription:e,hasError:n}){const r=t.findIndex(u=>u==="input"),i=t.slice(0,r),o=t.slice(r+1),s=e&&i.includes("description")||n&&i.includes("error");return{offsetBottom:e&&o.includes("description")||n&&o.includes("error"),offsetTop:s}}const Cb={labelElement:"label",inputContainer:t=>t,inputWrapperOrder:["label","description","input","error"]},Rb=(t,{size:e})=>({label:{"--input-label-size":Mn(e),"--input-asterisk-color":void 0},error:{"--input-error-size":e===void 0?void 0:`calc(${Mn(e)} - ${F(2)})`},description:{"--input-description-size":e===void 0?void 0:`calc(${Mn(e)} - ${F(2)})`}}),gm=De((t,e)=>{const n=ue("InputWrapper",Cb,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,size:c,variant:h,__staticSelector:f,inputContainer:m,inputWrapperOrder:g,label:w,error:T,description:A,labelProps:y,descriptionProps:_,errorProps:S,labelElement:N,children:M,withAsterisk:O,id:I,required:v,__stylesApiProps:C,mod:P,...x}=n,D=Ne({name:["InputWrapper",f],props:C||n,classes:cn,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Rb}),k={size:c,variant:h,__staticSelector:f},ge=ME(I),He=typeof O=="boolean"?O:v,Z=(S==null?void 0:S.id)||`${ge}-error`,X=(_==null?void 0:_.id)||`${ge}-description`,$=ge,q=!!T&&typeof T!="boolean",W=!!A,te=`${q?Z:""} ${W?X:""}`,J=te.trim().length>0?te.trim():void 0,he=(y==null?void 0:y.id)||`${ge}-label`,Xe=w&&b.jsx(Dc,{labelElement:N,id:he,htmlFor:$,required:He,...k,...y,children:w},"label"),de=W&&b.jsx(xc,{..._,...k,size:(_==null?void 0:_.size)||k.size,id:(_==null?void 0:_.id)||X,children:A},"description"),Ve=b.jsx(R.Fragment,{children:m(M)},"input"),Ke=q&&R.createElement(Nc,{...S,...k,size:(S==null?void 0:S.size)||k.size,key:"error",id:(S==null?void 0:S.id)||Z},T),st=g.map(jt=>{switch(jt){case"label":return Xe;case"input":return Ve;case"description":return de;case"error":return Ke;default:return null}});return b.jsx(_b,{value:{getStyles:D,describedBy:J,inputId:$,labelId:he,...Ib(g,{hasDescription:W,hasError:q})},children:b.jsx(se,{ref:e,variant:h,size:c,mod:[{error:!!T},P],...D("root"),...x,children:st})})});gm.classes=cn;gm.displayName="@mantine/core/InputWrapper";const Ab={variant:"default",leftSectionPointerEvents:"none",rightSectionPointerEvents:"none",withAria:!0,withErrorStyles:!0},Pb=(t,e,n)=>({wrapper:{"--input-margin-top":n.offsetTop?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-margin-bottom":n.offsetBottom?"calc(var(--mantine-spacing-xs) / 2)":void 0,"--input-height":Ft(e.size,"input-height"),"--input-fz":Mn(e.size),"--input-radius":e.radius===void 0?void 0:oi(e.radius),"--input-left-section-width":e.leftSectionWidth!==void 0?F(e.leftSectionWidth):void 0,"--input-right-section-width":e.rightSectionWidth!==void 0?F(e.rightSectionWidth):void 0,"--input-padding-y":e.multiline?Ft(e.size,"input-padding-y"):void 0,"--input-left-section-pointer-events":e.leftSectionPointerEvents,"--input-right-section-pointer-events":e.rightSectionPointerEvents}}),In=Cn((t,e)=>{const n=ue("Input",Ab,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,required:u,__staticSelector:c,__stylesApiProps:h,size:f,wrapperProps:m,error:g,disabled:w,leftSection:T,leftSectionProps:A,leftSectionWidth:y,rightSection:_,rightSectionProps:S,rightSectionWidth:N,rightSectionPointerEvents:M,leftSectionPointerEvents:O,variant:I,vars:v,pointer:C,multiline:P,radius:x,id:D,withAria:k,withErrorStyles:ge,mod:He,inputSize:Z,...X}=n,{styleProps:$,rest:q}=om(X),W=bc(),te={offsetBottom:W==null?void 0:W.offsetBottom,offsetTop:W==null?void 0:W.offsetTop},J=Ne({name:["Input",c],props:h||n,classes:cn,className:i,style:o,classNames:r,styles:s,unstyled:a,stylesCtx:te,rootSelector:"wrapper",vars:v,varsResolver:Pb}),he=k?{required:u,disabled:w,"aria-invalid":!!g,"aria-describedby":W==null?void 0:W.describedBy,id:(W==null?void 0:W.inputId)||D}:{};return b.jsxs(se,{...J("wrapper"),...$,...m,mod:[{error:!!g&&ge,pointer:C,disabled:w,multiline:P,"data-with-right-section":!!_,"data-with-left-section":!!T},He],variant:I,size:f,children:[T&&b.jsx("div",{...A,"data-position":"left",...J("section",{className:A==null?void 0:A.className,style:A==null?void 0:A.style}),children:T}),b.jsx(se,{component:"input",...q,...he,ref:e,required:u,mod:{disabled:w,error:!!g&&ge},variant:I,__size:Z,...J("input")}),_&&b.jsx("div",{...S,"data-position":"right",...J("section",{className:S==null?void 0:S.className,style:S==null?void 0:S.style}),children:_})]})});In.classes=cn;In.Wrapper=gm;In.Label=Dc;In.Error=Nc;In.Description=xc;In.Placeholder=mm;In.displayName="@mantine/core/Input";function kb(t,e,n){const r=ue(t,e,n),{label:i,description:o,error:s,required:a,classNames:u,styles:c,className:h,unstyled:f,__staticSelector:m,__stylesApiProps:g,errorProps:w,labelProps:T,descriptionProps:A,wrapperProps:y,id:_,size:S,style:N,inputContainer:M,inputWrapperOrder:O,withAsterisk:I,variant:v,vars:C,mod:P,...x}=r,{styleProps:D,rest:k}=om(x),ge={label:i,description:o,error:s,required:a,classNames:u,className:h,__staticSelector:m,__stylesApiProps:g||r,errorProps:w,labelProps:T,descriptionProps:A,unstyled:f,styles:c,size:S,style:N,inputContainer:M,inputWrapperOrder:O,withAsterisk:I,variant:v,id:_,mod:P,...y};return{...k,classNames:u,styles:c,unstyled:f,wrapperProps:{...ge,...D},inputProps:{required:a,classNames:u,styles:c,unstyled:f,size:S,__staticSelector:m,__stylesApiProps:g||r,error:s,variant:v,id:_}}}const bb={__staticSelector:"InputBase",withAria:!0},Jo=Cn((t,e)=>{const{inputProps:n,wrapperProps:r,...i}=kb("InputBase",bb,t);return b.jsx(In.Wrapper,{...r,children:b.jsx(In,{...n,...i,ref:e})})});Jo.classes={...In.classes,...In.Wrapper.classes};Jo.displayName="@mantine/core/InputBase";const xb={gap:{type:"spacing",property:"gap"},rowGap:{type:"spacing",property:"rowGap"},columnGap:{type:"spacing",property:"columnGap"},align:{type:"identity",property:"alignItems"},justify:{type:"identity",property:"justifyContent"},wrap:{type:"identity",property:"flexWrap"},direction:{type:"identity",property:"flexDirection"}};var b1={root:"m_8bffd616"};const Nb={},Zo=Cn((t,e)=>{const n=ue("Flex",Nb,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,gap:c,rowGap:h,columnGap:f,align:m,justify:g,wrap:w,direction:T,...A}=n,y=Ne({name:"Flex",classes:b1,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u}),_=hr(),S=qE(),N=HE({styleProps:{gap:c,rowGap:h,columnGap:f,align:m,justify:g,wrap:w,direction:T},theme:_,data:xb});return b.jsxs(b.Fragment,{children:[N.hasResponsiveStyles&&b.jsx(WE,{selector:`.${S}`,styles:N.styles,media:N.media}),b.jsx(se,{ref:e,...y("root",{className:S,style:Ec(N.inlineStyles)}),...A})]})});Zo.classes=b1;Zo.displayName="@mantine/core/Flex";var x1={root:"m_b6d8b162"};function Db(t){if(t==="start")return"start";if(t==="end"||t)return"end"}const Vb={inherit:!1},Ob=(t,{variant:e,lineClamp:n,gradient:r,size:i,color:o})=>({root:{"--text-fz":Mn(i),"--text-lh":ZA(i),"--text-gradient":e==="gradient"?Rf(r,t):void 0,"--text-line-clamp":typeof n=="number"?n.toString():void 0,"--text-color":o?Fu(o,t):void 0}}),vn=Cn((t,e)=>{const n=ue("Text",Vb,t),{lineClamp:r,truncate:i,inline:o,inherit:s,gradient:a,span:u,__staticSelector:c,vars:h,className:f,style:m,classNames:g,styles:w,unstyled:T,variant:A,mod:y,size:_,...S}=n,N=Ne({name:["Text",c],props:n,classes:x1,className:f,style:m,classNames:g,styles:w,unstyled:T,vars:h,varsResolver:Ob});return b.jsx(se,{...N("root",{focusable:!0}),ref:e,component:u?"span":"p",variant:A,mod:[{"data-truncate":Db(i),"data-line-clamp":typeof r=="number","data-inline":o,"data-inherit":s},y],size:_,...S})});vn.classes=x1;vn.displayName="@mantine/core/Text";var Vc={root:"m_77c9d27d",inner:"m_80f1301b",label:"m_811560b9",section:"m_a74036a",loader:"m_a25b86ee",group:"m_80d6d844"};const Vy={orientation:"horizontal"},Mb=(t,{borderWidth:e})=>({group:{"--button-border-width":F(e)}}),vm=De((t,e)=>{const n=ue("ButtonGroup",Vy,t),{className:r,style:i,classNames:o,styles:s,unstyled:a,orientation:u,vars:c,borderWidth:h,variant:f,mod:m,...g}=ue("ButtonGroup",Vy,t),w=Ne({name:"ButtonGroup",props:n,classes:Vc,className:r,style:i,classNames:o,styles:s,unstyled:a,vars:c,varsResolver:Mb,rootSelector:"group"});return b.jsx(se,{...w("group"),ref:e,variant:f,mod:[{"data-orientation":u},m],role:"group",...g})});vm.classes=Vc;vm.displayName="@mantine/core/ButtonGroup";const Lb={in:{opacity:1,transform:`translate(-50%, calc(-50% + ${F(1)}))`},out:{opacity:0,transform:"translate(-50%, -200%)"},common:{transformOrigin:"center"},transitionProperty:"transform, opacity"},Fb={},$b=(t,{radius:e,color:n,gradient:r,variant:i,size:o,justify:s,autoContrast:a})=>{const u=t.variantColorResolver({color:n||t.primaryColor,theme:t,gradient:r,variant:i||"filled",autoContrast:a});return{root:{"--button-justify":s,"--button-height":Ft(o,"button-height"),"--button-padding-x":Ft(o,"button-padding-x"),"--button-fz":o!=null&&o.includes("compact")?Mn(o.replace("compact-","")):Mn(o),"--button-radius":e===void 0?void 0:oi(e),"--button-bg":n||i?u.background:void 0,"--button-hover":n||i?u.hover:void 0,"--button-color":u.color,"--button-bd":n||i?u.border:void 0,"--button-hover-color":n||i?u.hoverColor:void 0}}},Xr=Cn((t,e)=>{const n=ue("Button",Fb,t),{style:r,vars:i,className:o,color:s,disabled:a,children:u,leftSection:c,rightSection:h,fullWidth:f,variant:m,radius:g,loading:w,loaderProps:T,gradient:A,classNames:y,styles:_,unstyled:S,"data-disabled":N,autoContrast:M,mod:O,...I}=n,v=Ne({name:"Button",props:n,classes:Vc,className:o,style:r,classNames:y,styles:_,unstyled:S,vars:i,varsResolver:$b}),C=!!c,P=!!h;return b.jsxs(Di,{ref:e,...v("root",{active:!a&&!w&&!N}),unstyled:S,variant:m,disabled:a||w,mod:[{disabled:a||N,loading:w,block:f,"with-left-section":C,"with-right-section":P},O],...I,children:[b.jsx(ja,{mounted:!!w,transition:Lb,duration:150,children:x=>b.jsx(se,{component:"span",...v("loader",{style:x}),"aria-hidden":!0,children:b.jsx(Ua,{color:"var(--button-color)",size:"calc(var(--button-height) / 1.8)",...T})})}),b.jsxs("span",{...v("inner"),children:[c&&b.jsx(se,{component:"span",...v("section"),mod:{position:"left"},children:c}),b.jsx(se,{component:"span",mod:{loading:w},...v("label"),children:u}),h&&b.jsx(se,{component:"span",...v("section"),mod:{position:"right"},children:h})]})]})});Xr.classes=Vc;Xr.displayName="@mantine/core/Button";Xr.Group=vm;var N1={root:"m_9e117634"};const jb={},Ub=(t,{radius:e,fit:n})=>({root:{"--image-radius":e===void 0?void 0:oi(e),"--image-object-fit":n}}),Oc=Cn((t,e)=>{const n=ue("Image",jb,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,onError:c,src:h,radius:f,fit:m,fallbackSrc:g,mod:w,...T}=n,[A,y]=R.useState(!h);R.useEffect(()=>y(!h),[h]);const _=Ne({name:"Image",classes:N1,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Ub});return A&&g?b.jsx(se,{component:"img",ref:e,src:g,..._("root"),onError:c,mod:["fallback",w],...T}):b.jsx(se,{component:"img",ref:e,..._("root"),src:h,onError:S=>{c==null||c(S),y(!0)},mod:w,...T})});Oc.classes=N1;Oc.displayName="@mantine/core/Image";const[Bb,es]=Sc("Modal component was not found in tree");var pr={root:"m_9df02822",content:"m_54c44539",inner:"m_1f958f16",header:"m_d0e2b9cd"};const zb={},Mc=De((t,e)=>{const n=ue("ModalBody",zb,t),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,c=es();return b.jsx(I1,{ref:e,...c.getStyles("body",{classNames:r,style:o,styles:s,className:i}),...u})});Mc.classes=pr;Mc.displayName="@mantine/core/ModalBody";const Wb={},Lc=De((t,e)=>{const n=ue("ModalCloseButton",Wb,t),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,c=es();return b.jsx(C1,{ref:e,...c.getStyles("close",{classNames:r,style:o,styles:s,className:i}),...u})});Lc.classes=pr;Lc.displayName="@mantine/core/ModalCloseButton";const Hb={},Fc=De((t,e)=>{const n=ue("ModalContent",Hb,t),{classNames:r,className:i,style:o,styles:s,vars:a,children:u,...c}=n,h=es(),f=h.scrollAreaComponent||yb;return b.jsx(R1,{...h.getStyles("content",{className:i,style:o,styles:s,classNames:r}),innerProps:h.getStyles("inner",{className:i,style:o,styles:s,classNames:r}),"data-full-screen":h.fullScreen||void 0,"data-modal-content":!0,ref:e,...c,children:b.jsx(f,{style:{maxHeight:h.fullScreen?"100dvh":`calc(100dvh - (${F(h.yOffset)} * 2))`},children:u})})});Fc.classes=pr;Fc.displayName="@mantine/core/ModalContent";const qb={},$c=De((t,e)=>{const n=ue("ModalHeader",qb,t),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,c=es();return b.jsx(A1,{ref:e,...c.getStyles("header",{classNames:r,style:o,styles:s,className:i}),...u})});$c.classes=pr;$c.displayName="@mantine/core/ModalHeader";const Gb={},jc=De((t,e)=>{const n=ue("ModalOverlay",Gb,t),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,c=es();return b.jsx(P1,{ref:e,...c.getStyles("overlay",{classNames:r,style:o,styles:s,className:i}),...u})});jc.classes=pr;jc.displayName="@mantine/core/ModalOverlay";const Kb={__staticSelector:"Modal",closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Tc("modal"),transitionProps:{duration:200,transition:"pop"},yOffset:"5dvh"},Qb=(t,{radius:e,size:n,yOffset:r,xOffset:i})=>({root:{"--modal-radius":e===void 0?void 0:oi(e),"--modal-size":Ft(n,"modal-size"),"--modal-y-offset":F(r),"--modal-x-offset":F(i)}}),Uc=De((t,e)=>{const n=ue("ModalRoot",Kb,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,yOffset:c,scrollAreaComponent:h,radius:f,fullScreen:m,centered:g,xOffset:w,__staticSelector:T,...A}=n,y=Ne({name:T,classes:pr,props:n,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:Qb});return b.jsx(Bb,{value:{yOffset:c,scrollAreaComponent:h,getStyles:y,fullScreen:m},children:b.jsx(T1,{ref:e,...y("root"),"data-full-screen":m||void 0,"data-centered":g||void 0,unstyled:a,...A})})});Uc.classes=pr;Uc.displayName="@mantine/core/ModalRoot";const Yb={},Bc=De((t,e)=>{const n=ue("ModalTitle",Yb,t),{classNames:r,className:i,style:o,styles:s,vars:a,...u}=n,c=es();return b.jsx(k1,{ref:e,...c.getStyles("title",{classNames:r,style:o,styles:s,className:i}),...u})});Bc.classes=pr;Bc.displayName="@mantine/core/ModalTitle";const Xb={closeOnClickOutside:!0,withinPortal:!0,lockScroll:!0,trapFocus:!0,returnFocus:!0,closeOnEscape:!0,keepMounted:!1,zIndex:Tc("modal"),transitionProps:{duration:200,transition:"fade-down"},withOverlay:!0,withCloseButton:!0},Rn=De((t,e)=>{const{title:n,withOverlay:r,overlayProps:i,withCloseButton:o,closeButtonProps:s,children:a,radius:u,...c}=ue("Modal",Xb,t),h=!!n||o;return b.jsxs(Uc,{ref:e,radius:u,...c,children:[r&&b.jsx(jc,{...i}),b.jsxs(Fc,{radius:u,children:[h&&b.jsxs($c,{children:[n&&b.jsx(Bc,{children:n}),o&&b.jsx(Lc,{...s})]}),b.jsx(Mc,{children:a})]})]})});Rn.classes=pr;Rn.displayName="@mantine/core/Modal";Rn.Root=Uc;Rn.Overlay=jc;Rn.Content=Fc;Rn.Body=Mc;Rn.Header=$c;Rn.Title=Bc;Rn.CloseButton=Lc;function D1(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var _a;(function(t){t.event="event",t.props="prop"})(_a||(_a={}));function Pr(){}function Jb(t){var e,n=void 0;return function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e&&r.length===e.length&&r.every(function(o,s){return o===e[s]})||(e=r,n=t.apply(void 0,r)),n}}function wa(t){return!!(t||"").match(/\d/)}function Io(t){return t==null}function Zb(t){return typeof t=="number"&&isNaN(t)}function V1(t){return Io(t)||Zb(t)||typeof t=="number"&&!isFinite(t)}function O1(t){return t.replace(/[-[\]/{}()*+?.\\^$|]/g,"\\$&")}function ex(t){switch(t){case"lakh":return/(\d+?)(?=(\d\d)+(\d)(?!\d))(\.\d+)?/g;case"wan":return/(\d)(?=(\d{4})+(?!\d))/g;case"thousand":default:return/(\d)(?=(\d{3})+(?!\d))/g}}function tx(t,e,n){var r=ex(n),i=t.search(/[1-9]/);return i=i===-1?t.length:i,t.substring(0,i)+t.substring(i,t.length).replace(r,"$1"+e)}function nx(t){var e=R.useRef(t);e.current=t;var n=R.useRef(function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return e.current.apply(e,r)});return n.current}function ym(t,e){e===void 0&&(e=!0);var n=t[0]==="-",r=n&&e;t=t.replace("-","");var i=t.split("."),o=i[0],s=i[1]||"";return{beforeDecimal:o,afterDecimal:s,hasNegation:n,addNegation:r}}function rx(t){if(!t)return t;var e=t[0]==="-";e&&(t=t.substring(1,t.length));var n=t.split("."),r=n[0].replace(/^0+/,"")||"0",i=n[1]||"";return(e?"-":"")+r+(i?"."+i:"")}function M1(t,e,n){for(var r="",i=n?"0":"",o=0;o<=e-1;o++)r+=t[o]||i;return r}function Oy(t,e){return Array(e+1).join(t)}function L1(t){var e=t+"",n=e[0]==="-"?"-":"";n&&(e=e.substring(1));var r=e.split(/[eE]/g),i=r[0],o=r[1];if(o=Number(o),!o)return n+i;i=i.replace(".","");var s=1+o,a=i.length;return s<0?i="0."+Oy("0",Math.abs(s))+i:s>=a?i=i+Oy("0",s-a):i=(i.substring(0,s)||"0")+"."+i.substring(s),n+i}function My(t,e,n){if(["","-"].indexOf(t)!==-1)return t;var r=(t.indexOf(".")!==-1||n)&&e,i=ym(t),o=i.beforeDecimal,s=i.afterDecimal,a=i.hasNegation,u=parseFloat("0."+(s||"0")),c=s.length<=e?"0."+s:u.toFixed(e),h=c.split("."),f=o;o&&Number(h[0])&&(f=o.split("").reverse().reduce(function(T,A,y){return T.length>y?(Number(T[0])+Number(A)).toString()+T.substring(1,T.length):A+T},h[0]));var m=M1(h[1]||"",e,n),g=a?"-":"",w=r?".":"";return""+g+f+w+m}function gi(t,e){if(t.value=t.value,t!==null){if(t.createTextRange){var n=t.createTextRange();return n.move("character",e),n.select(),!0}return t.selectionStart||t.selectionStart===0?(t.focus(),t.setSelectionRange(e,e),!0):(t.focus(),!1)}}var F1=Jb(function(t,e){for(var n=0,r=0,i=t.length,o=e.length;t[n]===e[n]&&n<i;)n++;for(;t[i-1-r]===e[o-1-r]&&o-r>n&&i-r>n;)r++;return{from:{start:n,end:i-r},to:{start:n,end:o-r}}}),ix=function(t,e){var n=Math.min(t.selectionStart,e);return{from:{start:n,end:t.selectionEnd},to:{start:n,end:e}}};function ox(t,e,n){return Math.min(Math.max(t,e),n)}function mh(t){return Math.max(t.selectionStart,t.selectionEnd)}function sx(){return typeof navigator<"u"&&!(navigator.platform&&/iPhone|iPod/.test(navigator.platform))}function ax(t){return{from:{start:0,end:0},to:{start:0,end:t.length},lastValue:""}}function lx(t){var e=t.currentValue,n=t.formattedValue,r=t.currentValueIndex,i=t.formattedValueIndex;return e[r]===n[i]}function ux(t,e,n,r,i,o,s){s===void 0&&(s=lx);var a=i.findIndex(function(N){return N}),u=t.slice(0,a);!e&&!n.startsWith(u)&&(e=u,n=u+n,r=r+u.length);for(var c=n.length,h=t.length,f={},m=new Array(c),g=0;g<c;g++){m[g]=-1;for(var w=0,T=h;w<T;w++){var A=s({currentValue:n,lastValue:e,formattedValue:t,currentValueIndex:g,formattedValueIndex:w});if(A&&f[w]!==!0){m[g]=w,f[w]=!0;break}}}for(var y=r;y<c&&(m[y]===-1||!o(n[y]));)y++;var _=y===c||m[y]===-1?h:m[y];for(y=r-1;y>0&&m[y]===-1;)y--;var S=y===-1||m[y]===-1?0:m[y]+1;return S>_?_:r-S<_-r?S:_}function Ly(t,e,n,r){var i=t.length;if(e=ox(e,0,i),r==="left"){for(;e>=0&&!n[e];)e--;e===-1&&(e=n.indexOf(!0))}else{for(;e<=i&&!n[e];)e++;e>i&&(e=n.lastIndexOf(!0))}return e===-1&&(e=i),e}function cx(t){for(var e=Array.from({length:t.length+1}).map(function(){return!0}),n=0,r=e.length;n<r;n++)e[n]=!!(wa(t[n])||wa(t[n-1]));return e}function $1(t,e,n,r,i,o){o===void 0&&(o=Pr);var s=nx(function(w,T){var A,y;return V1(w)?(y="",A=""):typeof w=="number"||T?(y=typeof w=="number"?L1(w):w,A=r(y)):(y=i(w,void 0),A=r(y)),{formattedValue:A,numAsString:y}}),a=R.useState(function(){return s(Io(t)?e:t,n)}),u=a[0],c=a[1],h=function(w,T){w.formattedValue!==u.formattedValue&&c({formattedValue:w.formattedValue,numAsString:w.value}),o(w,T)},f=t,m=n;Io(t)&&(f=u.numAsString,m=!0);var g=s(f,m);return R.useMemo(function(){c(g)},[g.formattedValue]),[u,h]}function dx(t){return t.replace(/[^0-9]/g,"")}function hx(t){return t}function fx(t){var e=t.type;e===void 0&&(e="text");var n=t.displayType;n===void 0&&(n="input");var r=t.customInput,i=t.renderText,o=t.getInputRef,s=t.format;s===void 0&&(s=hx);var a=t.removeFormatting;a===void 0&&(a=dx);var u=t.defaultValue,c=t.valueIsNumericString,h=t.onValueChange,f=t.isAllowed,m=t.onChange;m===void 0&&(m=Pr);var g=t.onKeyDown;g===void 0&&(g=Pr);var w=t.onMouseUp;w===void 0&&(w=Pr);var T=t.onFocus;T===void 0&&(T=Pr);var A=t.onBlur;A===void 0&&(A=Pr);var y=t.value,_=t.getCaretBoundary;_===void 0&&(_=cx);var S=t.isValidInputCharacter;S===void 0&&(S=wa);var N=t.isCharacterSame,M=D1(t,["type","displayType","customInput","renderText","getInputRef","format","removeFormatting","defaultValue","valueIsNumericString","onValueChange","isAllowed","onChange","onKeyDown","onMouseUp","onFocus","onBlur","value","getCaretBoundary","isValidInputCharacter","isCharacterSame"]),O=$1(y,u,!!c,s,a,h),I=O[0],v=I.formattedValue,C=I.numAsString,P=O[1],x=R.useRef(),D=R.useRef({formattedValue:v,numAsString:C}),k=function(G,Q){D.current={formattedValue:G.formattedValue,numAsString:G.value},P(G,Q)},ge=R.useState(!1),He=ge[0],Z=ge[1],X=R.useRef(null),$=R.useRef({setCaretTimeout:null,focusTimeout:null});R.useEffect(function(){return Z(!0),function(){clearTimeout($.current.setCaretTimeout),clearTimeout($.current.focusTimeout)}},[]);var q=s,W=function(G,Q){var re=parseFloat(Q);return{formattedValue:G,value:Q,floatValue:isNaN(re)?void 0:re}},te=function(G,Q,re){G.selectionStart===0&&G.selectionEnd===G.value.length||(gi(G,Q),$.current.setCaretTimeout=setTimeout(function(){G.value===re&&G.selectionStart!==Q&&gi(G,Q)},0))},J=function(G,Q,re){return Ly(G,Q,_(G),re)},he=function(G,Q,re){var _e=_(Q),Ue=ux(Q,v,G,re,_e,S,N);return Ue=Ly(Q,Ue,_e),Ue},Xe=function(G){var Q=G.formattedValue;Q===void 0&&(Q="");var re=G.input,_e=G.source,Ue=G.event,Ce=G.numAsString,z;if(re){var ce=G.inputValue||re.value,Be=mh(re);re.value=Q,z=he(ce,Q,Be),z!==void 0&&te(re,z,Q)}Q!==v&&k(W(Q,Ce),{event:Ue,source:_e})};R.useEffect(function(){var G=D.current,Q=G.formattedValue,re=G.numAsString;(v!==Q||C!==re)&&k(W(v,C),{event:void 0,source:_a.props})},[v,C]);var de=X.current?mh(X.current):void 0,Ve=typeof window<"u"?R.useLayoutEffect:R.useEffect;Ve(function(){var G=X.current;if(v!==D.current.formattedValue&&G){var Q=he(D.current.formattedValue,v,de);G.value=v,te(G,Q,v)}},[v]);var Ke=function(G,Q,re){var _e=Q.target,Ue=x.current?ix(x.current,_e.selectionEnd):F1(v,G),Ce=Object.assign(Object.assign({},Ue),{lastValue:v}),z=a(G,Ce),ce=q(z);if(z=a(ce,void 0),f&&!f(W(ce,z))){var Be=Q.target,Se=mh(Be),Te=he(G,v,Se);return Be.value=v,te(Be,Te,v),!1}return Xe({formattedValue:ce,numAsString:z,inputValue:G,event:Q,source:re,input:Q.target}),!0},st=function(G,Q){Q===void 0&&(Q=0);var re=G.selectionStart,_e=G.selectionEnd;x.current={selectionStart:re,selectionEnd:_e+Q}},jt=function(G){var Q=G.target,re=Q.value,_e=Ke(re,G,_a.event);_e&&m(G),x.current=void 0},Zt=function(G){var Q=G.target,re=G.key,_e=Q.selectionStart,Ue=Q.selectionEnd,Ce=Q.value;Ce===void 0&&(Ce="");var z;re==="ArrowLeft"||re==="Backspace"?z=Math.max(_e-1,0):re==="ArrowRight"?z=Math.min(_e+1,Ce.length):re==="Delete"&&(z=_e);var ce=0;re==="Delete"&&_e===Ue&&(ce=1);var Be=re==="ArrowLeft"||re==="ArrowRight";if(z===void 0||_e!==Ue&&!Be){g(G),st(Q,ce);return}var Se=z;if(Be){var Te=re==="ArrowLeft"?"left":"right";Se=J(Ce,z,Te),Se!==z&&G.preventDefault()}else re==="Delete"&&!S(Ce[z])?Se=J(Ce,z,"right"):re==="Backspace"&&!S(Ce[z])&&(Se=J(Ce,z,"left"));Se!==z&&te(Q,Se,Ce),g(G),st(Q,ce)},An=function(G){var Q=G.target,re=function(){var _e=Q.selectionStart,Ue=Q.selectionEnd,Ce=Q.value;if(Ce===void 0&&(Ce=""),_e===Ue){var z=J(Ce,_e);z!==_e&&te(Q,z,Ce)}};re(),requestAnimationFrame(function(){re()}),w(G),st(Q)},en=function(G){G.persist&&G.persist();var Q=G.target,re=G.currentTarget;X.current=Q,$.current.focusTimeout=setTimeout(function(){var _e=Q.selectionStart,Ue=Q.selectionEnd,Ce=Q.value;Ce===void 0&&(Ce="");var z=J(Ce,_e);z!==_e&&!(_e===0&&Ue===Ce.length)&&te(Q,z,Ce),T(Object.assign(Object.assign({},G),{currentTarget:re}))},0)},dn=function(G){X.current=null,clearTimeout($.current.focusTimeout),clearTimeout($.current.setCaretTimeout),A(G)},tn=He&&sx()?"numeric":void 0,Ut=Object.assign({inputMode:tn},M,{type:e,value:v,onChange:jt,onKeyDown:Zt,onMouseUp:An,onFocus:en,onBlur:dn});if(n==="text")return i?Cr.createElement(Cr.Fragment,null,i(v,M)||null):Cr.createElement("span",Object.assign({},M,{ref:o}),v);if(r){var gr=r;return Cr.createElement(gr,Object.assign({},Ut,{ref:o}))}return Cr.createElement("input",Object.assign({},Ut,{ref:o}))}function Fy(t,e){var n=e.decimalScale,r=e.fixedDecimalScale,i=e.prefix;i===void 0&&(i="");var o=e.suffix;o===void 0&&(o="");var s=e.allowNegative,a=e.thousandsGroupStyle;if(a===void 0&&(a="thousand"),t===""||t==="-")return t;var u=zc(e),c=u.thousandSeparator,h=u.decimalSeparator,f=n!==0&&t.indexOf(".")!==-1||n&&r,m=ym(t,s),g=m.beforeDecimal,w=m.afterDecimal,T=m.addNegation;return n!==void 0&&(w=M1(w,n,!!r)),c&&(g=tx(g,c,a)),i&&(g=i+g),o&&(w=w+o),T&&(g="-"+g),t=g+(f&&h||"")+w,t}function zc(t){var e=t.decimalSeparator;e===void 0&&(e=".");var n=t.thousandSeparator,r=t.allowedDecimalSeparators;return n===!0&&(n=","),r||(r=[e,"."]),{decimalSeparator:e,thousandSeparator:n,allowedDecimalSeparators:r}}function px(t,e){t===void 0&&(t="");var n=new RegExp("(-)"),r=new RegExp("(-)(.)*(-)"),i=n.test(t),o=r.test(t);return t=t.replace(/-/g,""),i&&!o&&e&&(t="-"+t),t}function mx(t,e){return new RegExp("(^-)|[0-9]|"+O1(t),"g")}function gx(t,e,n){return t===""?!0:!(e!=null&&e.match(/\d/))&&!(n!=null&&n.match(/\d/))&&typeof t=="string"&&!isNaN(Number(t))}function vx(t,e,n){var r;e===void 0&&(e=ax(t));var i=n.allowNegative,o=n.prefix;o===void 0&&(o="");var s=n.suffix;s===void 0&&(s="");var a=n.decimalScale,u=e.from,c=e.to,h=c.start,f=c.end,m=zc(n),g=m.allowedDecimalSeparators,w=m.decimalSeparator,T=t[f]===w;if(wa(t)&&(t===o||t===s)&&e.lastValue==="")return t;if(f-h===1&&g.indexOf(t[h])!==-1){var A=a===0?"":w;t=t.substring(0,h)+A+t.substring(h+1,t.length)}var y=function(X,$,q){var W=!1,te=!1;o.startsWith("-")?W=!1:X.startsWith("--")?(W=!1,te=!0):s.startsWith("-")&&X.length===s.length?W=!1:X[0]==="-"&&(W=!0);var J=W?1:0;return te&&(J=2),J&&(X=X.substring(J),$-=J,q-=J),{value:X,start:$,end:q,hasNegation:W}},_=y(t,h,f),S=_.hasNegation;r=_,t=r.value,h=r.start,f=r.end;var N=y(e.lastValue,u.start,u.end),M=N.start,O=N.end,I=N.value,v=t.substring(h,f);t.length&&I.length&&(M>I.length-s.length||O<o.length)&&!(v&&s.startsWith(v))&&(t=I);var C=0;t.startsWith(o)?C+=o.length:h<o.length&&(C=h),t=t.substring(C),f-=C;var P=t.length,x=t.length-s.length;t.endsWith(s)?P=x:(f>x||f>t.length-s.length)&&(P=f),t=t.substring(0,P),t=px(S?"-"+t:t,i),t=(t.match(mx(w))||[]).join("");var D=t.indexOf(w);t=t.replace(new RegExp(O1(w),"g"),function(X,$){return $===D?".":""});var k=ym(t,i),ge=k.beforeDecimal,He=k.afterDecimal,Z=k.addNegation;return c.end-c.start<u.end-u.start&&ge===""&&T&&!parseFloat(He)&&(t=Z?"-":""),t}function yx(t,e){var n=e.prefix;n===void 0&&(n="");var r=e.suffix;r===void 0&&(r="");var i=Array.from({length:t.length+1}).map(function(){return!0}),o=t[0]==="-";i.fill(!1,0,n.length+(o?1:0));var s=t.length;return i.fill(!1,s-r.length+1,s+1),i}function _x(t){var e=zc(t),n=e.thousandSeparator,r=e.decimalSeparator,i=t.prefix;i===void 0&&(i="");var o=t.allowNegative;if(o===void 0&&(o=!0),n===r)throw new Error(`
        Decimal separator can't be same as thousand separator.
        thousandSeparator: `+n+` (thousandSeparator = {true} is same as thousandSeparator = ",")
        decimalSeparator: `+r+` (default value for decimalSeparator is .)
     `);return i.startsWith("-")&&o&&(console.error(`
      Prefix can't start with '-' when allowNegative is true.
      prefix: `+i+`
      allowNegative: `+o+`
    `),o=!1),Object.assign(Object.assign({},t),{allowNegative:o})}function wx(t){t=_x(t),t.decimalSeparator,t.allowedDecimalSeparators,t.thousandsGroupStyle;var e=t.suffix,n=t.allowNegative,r=t.allowLeadingZeros,i=t.onKeyDown;i===void 0&&(i=Pr);var o=t.onBlur;o===void 0&&(o=Pr);var s=t.thousandSeparator,a=t.decimalScale,u=t.fixedDecimalScale,c=t.prefix;c===void 0&&(c="");var h=t.defaultValue,f=t.value,m=t.valueIsNumericString,g=t.onValueChange,w=D1(t,["decimalSeparator","allowedDecimalSeparators","thousandsGroupStyle","suffix","allowNegative","allowLeadingZeros","onKeyDown","onBlur","thousandSeparator","decimalScale","fixedDecimalScale","prefix","defaultValue","value","valueIsNumericString","onValueChange"]),T=zc(t),A=T.decimalSeparator,y=T.allowedDecimalSeparators,_=function(Z){return Fy(Z,t)},S=function(Z,X){return vx(Z,X,t)},N=Io(f)?h:f,M=m??gx(N,c,e);Io(f)?Io(h)||(M=M||typeof h=="number"):M=M||typeof f=="number";var O=function(Z){return V1(Z)?Z:(typeof Z=="number"&&(Z=L1(Z)),M&&typeof a=="number"?My(Z,a,!!u):Z)},I=$1(O(f),O(h),!!M,_,S,g),v=I[0],C=v.numAsString,P=v.formattedValue,x=I[1],D=function(Z){var X=Z.target,$=Z.key,q=X.selectionStart,W=X.selectionEnd,te=X.value;if(te===void 0&&(te=""),($==="Backspace"||$==="Delete")&&W<c.length){Z.preventDefault();return}if(q!==W){i(Z);return}$==="Backspace"&&te[0]==="-"&&q===c.length+1&&n&&gi(X,1),a&&u&&($==="Backspace"&&te[q-1]===A?(gi(X,q-1),Z.preventDefault()):$==="Delete"&&te[q]===A&&Z.preventDefault()),y!=null&&y.includes($)&&te[q]===A&&gi(X,q+1);var J=s===!0?",":s;$==="Backspace"&&te[q-1]===J&&gi(X,q-1),$==="Delete"&&te[q]===J&&gi(X,q+1),i(Z)},k=function(Z){var X=C;if(X.match(/\d/g)||(X=""),r||(X=rx(X)),u&&a&&(X=My(X,a,u)),X!==C){var $=Fy(X,t);x({formattedValue:$,value:X,floatValue:parseFloat(X)},{event:Z,source:_a.event})}o(Z)},ge=function(Z){return Z===A?!0:wa(Z)},He=function(Z){var X=Z.currentValue,$=Z.lastValue,q=Z.formattedValue,W=Z.currentValueIndex,te=Z.formattedValueIndex,J=X[W],he=q[te],Xe=F1($,X),de=Xe.to,Ve=function(Ke){return S(Ke).indexOf(".")+c.length};return f===0&&u&&a&&X[de.start]===A&&Ve(X)<W&&Ve(q)>te?!1:W>=de.start&&W<de.end&&y&&y.includes(J)&&he===A?!0:J===he};return Object.assign(Object.assign({},w),{value:P,valueIsNumericString:!1,isValidInputCharacter:ge,isCharacterSame:He,onValueChange:x,format:_,removeFormatting:S,getCaretBoundary:function(Z){return yx(Z,t)},onKeyDown:D,onBlur:k})}function Ex(t){var e=wx(t);return Cr.createElement(fx,Object.assign({},e))}function $y({direction:t,style:e,...n}){return b.jsx("svg",{style:{width:"var(--ni-chevron-size)",height:"var(--ni-chevron-size)",transform:t==="up"?"rotate(180deg)":void 0,...e},viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...n,children:b.jsx("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})})}var xf={root:"m_e2f5cd4e",controls:"m_95e17d22",control:"m_80b4b171"};const Sx=/^(0\.0*|-0(\.0*)?)$/,Tx=/^-?0\d+(\.\d+)?\.?$/;function Ix(t){return(typeof t=="number"?t<Number.MAX_SAFE_INTEGER:!Number.isNaN(Number(t)))&&!Number.isNaN(t)}function jy(t,e,n){if(t===void 0)return!0;const r=e===void 0||t>=e,i=n===void 0||t<=n;return r&&i}const Cx={step:1,clampBehavior:"blur",allowDecimal:!0,allowNegative:!0,withKeyboardEvents:!0,allowLeadingZeros:!0,trimLeadingZeroesOnBlur:!0,startValue:0},Rx=(t,{size:e})=>({controls:{"--ni-chevron-size":Ft(e,"ni-chevron-size")}}),_m=De((t,e)=>{const n=ue("NumberInput",Cx,t),{className:r,classNames:i,styles:o,unstyled:s,vars:a,onChange:u,onValueChange:c,value:h,defaultValue:f,max:m,min:g,step:w,hideControls:T,rightSection:A,isAllowed:y,clampBehavior:_,onBlur:S,allowDecimal:N,decimalScale:M,onKeyDown:O,onKeyDownCapture:I,handlersRef:v,startValue:C,disabled:P,rightSectionPointerEvents:x,allowNegative:D,readOnly:k,size:ge,rightSectionWidth:He,stepHoldInterval:Z,stepHoldDelay:X,allowLeadingZeros:$,withKeyboardEvents:q,trimLeadingZeroesOnBlur:W,...te}=n,J=Ne({name:"NumberInput",classes:xf,props:n,classNames:i,styles:o,unstyled:s,vars:a,varsResolver:Rx}),{resolvedClassNames:he,resolvedStyles:Xe}=ZP({classNames:i,styles:o,props:n}),[de,Ve]=_P({value:h,defaultValue:f,onChange:u}),Ke=X!==void 0&&Z!==void 0,st=R.useRef(null),jt=R.useRef(null),Zt=R.useRef(0),An=(z,ce)=>{ce.source==="event"&&Ve(Ix(z.floatValue)&&!Sx.test(z.value)&&!($&&Tx.test(z.value))?z.floatValue:z.value),c==null||c(z,ce)},en=z=>{const ce=String(z).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return ce?Math.max(0,(ce[1]?ce[1].length:0)-(ce[2]?+ce[2]:0)):0},dn=z=>{st.current&&typeof z<"u"&&st.current.setSelectionRange(z,z)},tn=R.useRef();tn.current=()=>{let z;const ce=en(de),Be=en(w),Se=Math.max(ce,Be),Te=10**Se;if(typeof de!="number"||Number.isNaN(de))z=Dl(C,g,m);else if(m!==void 0){const zt=(Math.round(de*Te)+Math.round(w*Te))/Te;z=zt<=m?zt:m}else z=(Math.round(de*Te)+Math.round(w*Te))/Te;const Bt=z.toFixed(Se);Ve(parseFloat(Bt)),c==null||c({floatValue:parseFloat(Bt),formattedValue:Bt,value:Bt},{source:"increment"}),setTimeout(()=>{var zt;return dn((zt=st.current)==null?void 0:zt.value.length)},0)};const Ut=R.useRef();Ut.current=()=>{let z;const ce=g!==void 0?g:D?Number.MIN_SAFE_INTEGER:0,Be=en(de),Se=en(w),Te=Math.max(Be,Se),Bt=10**Te;if(typeof de!="number"||Number.isNaN(de))z=Dl(C,ce,m);else{const vr=(Math.round(de*Bt)-Math.round(w*Bt))/Bt;z=ce!==void 0&&vr<ce?ce:vr}const zt=z.toFixed(Te);Ve(parseFloat(zt)),c==null||c({floatValue:parseFloat(zt),formattedValue:zt,value:zt},{source:"decrement"}),setTimeout(()=>{var vr;return dn((vr=st.current)==null?void 0:vr.value.length)},0)};const gr=z=>{O==null||O(z),!(k||!q)&&(z.key==="ArrowUp"&&(z.preventDefault(),tn.current()),z.key==="ArrowDown"&&(z.preventDefault(),Ut.current()))},G=z=>{if(I==null||I(z),z.key==="Backspace"){const ce=st.current;ce.selectionStart===0&&ce.selectionStart===ce.selectionEnd&&(z.preventDefault(),window.setTimeout(()=>dn(0),0))}};em(v,{increment:tn.current,decrement:Ut.current});const Q=z=>{z?tn.current():Ut.current(),Zt.current+=1},re=z=>{if(Q(z),Ke){const ce=typeof Z=="number"?Z:Z(Zt.current);jt.current=window.setTimeout(()=>re(z),ce)}},_e=(z,ce)=>{var Be;z.preventDefault(),(Be=st.current)==null||Be.focus(),Q(ce),Ke&&(jt.current=window.setTimeout(()=>re(ce),X))},Ue=()=>{jt.current&&window.clearTimeout(jt.current),jt.current=null,Zt.current=0},Ce=b.jsxs("div",{...J("controls"),children:[b.jsx(Di,{...J("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof de=="number"&&m!==void 0&&de>=m,mod:{direction:"up"},onMouseDown:z=>z.preventDefault(),onPointerDown:z=>{_e(z,!0)},onPointerUp:Ue,onPointerLeave:Ue,children:b.jsx($y,{direction:"up"})}),b.jsx(Di,{...J("control"),tabIndex:-1,"aria-hidden":!0,disabled:P||typeof de=="number"&&g!==void 0&&de<=g,mod:{direction:"down"},onMouseDown:z=>z.preventDefault(),onPointerDown:z=>{_e(z,!1)},onPointerUp:Ue,onPointerLeave:Ue,children:b.jsx($y,{direction:"down"})})]});return b.jsx(Jo,{component:Ex,allowNegative:D,className:$t(xf.root,r),size:ge,...te,readOnly:k,disabled:P,value:de,getInputRef:si(e,st),onValueChange:An,rightSection:T||k?A:A||Ce,classNames:he,styles:Xe,unstyled:s,__staticSelector:"NumberInput",decimalScale:N?M:0,onKeyDown:gr,onKeyDownCapture:G,rightSectionPointerEvents:x??(P?"none":void 0),rightSectionWidth:He??`var(--ni-right-section-width-${ge||"sm"})`,allowLeadingZeros:$,onBlur:z=>{if(S==null||S(z),_==="blur"&&typeof de=="number"&&Dl(de,g,m)!==de&&Ve(Dl(de,g,m)),W&&typeof de=="string"){const ce=de.replace(/^0+/,""),Be=parseFloat(ce);Ve(Number.isNaN(Be)||Be>Number.MAX_SAFE_INTEGER?ce:Be)}},isAllowed:z=>_==="strict"?y?y(z)&&jy(z.floatValue,g,m):jy(z.floatValue,g,m):y?y(z):!0})});_m.classes={...Jo.classes,...xf};_m.displayName="@mantine/core/NumberInput";const Ax={},Wc=De((t,e)=>{const{w:n,h:r,miw:i,mih:o,...s}=ue("Space",Ax,t);return b.jsx(se,{ref:e,...s,w:n,miw:i??n,h:r,mih:o??r})});Wc.displayName="@mantine/core/Space";var j1={root:"m_6d731127"};const Px={gap:"md",align:"stretch",justify:"flex-start"},kx=(t,{gap:e,align:n,justify:r})=>({root:{"--stack-gap":Ic(e),"--stack-align":n,"--stack-justify":r}}),Hc=De((t,e)=>{const n=ue("Stack",Px,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,vars:u,align:c,justify:h,gap:f,variant:m,...g}=n,w=Ne({name:"Stack",props:n,classes:j1,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:u,varsResolver:kx});return b.jsx(se,{ref:e,...w("root"),variant:m,...g})});Hc.classes=j1;Hc.displayName="@mantine/core/Stack";const bx={},ju=De((t,e)=>{const n=ue("TextInput",bx,t);return b.jsx(Jo,{component:"input",ref:e,...n,__staticSelector:"TextInput"})});ju.classes=Jo.classes;ju.displayName="@mantine/core/TextInput";const xx=["h1","h2","h3","h4","h5","h6"];function Nx(t,e){const n=e!==void 0?e:`h${t}`;return xx.includes(n)?{fontSize:`var(--mantine-${n}-font-size)`,fontWeight:`var(--mantine-${n}-font-weight)`,lineHeight:`var(--mantine-${n}-line-height)`}:{fontSize:F(n),fontWeight:`var(--mantine-h${t}-font-weight)`,lineHeight:`var(--mantine-h${t}-line-height)`}}var U1={root:"m_8a5d1357"};const Dx={order:1},Vx=(t,{order:e,size:n,lineClamp:r,textWrap:i})=>{const o=Nx(e,n);return{root:{"--title-fw":o.fontWeight,"--title-lh":o.lineHeight,"--title-fz":o.fontSize,"--title-line-clamp":typeof r=="number"?r.toString():void 0,"--title-text-wrap":i}}},Vi=De((t,e)=>{const n=ue("Title",Dx,t),{classNames:r,className:i,style:o,styles:s,unstyled:a,order:u,vars:c,size:h,variant:f,lineClamp:m,textWrap:g,mod:w,...T}=n,A=Ne({name:"Title",props:n,classes:U1,className:i,style:o,classNames:r,styles:s,unstyled:a,vars:c,varsResolver:Vx});return[1,2,3,4,5,6].includes(u)?b.jsx(se,{...A("root"),component:`h${u}`,variant:f,ref:e,mod:[{order:u,"data-line-clamp":typeof m=="number"},w],size:h,...T}):null});Vi.classes=U1;Vi.displayName="@mantine/core/Title";const B1="/gestionale/assets/logo_compatto_bianco-N_d_dE2y.svg";/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ox={outline:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},filled:{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",stroke:"none"}};/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=(t,e,n,r)=>{const i=R.forwardRef(({color:o="currentColor",size:s=24,stroke:a=2,title:u,className:c,children:h,...f},m)=>R.createElement("svg",{ref:m,...Ox[t],width:s,height:s,className:["tabler-icon",`tabler-icon-${e}`,c].join(" "),strokeWidth:a,stroke:o,...f},[u&&R.createElement("title",{key:"svg-title"},u),...r.map(([g,w])=>R.createElement(g,w)),...Array.isArray(h)?h:[h]]));return i.displayName=`${n}`,i};/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Mx=qc("outline","circle-plus","IconCirclePlus",[["path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 0 0 -18 0",key:"svg-0"}],["path",{d:"M9 12h6",key:"svg-1"}],["path",{d:"M12 9v6",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Lx=qc("outline","door-exit","IconDoorExit",[["path",{d:"M13 12v.01",key:"svg-0"}],["path",{d:"M3 21h18",key:"svg-1"}],["path",{d:"M5 21v-16a2 2 0 0 1 2 -2h7.5m2.5 10.5v7.5",key:"svg-2"}],["path",{d:"M14 7h7m-3 -3l3 3l-3 3",key:"svg-3"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var Fx=qc("outline","pencil","IconPencil",[["path",{d:"M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4",key:"svg-0"}],["path",{d:"M13.5 6.5l4 4",key:"svg-1"}]]);/**
 * @license @tabler/icons-react v3.19.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var $x=qc("outline","trash","IconTrash",[["path",{d:"M4 7l16 0",key:"svg-0"}],["path",{d:"M10 11l0 6",key:"svg-1"}],["path",{d:"M14 11l0 6",key:"svg-2"}],["path",{d:"M5 7l1 12a2 2 0 0 0 2 2h8a2 2 0 0 0 2 -2l1 -12",key:"svg-3"}],["path",{d:"M9 7v-3a1 1 0 0 1 1 -1h4a1 1 0 0 1 1 1v3",key:"svg-4"}]]),lt=[];for(var gh=0;gh<256;++gh)lt.push((gh+256).toString(16).slice(1));function jx(t,e=0){return(lt[t[e+0]]+lt[t[e+1]]+lt[t[e+2]]+lt[t[e+3]]+"-"+lt[t[e+4]]+lt[t[e+5]]+"-"+lt[t[e+6]]+lt[t[e+7]]+"-"+lt[t[e+8]]+lt[t[e+9]]+"-"+lt[t[e+10]]+lt[t[e+11]]+lt[t[e+12]]+lt[t[e+13]]+lt[t[e+14]]+lt[t[e+15]]).toLowerCase()}var Ll,Ux=new Uint8Array(16);function Bx(){if(!Ll&&(Ll=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ll))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ll(Ux)}var zx=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const Uy={randomUUID:zx};function Wx(t,e,n){if(Uy.randomUUID&&!e&&!t)return Uy.randomUUID();t=t||{};var r=t.random||(t.rng||Bx)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,jx(r)}var By={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Hx=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},W1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,h=o>>2,f=(o&3)<<4|a>>4;let m=(a&15)<<2|c>>6,g=c&63;u||(g=64,s||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Hx(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||c==null||f==null)throw new qx;const m=o<<2|a>>4;if(r.push(m),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const w=c<<6&192|f;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class qx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gx=function(t){const e=z1(t);return W1.encodeByteArray(e,!0)},Uu=function(t){return Gx(t).replace(/\./g,"")},H1=function(t){try{return W1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qx=()=>Kx().__FIREBASE_DEFAULTS__,Yx=()=>{if(typeof process>"u"||typeof By>"u")return;const t=By.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H1(t[1]);return e&&JSON.parse(e)},Gc=()=>{try{return Qx()||Yx()||Xx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},q1=t=>{var e,n;return(n=(e=Gc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Jx=t=>{const e=q1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},G1=()=>{var t;return(t=Gc())===null||t===void 0?void 0:t.config},K1=t=>{var e;return(e=Gc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Uu(JSON.stringify(n)),Uu(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ct(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ct())}function nN(){var t;const e=(t=Gc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sN(){const t=Ct();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aN(){return!nN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lN(){try{return typeof indexedDB=="object"}catch{return!1}}function uN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FirebaseError";class mr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cN,Object.setPrototypeOf(this,mr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ba.prototype.create)}}class Ba{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?dN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new mr(i,a,r)}}function dN(t,e){return t.replace(hN,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hN=/\{\$([^}]+)}/g;function fN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(zy(o)&&zy(s)){if(!Bu(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function za(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function pN(t,e){const n=new mN(t,e);return n.subscribe.bind(n)}class mN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=vh),i.error===void 0&&(i.error=vh),i.complete===void 0&&(i.complete=vh);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function vh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kt(t){return t&&t._delegate?t._delegate:t}class Oi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Zx;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_N(e))try{this.getOrInitializeService({instanceIdentifier:pi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=pi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pi){return this.instances.has(e)}getOptions(e=pi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:yN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pi){return this.component?this.component.multipleInstances?e:pi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yN(t){return t===pi?void 0:t}function _N(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new vN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const EN={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},SN=me.INFO,TN={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},IN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=TN[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wm{constructor(e){this.name=e,this._logLevel=SN,this._logHandler=IN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const CN=(t,e)=>e.some(n=>t instanceof n);let Wy,Hy;function RN(){return Wy||(Wy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AN(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Q1=new WeakMap,Nf=new WeakMap,Y1=new WeakMap,yh=new WeakMap,Em=new WeakMap;function PN(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Wr(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Q1.set(n,t)}).catch(()=>{}),Em.set(e,t),e}function kN(t){if(Nf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Nf.set(t,e)}let Df={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Nf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Y1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Wr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bN(t){Df=t(Df)}function xN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(_h(this),e,...n);return Y1.set(r,e.sort?e.sort():[e]),Wr(r)}:AN().includes(t)?function(...e){return t.apply(_h(this),e),Wr(Q1.get(this))}:function(...e){return Wr(t.apply(_h(this),e))}}function NN(t){return typeof t=="function"?xN(t):(t instanceof IDBTransaction&&kN(t),CN(t,RN())?new Proxy(t,Df):t)}function Wr(t){if(t instanceof IDBRequest)return PN(t);if(yh.has(t))return yh.get(t);const e=NN(t);return e!==t&&(yh.set(t,e),Em.set(e,t)),e}const _h=t=>Em.get(t);function DN(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=Wr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Wr(s.result),u.oldVersion,u.newVersion,Wr(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const VN=["get","getKey","getAll","getAllKeys","count"],ON=["put","add","delete","clear"],wh=new Map;function qy(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=ON.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VN.includes(n)))return;const o=async function(s,...a){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&u.done]))[0]};return wh.set(e,o),o}bN(t=>({...t,get:(e,n,r)=>qy(e,n)||t.get(e,n,r),has:(e,n)=>!!qy(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function LN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Vf="@firebase/app",Gy="0.10.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new wm("@firebase/app"),FN="@firebase/app-compat",$N="@firebase/analytics-compat",jN="@firebase/analytics",UN="@firebase/app-check-compat",BN="@firebase/app-check",zN="@firebase/auth",WN="@firebase/auth-compat",HN="@firebase/database",qN="@firebase/database-compat",GN="@firebase/functions",KN="@firebase/functions-compat",QN="@firebase/installations",YN="@firebase/installations-compat",XN="@firebase/messaging",JN="@firebase/messaging-compat",ZN="@firebase/performance",e2="@firebase/performance-compat",t2="@firebase/remote-config",n2="@firebase/remote-config-compat",r2="@firebase/storage",i2="@firebase/storage-compat",o2="@firebase/firestore",s2="@firebase/vertexai-preview",a2="@firebase/firestore-compat",l2="firebase",u2="10.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of="[DEFAULT]",c2={[Vf]:"fire-core",[FN]:"fire-core-compat",[jN]:"fire-analytics",[$N]:"fire-analytics-compat",[BN]:"fire-app-check",[UN]:"fire-app-check-compat",[zN]:"fire-auth",[WN]:"fire-auth-compat",[HN]:"fire-rtdb",[qN]:"fire-rtdb-compat",[GN]:"fire-fn",[KN]:"fire-fn-compat",[QN]:"fire-iid",[YN]:"fire-iid-compat",[XN]:"fire-fcm",[JN]:"fire-fcm-compat",[ZN]:"fire-perf",[e2]:"fire-perf-compat",[t2]:"fire-rc",[n2]:"fire-rc-compat",[r2]:"fire-gcs",[i2]:"fire-gcs-compat",[o2]:"fire-fst",[a2]:"fire-fst-compat",[s2]:"fire-vertex","fire-js":"fire-js",[l2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zu=new Map,d2=new Map,Mf=new Map;function Ky(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function jo(t){const e=t.name;if(Mf.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Mf.set(e,t);for(const n of zu.values())Ky(n,t);for(const n of d2.values())Ky(n,t);return!0}function Sm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Jn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new Ba("app","Firebase",h2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts=u2;function X1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Of,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=G1()),!n)throw Hr.create("no-options");const o=zu.get(i);if(o){if(Bu(n,o.options)&&Bu(r,o.config))return o;throw Hr.create("duplicate-app",{appName:i})}const s=new wN(i);for(const u of Mf.values())s.addComponent(u);const a=new f2(n,r,s);return zu.set(i,a),a}function J1(t=Of){const e=zu.get(t);if(!e&&t===Of&&G1())return X1();if(!e)throw Hr.create("no-app",{appName:t});return e}function qr(t,e,n){var r;let i=(r=c2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}jo(new Oi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p2="firebase-heartbeat-database",m2=1,Ea="firebase-heartbeat-store";let Eh=null;function Z1(){return Eh||(Eh=DN(p2,m2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ea)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),Eh}async function g2(t){try{const n=(await Z1()).transaction(Ea),r=await n.objectStore(Ea).get(eS(t));return await n.done,r}catch(e){if(e instanceof mr)ar.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ar.warn(n.message)}}}async function Qy(t,e){try{const r=(await Z1()).transaction(Ea,"readwrite");await r.objectStore(Ea).put(e,eS(t)),await r.done}catch(n){if(n instanceof mr)ar.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ar.warn(r.message)}}}function eS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=1024,y2=30*24*60*60*1e3;class _2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new E2(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Yy();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=y2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ar.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Yy(),{heartbeatsToSend:r,unsentEntries:i}=w2(this._heartbeatsCache.heartbeats),o=Uu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ar.warn(n),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function w2(t,e=v2){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Xy(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Xy(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class E2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lN()?uN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await g2(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Qy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Xy(t){return Uu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(t){jo(new Oi("platform-logger",e=>new MN(e),"PRIVATE")),jo(new Oi("heartbeat",e=>new _2(e),"PRIVATE")),qr(Vf,Gy,t),qr(Vf,Gy,"esm2017"),qr("fire-js","")}S2("");var T2="firebase",I2="10.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(T2,I2,"app");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ci,tS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function C(){}C.prototype=v.prototype,I.D=v.prototype,I.prototype=new C,I.prototype.constructor=I,I.C=function(P,x,D){for(var k=Array(arguments.length-2),ge=2;ge<arguments.length;ge++)k[ge-2]=arguments[ge];return v.prototype[x].apply(P,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(I,v,C){C||(C=0);var P=Array(16);if(typeof v=="string")for(var x=0;16>x;++x)P[x]=v.charCodeAt(C++)|v.charCodeAt(C++)<<8|v.charCodeAt(C++)<<16|v.charCodeAt(C++)<<24;else for(x=0;16>x;++x)P[x]=v[C++]|v[C++]<<8|v[C++]<<16|v[C++]<<24;v=I.g[0],C=I.g[1],x=I.g[2];var D=I.g[3],k=v+(D^C&(x^D))+P[0]+3614090360&4294967295;v=C+(k<<7&4294967295|k>>>25),k=D+(x^v&(C^x))+P[1]+3905402710&4294967295,D=v+(k<<12&4294967295|k>>>20),k=x+(C^D&(v^C))+P[2]+606105819&4294967295,x=D+(k<<17&4294967295|k>>>15),k=C+(v^x&(D^v))+P[3]+3250441966&4294967295,C=x+(k<<22&4294967295|k>>>10),k=v+(D^C&(x^D))+P[4]+4118548399&4294967295,v=C+(k<<7&4294967295|k>>>25),k=D+(x^v&(C^x))+P[5]+1200080426&4294967295,D=v+(k<<12&4294967295|k>>>20),k=x+(C^D&(v^C))+P[6]+2821735955&4294967295,x=D+(k<<17&4294967295|k>>>15),k=C+(v^x&(D^v))+P[7]+4249261313&4294967295,C=x+(k<<22&4294967295|k>>>10),k=v+(D^C&(x^D))+P[8]+1770035416&4294967295,v=C+(k<<7&4294967295|k>>>25),k=D+(x^v&(C^x))+P[9]+2336552879&4294967295,D=v+(k<<12&4294967295|k>>>20),k=x+(C^D&(v^C))+P[10]+4294925233&4294967295,x=D+(k<<17&4294967295|k>>>15),k=C+(v^x&(D^v))+P[11]+2304563134&4294967295,C=x+(k<<22&4294967295|k>>>10),k=v+(D^C&(x^D))+P[12]+1804603682&4294967295,v=C+(k<<7&4294967295|k>>>25),k=D+(x^v&(C^x))+P[13]+4254626195&4294967295,D=v+(k<<12&4294967295|k>>>20),k=x+(C^D&(v^C))+P[14]+2792965006&4294967295,x=D+(k<<17&4294967295|k>>>15),k=C+(v^x&(D^v))+P[15]+1236535329&4294967295,C=x+(k<<22&4294967295|k>>>10),k=v+(x^D&(C^x))+P[1]+4129170786&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^x&(v^C))+P[6]+3225465664&4294967295,D=v+(k<<9&4294967295|k>>>23),k=x+(v^C&(D^v))+P[11]+643717713&4294967295,x=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(x^D))+P[0]+3921069994&4294967295,C=x+(k<<20&4294967295|k>>>12),k=v+(x^D&(C^x))+P[5]+3593408605&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^x&(v^C))+P[10]+38016083&4294967295,D=v+(k<<9&4294967295|k>>>23),k=x+(v^C&(D^v))+P[15]+3634488961&4294967295,x=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(x^D))+P[4]+3889429448&4294967295,C=x+(k<<20&4294967295|k>>>12),k=v+(x^D&(C^x))+P[9]+568446438&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^x&(v^C))+P[14]+3275163606&4294967295,D=v+(k<<9&4294967295|k>>>23),k=x+(v^C&(D^v))+P[3]+4107603335&4294967295,x=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(x^D))+P[8]+1163531501&4294967295,C=x+(k<<20&4294967295|k>>>12),k=v+(x^D&(C^x))+P[13]+2850285829&4294967295,v=C+(k<<5&4294967295|k>>>27),k=D+(C^x&(v^C))+P[2]+4243563512&4294967295,D=v+(k<<9&4294967295|k>>>23),k=x+(v^C&(D^v))+P[7]+1735328473&4294967295,x=D+(k<<14&4294967295|k>>>18),k=C+(D^v&(x^D))+P[12]+2368359562&4294967295,C=x+(k<<20&4294967295|k>>>12),k=v+(C^x^D)+P[5]+4294588738&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^x)+P[8]+2272392833&4294967295,D=v+(k<<11&4294967295|k>>>21),k=x+(D^v^C)+P[11]+1839030562&4294967295,x=D+(k<<16&4294967295|k>>>16),k=C+(x^D^v)+P[14]+4259657740&4294967295,C=x+(k<<23&4294967295|k>>>9),k=v+(C^x^D)+P[1]+2763975236&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^x)+P[4]+1272893353&4294967295,D=v+(k<<11&4294967295|k>>>21),k=x+(D^v^C)+P[7]+4139469664&4294967295,x=D+(k<<16&4294967295|k>>>16),k=C+(x^D^v)+P[10]+3200236656&4294967295,C=x+(k<<23&4294967295|k>>>9),k=v+(C^x^D)+P[13]+681279174&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^x)+P[0]+3936430074&4294967295,D=v+(k<<11&4294967295|k>>>21),k=x+(D^v^C)+P[3]+3572445317&4294967295,x=D+(k<<16&4294967295|k>>>16),k=C+(x^D^v)+P[6]+76029189&4294967295,C=x+(k<<23&4294967295|k>>>9),k=v+(C^x^D)+P[9]+3654602809&4294967295,v=C+(k<<4&4294967295|k>>>28),k=D+(v^C^x)+P[12]+3873151461&4294967295,D=v+(k<<11&4294967295|k>>>21),k=x+(D^v^C)+P[15]+530742520&4294967295,x=D+(k<<16&4294967295|k>>>16),k=C+(x^D^v)+P[2]+3299628645&4294967295,C=x+(k<<23&4294967295|k>>>9),k=v+(x^(C|~D))+P[0]+4096336452&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~x))+P[7]+1126891415&4294967295,D=v+(k<<10&4294967295|k>>>22),k=x+(v^(D|~C))+P[14]+2878612391&4294967295,x=D+(k<<15&4294967295|k>>>17),k=C+(D^(x|~v))+P[5]+4237533241&4294967295,C=x+(k<<21&4294967295|k>>>11),k=v+(x^(C|~D))+P[12]+1700485571&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~x))+P[3]+2399980690&4294967295,D=v+(k<<10&4294967295|k>>>22),k=x+(v^(D|~C))+P[10]+4293915773&4294967295,x=D+(k<<15&4294967295|k>>>17),k=C+(D^(x|~v))+P[1]+2240044497&4294967295,C=x+(k<<21&4294967295|k>>>11),k=v+(x^(C|~D))+P[8]+1873313359&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~x))+P[15]+4264355552&4294967295,D=v+(k<<10&4294967295|k>>>22),k=x+(v^(D|~C))+P[6]+2734768916&4294967295,x=D+(k<<15&4294967295|k>>>17),k=C+(D^(x|~v))+P[13]+1309151649&4294967295,C=x+(k<<21&4294967295|k>>>11),k=v+(x^(C|~D))+P[4]+4149444226&4294967295,v=C+(k<<6&4294967295|k>>>26),k=D+(C^(v|~x))+P[11]+3174756917&4294967295,D=v+(k<<10&4294967295|k>>>22),k=x+(v^(D|~C))+P[2]+718787259&4294967295,x=D+(k<<15&4294967295|k>>>17),k=C+(D^(x|~v))+P[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(x+(k<<21&4294967295|k>>>11))&4294967295,I.g[2]=I.g[2]+x&4294967295,I.g[3]=I.g[3]+D&4294967295}r.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var C=v-this.blockSize,P=this.B,x=this.h,D=0;D<v;){if(x==0)for(;D<=C;)i(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<v;)if(P[x++]=I.charCodeAt(D++),x==this.blockSize){i(this,P),x=0;break}}else for(;D<v;)if(P[x++]=I[D++],x==this.blockSize){i(this,P),x=0;break}}this.h=x,this.o+=v},r.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var C=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=C&255,C/=256;for(this.u(I),I=Array(16),v=C=0;4>v;++v)for(var P=0;32>P;P+=8)I[C++]=this.g[v]>>>P&255;return I};function o(I,v){var C=a;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=v(I)}function s(I,v){this.h=v;for(var C=[],P=!0,x=I.length-1;0<=x;x--){var D=I[x]|0;P&&D==v||(C[x]=D,P=!1)}this.g=C}var a={};function u(I){return-128<=I&&128>I?o(I,function(v){return new s([v|0],0>v?-1:0)}):new s([I|0],0>I?-1:0)}function c(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return A(c(-I));for(var v=[],C=1,P=0;I>=C;P++)v[P]=I/C|0,C*=4294967296;return new s(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return A(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=c(Math.pow(v,8)),P=f,x=0;x<I.length;x+=8){var D=Math.min(8,I.length-x),k=parseInt(I.substring(x,x+D),v);8>D?(D=c(Math.pow(v,D)),P=P.j(D).add(c(k))):(P=P.j(C),P=P.add(c(k)))}return P}var f=u(0),m=u(1),g=u(16777216);t=s.prototype,t.m=function(){if(T(this))return-A(this).m();for(var I=0,v=1,C=0;C<this.g.length;C++){var P=this.i(C);I+=(0<=P?P:4294967296+P)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(w(this))return"0";if(T(this))return"-"+A(this).toString(I);for(var v=c(Math.pow(I,6)),C=this,P="";;){var x=N(C,v).g;C=y(C,x.j(v));var D=((0<C.g.length?C.g[0]:C.h)>>>0).toString(I);if(C=x,w(C))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function w(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function T(I){return I.h==-1}t.l=function(I){return I=y(this,I),T(I)?-1:w(I)?0:1};function A(I){for(var v=I.g.length,C=[],P=0;P<v;P++)C[P]=~I.g[P];return new s(C,~I.h).add(m)}t.abs=function(){return T(this)?A(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0,x=0;x<=v;x++){var D=P+(this.i(x)&65535)+(I.i(x)&65535),k=(D>>>16)+(this.i(x)>>>16)+(I.i(x)>>>16);P=k>>>16,D&=65535,k&=65535,C[x]=k<<16|D}return new s(C,C[C.length-1]&-2147483648?-1:0)};function y(I,v){return I.add(A(v))}t.j=function(I){if(w(this)||w(I))return f;if(T(this))return T(I)?A(this).j(A(I)):A(A(this).j(I));if(T(I))return A(this.j(A(I)));if(0>this.l(g)&&0>I.l(g))return c(this.m()*I.m());for(var v=this.g.length+I.g.length,C=[],P=0;P<2*v;P++)C[P]=0;for(P=0;P<this.g.length;P++)for(var x=0;x<I.g.length;x++){var D=this.i(P)>>>16,k=this.i(P)&65535,ge=I.i(x)>>>16,He=I.i(x)&65535;C[2*P+2*x]+=k*He,_(C,2*P+2*x),C[2*P+2*x+1]+=D*He,_(C,2*P+2*x+1),C[2*P+2*x+1]+=k*ge,_(C,2*P+2*x+1),C[2*P+2*x+2]+=D*ge,_(C,2*P+2*x+2)}for(P=0;P<v;P++)C[P]=C[2*P+1]<<16|C[2*P];for(P=v;P<2*v;P++)C[P]=0;return new s(C,0)};function _(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function S(I,v){this.g=I,this.h=v}function N(I,v){if(w(v))throw Error("division by zero");if(w(I))return new S(f,f);if(T(I))return v=N(A(I),v),new S(A(v.g),A(v.h));if(T(v))return v=N(I,A(v)),new S(A(v.g),v.h);if(30<I.g.length){if(T(I)||T(v))throw Error("slowDivide_ only works with positive integers.");for(var C=m,P=v;0>=P.l(I);)C=M(C),P=M(P);var x=O(C,1),D=O(P,1);for(P=O(P,2),C=O(C,2);!w(P);){var k=D.add(P);0>=k.l(I)&&(x=x.add(C),D=k),P=O(P,1),C=O(C,1)}return v=y(I,x.j(v)),new S(x,v)}for(x=f;0<=I.l(v);){for(C=Math.max(1,Math.floor(I.m()/v.m())),P=Math.ceil(Math.log(C)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=c(C),k=D.j(v);T(k)||0<k.l(I);)C-=P,D=c(C),k=D.j(v);w(D)&&(D=m),x=x.add(D),I=y(I,k)}return new S(x,I)}t.A=function(I){return N(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)&I.i(P);return new s(C,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)|I.i(P);return new s(C,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),C=[],P=0;P<v;P++)C[P]=this.i(P)^I.i(P);return new s(C,this.h^I.h)};function M(I){for(var v=I.g.length+1,C=[],P=0;P<v;P++)C[P]=I.i(P)<<1|I.i(P-1)>>>31;return new s(C,I.h)}function O(I,v){var C=v>>5;v%=32;for(var P=I.g.length-C,x=[],D=0;D<P;D++)x[D]=0<v?I.i(D+C)>>>v|I.i(D+C+1)<<32-v:I.i(D+C);return new s(x,I.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,tS=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=h,Ci=s}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Fl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var nS,rS,Fs,iS,iu,Lf,oS,sS,aS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,p){return l==Array.prototype||l==Object.prototype||(l[d]=p.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fl=="object"&&Fl];for(var d=0;d<l.length;++d){var p=l[d];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=n(this);function i(l,d){if(d)e:{var p=r;l=l.split(".");for(var E=0;E<l.length-1;E++){var V=l[E];if(!(V in p))break e;p=p[V]}l=l[l.length-1],E=p[l],d=d(E),d!=E&&d!=null&&e(p,l,{configurable:!0,writable:!0,value:d})}}function o(l,d){l instanceof String&&(l+="");var p=0,E=!1,V={next:function(){if(!E&&p<l.length){var L=p++;return{value:d(L,l[L]),done:!1}}return E=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(l){return l||function(){return o(this,function(d,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function u(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function c(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,p){return l.call.apply(l.bind,arguments)}function f(l,d,p){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,E),l.apply(d,V)}}return function(){return l.apply(d,arguments)}}function m(l,d,p){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,m.apply(null,arguments)}function g(l,d){var p=Array.prototype.slice.call(arguments,1);return function(){var E=p.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function w(l,d){function p(){}p.prototype=d.prototype,l.aa=d.prototype,l.prototype=new p,l.prototype.constructor=l,l.Qb=function(E,V,L){for(var H=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)H[Re-2]=arguments[Re];return d.prototype[V].apply(E,H)}}function T(l){const d=l.length;if(0<d){const p=Array(d);for(let E=0;E<d;E++)p[E]=l[E];return p}return[]}function A(l,d){for(let p=1;p<arguments.length;p++){const E=arguments[p];if(u(E)){const V=l.length||0,L=E.length||0;l.length=V+L;for(let H=0;H<L;H++)l[V+H]=E[H]}else l.push(E)}}class y{constructor(d,p){this.i=d,this.j=p,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function _(l){return/^[\s\xa0]*$/.test(l)}function S(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function N(l){return N[" "](l),l}N[" "]=function(){};var M=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function O(l,d,p){for(const E in l)d.call(p,l[E],E,l)}function I(l,d){for(const p in l)d.call(void 0,l[p],p,l)}function v(l){const d={};for(const p in l)d[p]=l[p];return d}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(l,d){let p,E;for(let V=1;V<arguments.length;V++){E=arguments[V];for(p in E)l[p]=E[p];for(let L=0;L<C.length;L++)p=C[L],Object.prototype.hasOwnProperty.call(E,p)&&(l[p]=E[p])}}function x(l){var d=1;l=l.split(":");const p=[];for(;0<d&&l.length;)p.push(l.shift()),d--;return l.length&&p.push(l.join(":")),p}function D(l){a.setTimeout(()=>{throw l},0)}function k(){var l=q;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class ge{constructor(){this.h=this.g=null}add(d,p){const E=He.get();E.set(d,p),this.h?this.h.next=E:this.g=E,this.h=E}}var He=new y(()=>new Z,l=>l.reset());class Z{constructor(){this.next=this.g=this.h=null}set(d,p){this.h=d,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let X,$=!1,q=new ge,W=()=>{const l=a.Promise.resolve(void 0);X=()=>{l.then(te)}};var te=()=>{for(var l;l=k();){try{l.h.call(l.g)}catch(p){D(p)}var d=He;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}$=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function he(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}he.prototype.h=function(){this.defaultPrevented=!0};var Xe=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const p=()=>{};a.addEventListener("test",p,d),a.removeEventListener("test",p,d)}catch{}return l}();function de(l,d){if(he.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var p=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(M){e:{try{N(d.nodeName);var V=!0;break e}catch{}V=!1}V||(d=null)}}else p=="mouseover"?d=l.fromElement:p=="mouseout"&&(d=l.toElement);this.relatedTarget=d,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Ve[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&de.aa.h.call(this)}}w(de,he);var Ve={2:"touch",3:"pen",4:"mouse"};de.prototype.h=function(){de.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Ke="closure_listenable_"+(1e6*Math.random()|0),st=0;function jt(l,d,p,E,V){this.listener=l,this.proxy=null,this.src=d,this.type=p,this.capture=!!E,this.ha=V,this.key=++st,this.da=this.fa=!1}function Zt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function An(l){this.src=l,this.g={},this.h=0}An.prototype.add=function(l,d,p,E,V){var L=l.toString();l=this.g[L],l||(l=this.g[L]=[],this.h++);var H=dn(l,d,E,V);return-1<H?(d=l[H],p||(d.fa=!1)):(d=new jt(d,this.src,L,!!E,V),d.fa=p,l.push(d)),d};function en(l,d){var p=d.type;if(p in l.g){var E=l.g[p],V=Array.prototype.indexOf.call(E,d,void 0),L;(L=0<=V)&&Array.prototype.splice.call(E,V,1),L&&(Zt(d),l.g[p].length==0&&(delete l.g[p],l.h--))}}function dn(l,d,p,E){for(var V=0;V<l.length;++V){var L=l[V];if(!L.da&&L.listener==d&&L.capture==!!p&&L.ha==E)return V}return-1}var tn="closure_lm_"+(1e6*Math.random()|0),Ut={};function gr(l,d,p,E,V){if(Array.isArray(d)){for(var L=0;L<d.length;L++)gr(l,d[L],p,E,V);return null}return p=Be(p),l&&l[Ke]?l.K(d,p,c(E)?!!E.capture:!!E,V):G(l,d,p,!1,E,V)}function G(l,d,p,E,V,L){if(!d)throw Error("Invalid event type");var H=c(V)?!!V.capture:!!V,Re=z(l);if(Re||(l[tn]=Re=new An(l)),p=Re.add(d,p,E,H,L),p.proxy)return p;if(E=Q(),p.proxy=E,E.src=l,E.listener=p,l.addEventListener)Xe||(V=H),V===void 0&&(V=!1),l.addEventListener(d.toString(),E,V);else if(l.attachEvent)l.attachEvent(Ue(d.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Q(){function l(p){return d.call(l.src,l.listener,p)}const d=Ce;return l}function re(l,d,p,E,V){if(Array.isArray(d))for(var L=0;L<d.length;L++)re(l,d[L],p,E,V);else E=c(E)?!!E.capture:!!E,p=Be(p),l&&l[Ke]?(l=l.i,d=String(d).toString(),d in l.g&&(L=l.g[d],p=dn(L,p,E,V),-1<p&&(Zt(L[p]),Array.prototype.splice.call(L,p,1),L.length==0&&(delete l.g[d],l.h--)))):l&&(l=z(l))&&(d=l.g[d.toString()],l=-1,d&&(l=dn(d,p,E,V)),(p=-1<l?d[l]:null)&&_e(p))}function _e(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[Ke])en(d.i,l);else{var p=l.type,E=l.proxy;d.removeEventListener?d.removeEventListener(p,E,l.capture):d.detachEvent?d.detachEvent(Ue(p),E):d.addListener&&d.removeListener&&d.removeListener(E),(p=z(d))?(en(p,l),p.h==0&&(p.src=null,d[tn]=null)):Zt(l)}}}function Ue(l){return l in Ut?Ut[l]:Ut[l]="on"+l}function Ce(l,d){if(l.da)l=!0;else{d=new de(d,this);var p=l.listener,E=l.ha||l.src;l.fa&&_e(l),l=p.call(E,d)}return l}function z(l){return l=l[tn],l instanceof An?l:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(l){return typeof l=="function"?l:(l[ce]||(l[ce]=function(d){return l.handleEvent(d)}),l[ce])}function Se(){J.call(this),this.i=new An(this),this.M=this,this.F=null}w(Se,J),Se.prototype[Ke]=!0,Se.prototype.removeEventListener=function(l,d,p,E){re(this,l,d,p,E)};function Te(l,d){var p,E=l.F;if(E)for(p=[];E;E=E.F)p.push(E);if(l=l.M,E=d.type||d,typeof d=="string")d=new he(d,l);else if(d instanceof he)d.target=d.target||l;else{var V=d;d=new he(E,l),P(d,V)}if(V=!0,p)for(var L=p.length-1;0<=L;L--){var H=d.g=p[L];V=Bt(H,E,!0,d)&&V}if(H=d.g=l,V=Bt(H,E,!0,d)&&V,V=Bt(H,E,!1,d)&&V,p)for(L=0;L<p.length;L++)H=d.g=p[L],V=Bt(H,E,!1,d)&&V}Se.prototype.N=function(){if(Se.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var p=l.g[d],E=0;E<p.length;E++)Zt(p[E]);delete l.g[d],l.h--}}this.F=null},Se.prototype.K=function(l,d,p,E){return this.i.add(String(l),d,!1,p,E)},Se.prototype.L=function(l,d,p,E){return this.i.add(String(l),d,!0,p,E)};function Bt(l,d,p,E){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var V=!0,L=0;L<d.length;++L){var H=d[L];if(H&&!H.da&&H.capture==p){var Re=H.listener,at=H.ha||H.src;H.fa&&en(l.i,H),V=Re.call(at,E)!==!1&&V}}return V&&!E.defaultPrevented}function zt(l,d,p){if(typeof l=="function")p&&(l=m(l,p));else if(l&&typeof l.handleEvent=="function")l=m(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function vr(l){l.g=zt(()=>{l.g=null,l.i&&(l.i=!1,vr(l))},l.l);const d=l.h;l.h=null,l.m.apply(null,d)}class dI extends J{constructor(d,p){super(),this.m=d,this.l=p,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:vr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ls(l){J.call(this),this.h=l,this.g={}}w(ls,J);var hg=[];function fg(l){O(l.g,function(d,p){this.g.hasOwnProperty(p)&&_e(d)},l),l.g={}}ls.prototype.N=function(){ls.aa.N.call(this),fg(this)},ls.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var md=a.JSON.stringify,hI=a.JSON.parse,fI=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function gd(){}gd.prototype.h=null;function pg(l){return l.h||(l.h=l.i())}function mg(){}var us={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vd(){he.call(this,"d")}w(vd,he);function yd(){he.call(this,"c")}w(yd,he);var li={},gg=null;function el(){return gg=gg||new Se}li.La="serverreachability";function vg(l){he.call(this,li.La,l)}w(vg,he);function cs(l){const d=el();Te(d,new vg(d))}li.STAT_EVENT="statevent";function yg(l,d){he.call(this,li.STAT_EVENT,l),this.stat=d}w(yg,he);function Rt(l){const d=el();Te(d,new yg(d,l))}li.Ma="timingevent";function _g(l,d){he.call(this,li.Ma,l),this.size=d}w(_g,he);function ds(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function hs(){this.g=!0}hs.prototype.xa=function(){this.g=!1};function pI(l,d,p,E,V,L){l.info(function(){if(l.g)if(L)for(var H="",Re=L.split("&"),at=0;at<Re.length;at++){var we=Re[at].split("=");if(1<we.length){var gt=we[0];we=we[1];var vt=gt.split("_");H=2<=vt.length&&vt[1]=="type"?H+(gt+"="+we+"&"):H+(gt+"=redacted&")}}else H=null;else H=L;return"XMLHTTP REQ ("+E+") [attempt "+V+"]: "+d+`
`+p+`
`+H})}function mI(l,d,p,E,V,L,H){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+V+"]: "+d+`
`+p+`
`+L+" "+H})}function Hi(l,d,p,E){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+vI(l,p)+(E?" "+E:"")})}function gI(l,d){l.info(function(){return"TIMEOUT: "+d})}hs.prototype.info=function(){};function vI(l,d){if(!l.g)return d;if(!d)return null;try{var p=JSON.parse(d);if(p){for(l=0;l<p.length;l++)if(Array.isArray(p[l])){var E=p[l];if(!(2>E.length)){var V=E[1];if(Array.isArray(V)&&!(1>V.length)){var L=V[0];if(L!="noop"&&L!="stop"&&L!="close")for(var H=1;H<V.length;H++)V[H]=""}}}}return md(p)}catch{return d}}var tl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},wg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_d;function nl(){}w(nl,gd),nl.prototype.g=function(){return new XMLHttpRequest},nl.prototype.i=function(){return{}},_d=new nl;function yr(l,d,p,E){this.j=l,this.i=d,this.l=p,this.R=E||1,this.U=new ls(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Eg}function Eg(){this.i=null,this.g="",this.h=!1}var Sg={},wd={};function Ed(l,d,p){l.L=1,l.v=sl(zn(d)),l.m=p,l.P=!0,Tg(l,null)}function Tg(l,d){l.F=Date.now(),rl(l),l.A=zn(l.v);var p=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Lg(p.i,"t",E),l.C=0,p=l.j.J,l.h=new Eg,l.g=tv(l.j,p?d:null,!l.m),0<l.O&&(l.M=new dI(m(l.Y,l,l.g),l.O)),d=l.U,p=l.g,E=l.ca;var V="readystatechange";Array.isArray(V)||(V&&(hg[0]=V.toString()),V=hg);for(var L=0;L<V.length;L++){var H=gr(p,V[L],E||d.handleEvent,!1,d.h||d);if(!H)break;d.g[H.key]=H}d=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),cs(),pI(l.i,l.u,l.A,l.l,l.R,l.m)}yr.prototype.ca=function(l){l=l.target;const d=this.M;d&&Wn(l)==3?d.j():this.Y(l)},yr.prototype.Y=function(l){try{if(l==this.g)e:{const vt=Wn(this.g);var d=this.g.Ba();const Ki=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Wg(this.g)))){this.J||vt!=4||d==7||(d==8||0>=Ki?cs(3):cs(2)),Sd(this);var p=this.g.Z();this.X=p;t:if(Ig(this)){var E=Wg(this.g);l="";var V=E.length,L=Wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),fs(this);var H="";break t}this.h.i=new a.TextDecoder}for(d=0;d<V;d++)this.h.h=!0,l+=this.h.i.decode(E[d],{stream:!(L&&d==V-1)});E.length=0,this.h.g+=l,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=p==200,mI(this.i,this.u,this.A,this.l,this.R,vt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,at=this.g;if((Re=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!_(Re)){var we=Re;break t}}we=null}if(p=we)Hi(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Td(this,p);else{this.o=!1,this.s=3,Rt(12),ui(this),fs(this);break e}}if(this.P){p=!0;let hn;for(;!this.J&&this.C<H.length;)if(hn=yI(this,H),hn==wd){vt==4&&(this.s=4,Rt(14),p=!1),Hi(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==Sg){this.s=4,Rt(15),Hi(this.i,this.l,H,"[Invalid Chunk]"),p=!1;break}else Hi(this.i,this.l,hn,null),Td(this,hn);if(Ig(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||H.length!=0||this.h.h||(this.s=1,Rt(16),p=!1),this.o=this.o&&p,!p)Hi(this.i,this.l,H,"[Invalid Chunked Response]"),ui(this),fs(this);else if(0<H.length&&!this.W){this.W=!0;var gt=this.j;gt.g==this&&gt.ba&&!gt.M&&(gt.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),kd(gt),gt.M=!0,Rt(11))}}else Hi(this.i,this.l,H,null),Td(this,H);vt==4&&ui(this),this.o&&!this.J&&(vt==4?Xg(this.j,this):(this.o=!1,rl(this)))}else OI(this.g),p==400&&0<H.indexOf("Unknown SID")?(this.s=3,Rt(12)):(this.s=0,Rt(13)),ui(this),fs(this)}}}catch{}finally{}};function Ig(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function yI(l,d){var p=l.C,E=d.indexOf(`
`,p);return E==-1?wd:(p=Number(d.substring(p,E)),isNaN(p)?Sg:(E+=1,E+p>d.length?wd:(d=d.slice(E,E+p),l.C=E+p,d)))}yr.prototype.cancel=function(){this.J=!0,ui(this)};function rl(l){l.S=Date.now()+l.I,Cg(l,l.I)}function Cg(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=ds(m(l.ba,l),d)}function Sd(l){l.B&&(a.clearTimeout(l.B),l.B=null)}yr.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(gI(this.i,this.A),this.L!=2&&(cs(),Rt(17)),ui(this),this.s=2,fs(this)):Cg(this,this.S-l)};function fs(l){l.j.G==0||l.J||Xg(l.j,l)}function ui(l){Sd(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,fg(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Td(l,d){try{var p=l.j;if(p.G!=0&&(p.g==l||Id(p.h,l))){if(!l.K&&Id(p.h,l)&&p.G==3){try{var E=p.Da.g.parse(d)}catch{E=null}if(Array.isArray(E)&&E.length==3){var V=E;if(V[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<l.F)dl(p),ul(p);else break e;Pd(p),Rt(18)}}else p.za=V[1],0<p.za-p.T&&37500>V[2]&&p.F&&p.v==0&&!p.C&&(p.C=ds(m(p.Za,p),6e3));if(1>=Pg(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else di(p,11)}else if((l.K||p.g==l)&&dl(p),!_(d))for(V=p.Da.g.parse(d),d=0;d<V.length;d++){let we=V[d];if(p.T=we[0],we=we[1],p.G==2)if(we[0]=="c"){p.K=we[1],p.ia=we[2];const gt=we[3];gt!=null&&(p.la=gt,p.j.info("VER="+p.la));const vt=we[4];vt!=null&&(p.Aa=vt,p.j.info("SVER="+p.Aa));const Ki=we[5];Ki!=null&&typeof Ki=="number"&&0<Ki&&(E=1.5*Ki,p.L=E,p.j.info("backChannelRequestTimeoutMs_="+E)),E=p;const hn=l.g;if(hn){const fl=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var L=E.h;L.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Cd(L,L.h),L.h=null))}if(E.D){const bd=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;bd&&(E.ya=bd,ke(E.I,E.D,bd))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-l.F,p.j.info("Handshake RTT: "+p.R+"ms")),E=p;var H=l;if(E.qa=ev(E,E.J?E.ia:null,E.W),H.K){kg(E.h,H);var Re=H,at=E.L;at&&(Re.I=at),Re.B&&(Sd(Re),rl(Re)),E.g=H}else Qg(E);0<p.i.length&&cl(p)}else we[0]!="stop"&&we[0]!="close"||di(p,7);else p.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?di(p,7):Ad(p):we[0]!="noop"&&p.l&&p.l.ta(we),p.v=0)}}cs(4)}catch{}}var _I=class{constructor(l,d){this.g=l,this.map=d}};function Rg(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ag(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function Pg(l){return l.h?1:l.g?l.g.size:0}function Id(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function Cd(l,d){l.g?l.g.add(d):l.h=d}function kg(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}Rg.prototype.cancel=function(){if(this.i=bg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function bg(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(const p of l.g.values())d=d.concat(p.D);return d}return T(l.i)}function wI(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(u(l)){for(var d=[],p=l.length,E=0;E<p;E++)d.push(l[E]);return d}d=[],p=0;for(E in l)d[p++]=l[E];return d}function EI(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||typeof l=="string"){var d=[];l=l.length;for(var p=0;p<l;p++)d.push(p);return d}d=[],p=0;for(const E in l)d[p++]=E;return d}}}function xg(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(u(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var p=EI(l),E=wI(l),V=E.length,L=0;L<V;L++)d.call(void 0,E[L],p&&p[L],l)}var Ng=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SI(l,d){if(l){l=l.split("&");for(var p=0;p<l.length;p++){var E=l[p].indexOf("="),V=null;if(0<=E){var L=l[p].substring(0,E);V=l[p].substring(E+1)}else L=l[p];d(L,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function ci(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ci){this.h=l.h,il(this,l.j),this.o=l.o,this.g=l.g,ol(this,l.s),this.l=l.l;var d=l.i,p=new gs;p.i=d.i,d.g&&(p.g=new Map(d.g),p.h=d.h),Dg(this,p),this.m=l.m}else l&&(d=String(l).match(Ng))?(this.h=!1,il(this,d[1]||"",!0),this.o=ps(d[2]||""),this.g=ps(d[3]||"",!0),ol(this,d[4]),this.l=ps(d[5]||"",!0),Dg(this,d[6]||"",!0),this.m=ps(d[7]||"")):(this.h=!1,this.i=new gs(null,this.h))}ci.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ms(d,Vg,!0),":");var p=this.g;return(p||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ms(d,Vg,!0),"@"),l.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&l.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&l.push("/"),l.push(ms(p,p.charAt(0)=="/"?CI:II,!0))),(p=this.i.toString())&&l.push("?",p),(p=this.m)&&l.push("#",ms(p,AI)),l.join("")};function zn(l){return new ci(l)}function il(l,d,p){l.j=p?ps(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function ol(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Dg(l,d,p){d instanceof gs?(l.i=d,PI(l.i,l.h)):(p||(d=ms(d,RI)),l.i=new gs(d,l.h))}function ke(l,d,p){l.i.set(d,p)}function sl(l){return ke(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function ps(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ms(l,d,p){return typeof l=="string"?(l=encodeURI(l).replace(d,TI),p&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function TI(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Vg=/[#\/\?@]/g,II=/[#\?:]/g,CI=/[#\?]/g,RI=/[#\?@]/g,AI=/#/g;function gs(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function _r(l){l.g||(l.g=new Map,l.h=0,l.i&&SI(l.i,function(d,p){l.add(decodeURIComponent(d.replace(/\+/g," ")),p)}))}t=gs.prototype,t.add=function(l,d){_r(this),this.i=null,l=qi(this,l);var p=this.g.get(l);return p||this.g.set(l,p=[]),p.push(d),this.h+=1,this};function Og(l,d){_r(l),d=qi(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function Mg(l,d){return _r(l),d=qi(l,d),l.g.has(d)}t.forEach=function(l,d){_r(this),this.g.forEach(function(p,E){p.forEach(function(V){l.call(d,V,E,this)},this)},this)},t.na=function(){_r(this);const l=Array.from(this.g.values()),d=Array.from(this.g.keys()),p=[];for(let E=0;E<d.length;E++){const V=l[E];for(let L=0;L<V.length;L++)p.push(d[E])}return p},t.V=function(l){_r(this);let d=[];if(typeof l=="string")Mg(this,l)&&(d=d.concat(this.g.get(qi(this,l))));else{l=Array.from(this.g.values());for(let p=0;p<l.length;p++)d=d.concat(l[p])}return d},t.set=function(l,d){return _r(this),this.i=null,l=qi(this,l),Mg(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},t.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function Lg(l,d,p){Og(l,d),0<p.length&&(l.i=null,l.g.set(qi(l,d),T(p)),l.h+=p.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],d=Array.from(this.g.keys());for(var p=0;p<d.length;p++){var E=d[p];const L=encodeURIComponent(String(E)),H=this.V(E);for(E=0;E<H.length;E++){var V=L;H[E]!==""&&(V+="="+encodeURIComponent(String(H[E]))),l.push(V)}}return this.i=l.join("&")};function qi(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function PI(l,d){d&&!l.j&&(_r(l),l.i=null,l.g.forEach(function(p,E){var V=E.toLowerCase();E!=V&&(Og(this,E),Lg(this,V,p))},l)),l.j=d}function kI(l,d){const p=new hs;if(a.Image){const E=new Image;E.onload=g(wr,p,"TestLoadImage: loaded",!0,d,E),E.onerror=g(wr,p,"TestLoadImage: error",!1,d,E),E.onabort=g(wr,p,"TestLoadImage: abort",!1,d,E),E.ontimeout=g(wr,p,"TestLoadImage: timeout",!1,d,E),a.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else d(!1)}function bI(l,d){const p=new hs,E=new AbortController,V=setTimeout(()=>{E.abort(),wr(p,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:E.signal}).then(L=>{clearTimeout(V),L.ok?wr(p,"TestPingServer: ok",!0,d):wr(p,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(V),wr(p,"TestPingServer: error",!1,d)})}function wr(l,d,p,E,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),E(p)}catch{}}function xI(){this.g=new fI}function NI(l,d,p){const E=p||"";try{xg(l,function(V,L){let H=V;c(V)&&(H=md(V)),d.push(E+L+"="+encodeURIComponent(H))})}catch(V){throw d.push(E+"type="+encodeURIComponent("_badmap")),V}}function vs(l){this.l=l.Ub||null,this.j=l.eb||!1}w(vs,gd),vs.prototype.g=function(){return new al(this.l,this.j)},vs.prototype.i=function(l){return function(){return l}}({});function al(l,d){Se.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}w(al,Se),t=al.prototype,t.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,_s(this)},t.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},t.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,_s(this)),this.g&&(this.readyState=3,_s(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fg(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fg(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}t.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?ys(this):_s(this),this.readyState==3&&Fg(this)}},t.Ra=function(l){this.g&&(this.response=this.responseText=l,ys(this))},t.Qa=function(l){this.g&&(this.response=l,ys(this))},t.ga=function(){this.g&&ys(this)};function ys(l){l.readyState=4,l.l=null,l.j=null,l.v=null,_s(l)}t.setRequestHeader=function(l,d){this.u.append(l,d)},t.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],d=this.h.entries();for(var p=d.next();!p.done;)p=p.value,l.push(p[0]+": "+p[1]),p=d.next();return l.join(`\r
`)};function _s(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(al.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function $g(l){let d="";return O(l,function(p,E){d+=E,d+=":",d+=p,d+=`\r
`}),d}function Rd(l,d,p){e:{for(E in p){var E=!1;break e}E=!0}E||(p=$g(p),typeof l=="string"?p!=null&&encodeURIComponent(String(p)):ke(l,d,p))}function ze(l){Se.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}w(ze,Se);var DI=/^https?$/i,VI=["POST","PUT"];t=ze.prototype,t.Ha=function(l){this.J=l},t.ea=function(l,d,p,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_d.g(),this.v=this.o?pg(this.o):pg(_d),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(L){jg(this,L);return}if(l=p||"",p=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var V in E)p.set(V,E[V]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const L of E.keys())p.set(L,E.get(L));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(p.keys()).find(L=>L.toLowerCase()=="content-type"),V=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(VI,d,void 0))||E||V||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,H]of p)this.g.setRequestHeader(L,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{zg(this),this.u=!0,this.g.send(l),this.u=!1}catch(L){jg(this,L)}};function jg(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,Ug(l),ll(l)}function Ug(l){l.A||(l.A=!0,Te(l,"complete"),Te(l,"error"))}t.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,Te(this,"complete"),Te(this,"abort"),ll(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ll(this,!0)),ze.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Bg(this):this.bb())},t.bb=function(){Bg(this)};function Bg(l){if(l.h&&typeof s<"u"&&(!l.v[1]||Wn(l)!=4||l.Z()!=2)){if(l.u&&Wn(l)==4)zt(l.Ea,0,l);else if(Te(l,"readystatechange"),Wn(l)==4){l.h=!1;try{const H=l.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var p;if(!(p=d)){var E;if(E=H===0){var V=String(l.D).match(Ng)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),E=!DI.test(V?V.toLowerCase():"")}p=E}if(p)Te(l,"complete"),Te(l,"success");else{l.m=6;try{var L=2<Wn(l)?l.g.statusText:""}catch{L=""}l.l=L+" ["+l.Z()+"]",Ug(l)}}finally{ll(l)}}}}function ll(l,d){if(l.g){zg(l);const p=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||Te(l,"ready");try{p.onreadystatechange=E}catch{}}}function zg(l){l.I&&(a.clearTimeout(l.I),l.I=null)}t.isActive=function(){return!!this.g};function Wn(l){return l.g?l.g.readyState:0}t.Z=function(){try{return 2<Wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),hI(d)}};function Wg(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function OI(l){const d={};l=(l.g&&2<=Wn(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(_(l[E]))continue;var p=x(l[E]);const V=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const L=d[V]||[];d[V]=L,L.push(p)}I(d,function(E){return E.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(l,d,p){return p&&p.internalChannelParams&&p.internalChannelParams[l]||d}function Hg(l){this.Aa=0,this.i=[],this.j=new hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,l),this.cb=ws("retryDelaySeedMs",1e4,l),this.Wa=ws("forwardChannelMaxRetries",2,l),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new Rg(l&&l.concurrentRequestLimit),this.Da=new xI,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Hg.prototype,t.la=8,t.G=1,t.connect=function(l,d,p,E){Rt(0),this.W=l,this.H=d||{},p&&E!==void 0&&(this.H.OSID=p,this.H.OAID=E),this.F=this.X,this.I=ev(this,null,this.W),cl(this)};function Ad(l){if(qg(l),l.G==3){var d=l.U++,p=zn(l.I);if(ke(p,"SID",l.K),ke(p,"RID",d),ke(p,"TYPE","terminate"),Es(l,p),d=new yr(l,l.j,d),d.L=2,d.v=sl(zn(p)),p=!1,a.navigator&&a.navigator.sendBeacon)try{p=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!p&&a.Image&&(new Image().src=d.v,p=!0),p||(d.g=tv(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rl(d)}Zg(l)}function ul(l){l.g&&(kd(l),l.g.cancel(),l.g=null)}function qg(l){ul(l),l.u&&(a.clearTimeout(l.u),l.u=null),dl(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function cl(l){if(!Ag(l.h)&&!l.s){l.s=!0;var d=l.Ga;X||W(),$||(X(),$=!0),q.add(d,l),l.B=0}}function MI(l,d){return Pg(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=ds(m(l.Ga,l,d),Jg(l,l.B)),l.B++,!0)}t.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const V=new yr(this,this.j,l);let L=this.o;if(this.S&&(L?(L=v(L),P(L,this.S)):L=this.S),this.m!==null||this.O||(V.H=L,L=null),this.P)e:{for(var d=0,p=0;p<this.i.length;p++){t:{var E=this.i[p];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(d+=E,4096<d){d=p;break e}if(d===4096||p===this.i.length-1){d=p+1;break e}}d=1e3}else d=1e3;d=Kg(this,V,d),p=zn(this.I),ke(p,"RID",l),ke(p,"CVER",22),this.D&&ke(p,"X-HTTP-Session-Id",this.D),Es(this,p),L&&(this.O?d="headers="+encodeURIComponent(String($g(L)))+"&"+d:this.m&&Rd(p,this.m,L)),Cd(this.h,V),this.Ua&&ke(p,"TYPE","init"),this.P?(ke(p,"$req",d),ke(p,"SID","null"),V.T=!0,Ed(V,p,null)):Ed(V,p,d),this.G=2}}else this.G==3&&(l?Gg(this,l):this.i.length==0||Ag(this.h)||Gg(this))};function Gg(l,d){var p;d?p=d.l:p=l.U++;const E=zn(l.I);ke(E,"SID",l.K),ke(E,"RID",p),ke(E,"AID",l.T),Es(l,E),l.m&&l.o&&Rd(E,l.m,l.o),p=new yr(l,l.j,p,l.B+1),l.m===null&&(p.H=l.o),d&&(l.i=d.D.concat(l.i)),d=Kg(l,p,1e3),p.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Cd(l.h,p),Ed(p,E,d)}function Es(l,d){l.H&&O(l.H,function(p,E){ke(d,E,p)}),l.l&&xg({},function(p,E){ke(d,E,p)})}function Kg(l,d,p){p=Math.min(l.i.length,p);var E=l.l?m(l.l.Na,l.l,l):null;e:{var V=l.i;let L=-1;for(;;){const H=["count="+p];L==-1?0<p?(L=V[0].g,H.push("ofs="+L)):L=0:H.push("ofs="+L);let Re=!0;for(let at=0;at<p;at++){let we=V[at].g;const gt=V[at].map;if(we-=L,0>we)L=Math.max(0,V[at].g-100),Re=!1;else try{NI(gt,H,"req"+we+"_")}catch{E&&E(gt)}}if(Re){E=H.join("&");break e}}}return l=l.i.splice(0,p),d.D=l,E}function Qg(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;X||W(),$||(X(),$=!0),q.add(d,l),l.v=0}}function Pd(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=ds(m(l.Fa,l),Jg(l,l.v)),l.v++,!0)}t.Fa=function(){if(this.u=null,Yg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ds(m(this.ab,this),l)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rt(10),ul(this),Yg(this))};function kd(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function Yg(l){l.g=new yr(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=zn(l.qa);ke(d,"RID","rpc"),ke(d,"SID",l.K),ke(d,"AID",l.T),ke(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&ke(d,"TO",l.ja),ke(d,"TYPE","xmlhttp"),Es(l,d),l.m&&l.o&&Rd(d,l.m,l.o),l.L&&(l.g.I=l.L);var p=l.g;l=l.ia,p.L=1,p.v=sl(zn(d)),p.m=null,p.P=!0,Tg(p,l)}t.Za=function(){this.C!=null&&(this.C=null,ul(this),Pd(this),Rt(19))};function dl(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function Xg(l,d){var p=null;if(l.g==d){dl(l),kd(l),l.g=null;var E=2}else if(Id(l.h,d))p=d.D,kg(l.h,d),E=1;else return;if(l.G!=0){if(d.o)if(E==1){p=d.m?d.m.length:0,d=Date.now()-d.F;var V=l.B;E=el(),Te(E,new _g(E,p)),cl(l)}else Qg(l);else if(V=d.s,V==3||V==0&&0<d.X||!(E==1&&MI(l,d)||E==2&&Pd(l)))switch(p&&0<p.length&&(d=l.h,d.i=d.i.concat(p)),V){case 1:di(l,5);break;case 4:di(l,10);break;case 3:di(l,6);break;default:di(l,2)}}}function Jg(l,d){let p=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(p*=2),p*d}function di(l,d){if(l.j.info("Error code "+d),d==2){var p=m(l.fb,l),E=l.Xa;const V=!E;E=new ci(E||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||il(E,"https"),sl(E),V?kI(E.toString(),p):bI(E.toString(),p)}else Rt(2);l.G=0,l.l&&l.l.sa(d),Zg(l),qg(l)}t.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Zg(l){if(l.G=0,l.ka=[],l.l){const d=bg(l.h);(d.length!=0||l.i.length!=0)&&(A(l.ka,d),A(l.ka,l.i),l.h.i.length=0,T(l.i),l.i.length=0),l.l.ra()}}function ev(l,d,p){var E=p instanceof ci?zn(p):new ci(p);if(E.g!="")d&&(E.g=d+"."+E.g),ol(E,E.s);else{var V=a.location;E=V.protocol,d=d?d+"."+V.hostname:V.hostname,V=+V.port;var L=new ci(null);E&&il(L,E),d&&(L.g=d),V&&ol(L,V),p&&(L.l=p),E=L}return p=l.D,d=l.ya,p&&d&&ke(E,p,d),ke(E,"VER",l.la),Es(l,E),E}function tv(l,d,p){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new ze(new vs({eb:p})):new ze(l.pa),d.Ha(l.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function nv(){}t=nv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hl(){}hl.prototype.g=function(l,d){return new Wt(l,d)};function Wt(l,d){Se.call(this),this.g=new Hg(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!_(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!_(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new Gi(this)}w(Wt,Se),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){Ad(this.g)},Wt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var p={};p.__data__=l,l=p}else this.u&&(p={},p.__data__=md(l),l=p);d.i.push(new _I(d.Ya++,l)),d.G==3&&cl(d)},Wt.prototype.N=function(){this.g.l=null,delete this.j,Ad(this.g),delete this.g,Wt.aa.N.call(this)};function rv(l){vd.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(const p in d){l=p;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}w(rv,vd);function iv(){yd.call(this),this.status=1}w(iv,yd);function Gi(l){this.g=l}w(Gi,nv),Gi.prototype.ua=function(){Te(this.g,"a")},Gi.prototype.ta=function(l){Te(this.g,new rv(l))},Gi.prototype.sa=function(l){Te(this.g,new iv)},Gi.prototype.ra=function(){Te(this.g,"b")},hl.prototype.createWebChannel=hl.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,aS=function(){return new hl},sS=function(){return el()},oS=li,Lf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,iu=tl,wg.COMPLETE="complete",iS=wg,mg.EventType=us,us.OPEN="a",us.CLOSE="b",us.ERROR="c",us.MESSAGE="d",Se.prototype.listen=Se.prototype.K,Fs=mg,rS=vs,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,nS=ze}).apply(typeof Fl<"u"?Fl:typeof self<"u"?self:typeof window<"u"?window:{});const Zy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ns="10.13.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new wm("@firebase/firestore");function Ds(){return Mi.logLevel}function Y(t,...e){if(Mi.logLevel<=me.DEBUG){const n=e.map(Tm);Mi.debug(`Firestore (${ns}): ${t}`,...n)}}function lr(t,...e){if(Mi.logLevel<=me.ERROR){const n=e.map(Tm);Mi.error(`Firestore (${ns}): ${t}`,...n)}}function Uo(t,...e){if(Mi.logLevel<=me.WARN){const n=e.map(Tm);Mi.warn(`Firestore (${ns}): ${t}`,...n)}}function Tm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oe(t="Unexpected state"){const e=`FIRESTORE (${ns}) INTERNAL ASSERTION FAILED: `+t;throw lr(e),new Error(e)}function Ae(t,e){t||oe()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ee extends mr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class C2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class R2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class A2{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let o=new Gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Gr,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=o;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Gr)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ae(typeof r.accessToken=="string"),new lS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ae(e===null||typeof e=="string"),new Et(e)}}class P2{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class k2{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new P2(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class b2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x2{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=o=>{o.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ae(typeof n.token=="string"),this.R=n.token,new b2(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=N2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function Bo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ee(U.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ee(U.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tt.fromMillis(Date.now())}static fromDate(e){return tt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new tt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new tt(0,0))}static max(){return new ae(new tt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,n,r){n===void 0?n=0:n>e.length&&oe(),r===void 0?r=e.length-n:r>e.length-n&&oe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Sa.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Sa?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Me extends Sa{construct(e,n,r){return new Me(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ee(U.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Me(n)}static emptyPath(){return new Me([])}}const D2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dt extends Sa{construct(e,n,r){return new dt(e,n,r)}static isValidIdentifier(e){return D2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new dt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ee(U.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new ee(U.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ee(U.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new ee(U.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new dt(n)}static emptyPath(){return new dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.path=e}static fromPath(e){return new ne(Me.fromString(e))}static fromName(e){return new ne(Me.fromString(e).popFirst(5))}static empty(){return new ne(Me.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Me.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Me.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ne(new Me(e.slice()))}}function V2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new tt(n+1,0):new tt(n,r));return new Jr(i,ne.empty(),e)}function O2(t){return new Jr(t.readTime,t.key,-1)}class Jr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Jr(ae.min(),ne.empty(),-1)}static max(){return new Jr(ae.max(),ne.empty(),-1)}}function M2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class F2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t){if(t.code!==U.FAILED_PRECONDITION||t.message!==L2)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&oe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;n(e[c]).next(h=>{s[c]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new j((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}function $2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ha(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Im.oe=-1;function Kc(t){return t==null}function Wu(t){return t===0&&1/t==-1/0}function j2(t){return typeof t=="number"&&Number.isInteger(t)&&!Wu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function zi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e,n){this.comparator=e,this.root=n||ct.EMPTY}insert(e,n){return new je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ct.BLACK,null,null))}remove(e){return new je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $l(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $l(this.root,e,this.comparator,!1)}getReverseIterator(){return new $l(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $l(this.root,e,this.comparator,!0)}}class $l{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ct{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??ct.RED,this.left=i??ct.EMPTY,this.right=o??ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new ct(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw oe();const e=this.left.check();if(e!==this.right.check())throw oe();return e+(this.isRed()?0:1)}}ct.EMPTY=null,ct.RED=!0,ct.BLACK=!1;ct.EMPTY=new class{constructor(){this.size=0}get key(){throw oe()}get value(){throw oe()}get color(){throw oe()}get left(){throw oe()}get right(){throw oe()}copy(e,n,r,i,o){return this}insert(e,n,r){return new ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new t0(this.data.getIterator())}getIteratorFrom(e){return new t0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class t0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.fields=e,e.sort(dt.comparator)}static empty(){return new Gt([])}unionWith(e){let n=new ft(dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Gt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dS("Invalid base64 string: "+o):o}}(e);return new mt(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new mt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mt.EMPTY_BYTE_STRING=new mt("");const U2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(t){if(Ae(!!t),typeof t=="string"){let e=0;const n=U2.exec(t);if(Ae(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?mt.fromBase64String(t):mt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rm(t){const e=t.mapValue.fields.__previous_value__;return Cm(e)?Rm(e):e}function Ta(t){const e=Zr(t.mapValue.fields.__local_write_time__.timestampValue);return new tt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n,r,i,o,s,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Ia{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ia("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ia&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cm(t)?4:W2(t)?9007199254740991:z2(t)?10:11:oe()}function jn(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ta(t).isEqual(Ta(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Zr(i.timestampValue),a=Zr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Li(i.bytesValue).isEqual(Li(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return qe(i.geoPointValue.latitude)===qe(o.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return qe(i.integerValue)===qe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=qe(i.doubleValue),a=qe(o.doubleValue);return s===a?Wu(s)===Wu(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Bo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(e0(s)!==e0(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!jn(s[u],a[u])))return!1;return!0}(t,e);default:return oe()}}function Ca(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function zo(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=qe(o.integerValue||o.doubleValue),u=qe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return n0(t.timestampValue,e.timestampValue);case 4:return n0(Ta(t),Ta(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){const a=Li(o),u=Li(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const h=Ee(a[c],u[c]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Ee(qe(o.latitude),qe(s.latitude));return a!==0?a:Ee(qe(o.longitude),qe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return r0(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,h;const f=o.fields||{},m=s.fields||{},g=(a=f.value)===null||a===void 0?void 0:a.arrayValue,w=(u=m.value)===null||u===void 0?void 0:u.arrayValue,T=Ee(((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0,((h=w==null?void 0:w.values)===null||h===void 0?void 0:h.length)||0);return T!==0?T:r0(g,w)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===jl.mapValue&&s===jl.mapValue)return 0;if(o===jl.mapValue)return 1;if(s===jl.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let f=0;f<u.length&&f<h.length;++f){const m=Ee(u[f],h[f]);if(m!==0)return m;const g=zo(a[u[f]],c[h[f]]);if(g!==0)return g}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw oe()}}function n0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Zr(t),r=Zr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function r0(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=zo(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Wo(t){return Ff(t)}function Ff(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Zr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Ff(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Ff(n.fields[s])}`;return i+"}"}(t.mapValue):oe()}function $f(t){return!!t&&"integerValue"in t}function Am(t){return!!t&&"arrayValue"in t}function i0(t){return!!t&&"nullValue"in t}function o0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ou(t){return!!t&&"mapValue"in t}function z2(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Ys(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ys(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ys(t.arrayValue.values[n]);return e}return Object.assign({},t)}function W2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.value=e}static empty(){return new Dt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ou(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ys(n)}setAll(e){let n=dt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Ys(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());ou(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ou(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){zi(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new Dt(Ys(this.value))}}function hS(t){const e=[];return zi(t.fields,(n,r)=>{const i=new dt([n]);if(ou(r)){const o=hS(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Gt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Tt(e,0,ae.min(),ae.min(),ae.min(),Dt.empty(),0)}static newFoundDocument(e,n,r,i){return new Tt(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new Tt(e,2,n,ae.min(),ae.min(),Dt.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,ae.min(),ae.min(),Dt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Dt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Dt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n){this.position=e,this.inclusive=n}}function s0(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ne.comparator(ne.fromName(s.referenceValue),n.key):r=zo(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function a0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n="asc"){this.field=e,this.dir=n}}function H2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{}class Ze extends fS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new G2(e,n,r):n==="array-contains"?new Y2(e,r):n==="in"?new X2(e,r):n==="not-in"?new J2(e,r):n==="array-contains-any"?new Z2(e,r):new Ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new K2(e,r):new Q2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(zo(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(zo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return oe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Un extends fS{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Un(e,n)}matches(e){return pS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function pS(t){return t.op==="and"}function mS(t){return q2(t)&&pS(t)}function q2(t){for(const e of t.filters)if(e instanceof Un)return!1;return!0}function jf(t){if(t instanceof Ze)return t.field.canonicalString()+t.op.toString()+Wo(t.value);if(mS(t))return t.filters.map(e=>jf(e)).join(",");{const e=t.filters.map(n=>jf(n)).join(",");return`${t.op}(${e})`}}function gS(t,e){return t instanceof Ze?function(r,i){return i instanceof Ze&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof Un?function(r,i){return i instanceof Un&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&gS(s,i.filters[a]),!0):!1}(t,e):void oe()}function vS(t){return t instanceof Ze?function(n){return`${n.field.canonicalString()} ${n.op} ${Wo(n.value)}`}(t):t instanceof Un?function(n){return n.op.toString()+" {"+n.getFilters().map(vS).join(" ,")+"}"}(t):"Filter"}class G2 extends Ze{constructor(e,n,r){super(e,n,r),this.key=ne.fromName(r.referenceValue)}matches(e){const n=ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class K2 extends Ze{constructor(e,n){super(e,"in",n),this.keys=yS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Q2 extends Ze{constructor(e,n){super(e,"not-in",n),this.keys=yS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function yS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ne.fromName(r.referenceValue))}class Y2 extends Ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Am(n)&&Ca(n.arrayValue,this.value)}}class X2 extends Ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ca(this.value.arrayValue,n)}}class J2 extends Ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ca(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ca(this.value.arrayValue,n)}}class Z2 extends Ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Am(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ca(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function l0(t,e=null,n=[],r=[],i=null,o=null,s=null){return new eD(t,e,n,r,i,o,s)}function Pm(t){const e=le(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>jf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Kc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Wo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Wo(r)).join(",")),e.ue=n}return e.ue}function km(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!H2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!a0(t.startAt,e.startAt)&&a0(t.endAt,e.endAt)}function Uf(t){return ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tD(t,e,n,r,i,o,s,a){return new Qc(t,e,n,r,i,o,s,a)}function _S(t){return new Qc(t)}function u0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function nD(t){return t.collectionGroup!==null}function Xs(t){const e=le(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ft(dt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new qu(o,r))}),n.has(dt.keyField().canonicalString())||e.ce.push(new qu(dt.keyField(),r))}return e.ce}function Ln(t){const e=le(t);return e.le||(e.le=rD(e,Xs(t))),e.le}function rD(t,e){if(t.limitType==="F")return l0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new qu(i.field,o)});const n=t.endAt?new Hu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Hu(t.startAt.position,t.startAt.inclusive):null;return l0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Bf(t,e,n){return new Qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Yc(t,e){return km(Ln(t),Ln(e))&&t.limitType===e.limitType}function wS(t){return`${Pm(Ln(t))}|lt:${t.limitType}`}function to(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vS(i)).join(", ")}]`),Kc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Wo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Wo(i)).join(",")),`Target(${r})`}(Ln(t))}; limitType=${t.limitType})`}function Xc(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ne.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Xs(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){const c=s0(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,Xs(r),i)||r.endAt&&!function(s,a,u){const c=s0(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,Xs(r),i))}(t,e)}function iD(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ES(t){return(e,n)=>{let r=!1;for(const i of Xs(t)){const o=oD(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function oD(t,e,n){const r=t.field.isKeyField()?ne.comparator(e.key,n.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return u!==null&&c!==null?zo(u,c):oe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return oe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){zi(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return cS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=new je(ne.comparator);function ur(){return sD}const SS=new je(ne.comparator);function $s(...t){let e=SS;for(const n of t)e=e.insert(n.key,n);return e}function TS(t){let e=SS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wi(){return Js()}function IS(){return Js()}function Js(){return new rs(t=>t.toString(),(t,e)=>t.isEqual(e))}const aD=new je(ne.comparator),lD=new ft(ne.comparator);function pe(...t){let e=lD;for(const n of t)e=e.add(n);return e}const uD=new ft(Ee);function cD(){return uD}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Wu(e)?"-0":e}}function CS(t){return{integerValue:""+t}}function dD(t,e){return j2(e)?CS(e):bm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(){this._=void 0}}function hD(t,e,n){return t instanceof Gu?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Cm(o)&&(o=Rm(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ra?AS(t,e):t instanceof Aa?PS(t,e):function(i,o){const s=RS(i,o),a=c0(s)+c0(i.Pe);return $f(s)&&$f(i.Pe)?CS(a):bm(i.serializer,a)}(t,e)}function fD(t,e,n){return t instanceof Ra?AS(t,e):t instanceof Aa?PS(t,e):n}function RS(t,e){return t instanceof Ku?function(r){return $f(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Gu extends Jc{}class Ra extends Jc{constructor(e){super(),this.elements=e}}function AS(t,e){const n=kS(e);for(const r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}class Aa extends Jc{constructor(e){super(),this.elements=e}}function PS(t,e){let n=kS(e);for(const r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}class Ku extends Jc{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function c0(t){return qe(t.integerValue||t.doubleValue)}function kS(t){return Am(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pD(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ra&&i instanceof Ra||r instanceof Aa&&i instanceof Aa?Bo(r.elements,i.elements,jn):r instanceof Ku&&i instanceof Ku?jn(r.Pe,i.Pe):r instanceof Gu&&i instanceof Gu}(t.transform,e.transform)}class mD{constructor(e,n){this.version=e,this.transformResults=n}}class En{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new En}static exists(e){return new En(void 0,e)}static updateTime(e){return new En(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function su(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Zc{}function bS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new xm(t.key,En.none()):new qa(t.key,t.data,En.none());{const n=t.data,r=Dt.empty();let i=new ft(dt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ai(t.key,r,new Gt(i.toArray()),En.none())}}function gD(t,e,n){t instanceof qa?function(i,o,s){const a=i.value.clone(),u=h0(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(i,o,s){if(!su(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=h0(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(xS(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Zs(t,e,n,r){return t instanceof qa?function(o,s,a,u){if(!su(o.precondition,s))return a;const c=o.value.clone(),h=f0(o.fieldTransforms,u,s);return c.setAll(h),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(o,s,a,u){if(!su(o.precondition,s))return a;const c=f0(o.fieldTransforms,u,s),h=s.data;return h.setAll(xS(o)),h.setAll(c),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return su(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function vD(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=RS(r.transform,i||null);o!=null&&(n===null&&(n=Dt.empty()),n.set(r.field,o))}return n||null}function d0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bo(r,i,(o,s)=>pD(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qa extends Zc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ai extends Zc{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function xS(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function h0(t,e,n){const r=new Map;Ae(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,fD(s,a,n[i]))}return r}function f0(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,hD(o,s,e))}return r}class xm extends Zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yD extends Zc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&gD(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Zs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Zs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=IS();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const u=bS(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&Bo(this.mutations,e.mutations,(n,r)=>d0(n,r))&&Bo(this.baseMutations,e.baseMutations,(n,r)=>d0(n,r))}}class Nm{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ae(e.mutations.length===r.length);let i=function(){return aD}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Nm(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ED{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe,ve;function SD(t){switch(t){default:return oe();case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0}}function NS(t){if(t===void 0)return lr("GRPC error has no .code"),U.UNKNOWN;switch(t){case Qe.OK:return U.OK;case Qe.CANCELLED:return U.CANCELLED;case Qe.UNKNOWN:return U.UNKNOWN;case Qe.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case Qe.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case Qe.INTERNAL:return U.INTERNAL;case Qe.UNAVAILABLE:return U.UNAVAILABLE;case Qe.UNAUTHENTICATED:return U.UNAUTHENTICATED;case Qe.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case Qe.NOT_FOUND:return U.NOT_FOUND;case Qe.ALREADY_EXISTS:return U.ALREADY_EXISTS;case Qe.PERMISSION_DENIED:return U.PERMISSION_DENIED;case Qe.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case Qe.ABORTED:return U.ABORTED;case Qe.OUT_OF_RANGE:return U.OUT_OF_RANGE;case Qe.UNIMPLEMENTED:return U.UNIMPLEMENTED;case Qe.DATA_LOSS:return U.DATA_LOSS;default:return oe()}}(ve=Qe||(Qe={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new Ci([4294967295,4294967295],0);function p0(t){const e=TD().encode(t),n=new tS;return n.update(e),new Uint8Array(n.digest())}function m0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ci([n,r],0),new Ci([i,o],0)]}class Dm{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new js(`Invalid padding: ${n}`);if(r<0)throw new js(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new js(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new js(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Ci.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Ci.fromNumber(r)));return i.compare(ID)===1&&(i=new Ci([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=p0(e),[r,i]=m0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Dm(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=p0(e),[r,i]=m0(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class js extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Ga.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ed(ae.min(),i,new je(Ee),ur(),pe())}}class Ga{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ga(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class DS{constructor(e,n){this.targetId=e,this.me=n}}class VS{constructor(e,n,r=mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class g0{constructor(){this.fe=0,this.ge=y0(),this.pe=mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=pe(),n=pe(),r=pe();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:oe()}}),new Ga(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=y0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ae(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class CD{constructor(e){this.Le=e,this.Be=new Map,this.ke=ur(),this.qe=v0(),this.Qe=new je(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:oe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(Uf(o))if(r===0){const s=new ne(o.path);this.Ue(n,s,Tt.newNoDocument(s,ae.min()))}else Ae(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=Li(r).toUint8Array()}catch(u){if(u instanceof dS)return Uo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Dm(s,i,o)}catch(u){return Uo(u instanceof js?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Uf(a.target)){const u=new ne(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Tt.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=pe();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new ed(e,n,this.Qe,this.ke,r);return this.ke=ur(),this.qe=v0(),this.Qe=new je(Ee),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new g0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ft(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new g0),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function v0(){return new je(ne.comparator)}function y0(){return new je(ne.comparator)}const RD={asc:"ASCENDING",desc:"DESCENDING"},AD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PD={and:"AND",or:"OR"};class kD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function zf(t,e){return t.useProto3Json||Kc(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function bD(t,e){return Qu(t,e.toTimestamp())}function Fn(t){return Ae(!!t),ae.fromTimestamp(function(n){const r=Zr(n);return new tt(r.seconds,r.nanos)}(t))}function Vm(t,e){return Wf(t,e).canonicalString()}function Wf(t,e){const n=function(i){return new Me(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function MS(t){const e=Me.fromString(t);return Ae(US(e)),e}function Hf(t,e){return Vm(t.databaseId,e.path)}function Sh(t,e){const n=MS(e);if(n.get(1)!==t.databaseId.projectId)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ee(U.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ne(FS(n))}function LS(t,e){return Vm(t.databaseId,e)}function xD(t){const e=MS(t);return e.length===4?Me.emptyPath():FS(e)}function qf(t){return new Me(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FS(t){return Ae(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _0(t,e,n){return{name:Hf(t,e),fields:n.value.mapValue.fields}}function ND(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:oe()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(c,h){return c.useProto3Json?(Ae(h===void 0||typeof h=="string"),mt.fromBase64String(h||"")):(Ae(h===void 0||h instanceof Buffer||h instanceof Uint8Array),mt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const h=c.code===void 0?U.UNKNOWN:NS(c.code);return new ee(h,c.message||"")}(s);n=new VS(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Sh(t,r.document.name),o=Fn(r.document.updateTime),s=r.document.createTime?Fn(r.document.createTime):ae.min(),a=new Dt({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(i,o,s,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new au(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Sh(t,r.document),o=r.readTime?Fn(r.readTime):ae.min(),s=Tt.newNoDocument(i,o),a=r.removedTargetIds||[];n=new au([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Sh(t,r.document),o=r.removedTargetIds||[];n=new au([],o,i,null)}else{if(!("filter"in e))return oe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new ED(i,o),a=r.targetId;n=new DS(a,s)}}return n}function DD(t,e){let n;if(e instanceof qa)n={update:_0(t,e.key,e.value)};else if(e instanceof xm)n={delete:Hf(t,e.key)};else if(e instanceof ai)n={update:_0(t,e.key,e.data),updateMask:BD(e.fieldMask)};else{if(!(e instanceof yD))return oe();n={verify:Hf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Gu)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ra)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Aa)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ku)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw oe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:bD(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:oe()}(t,e.precondition)),n}function VD(t,e){return t&&t.length>0?(Ae(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Fn(i.updateTime):Fn(o);return s.isEqual(ae.min())&&(s=Fn(o)),new mD(s,i.transformResults||[])}(n,e))):[]}function OD(t,e){return{documents:[LS(t,e.path)]}}function MD(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=LS(t,i);const o=function(c){if(c.length!==0)return jS(Un.create(c,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(c){if(c.length!==0)return c.map(h=>function(m){return{field:no(m.field),direction:$D(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=zf(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function LD(t){let e=xD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Ae(r===1);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(f){const m=$S(f);return m instanceof Un&&mS(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(m=>function(w){return new qu(ro(w.field),function(A){switch(A){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(w.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,Kc(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(f){const m=!!f.before,g=f.values||[];return new Hu(g,m)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const m=!f.before,g=f.values||[];return new Hu(g,m)}(n.endAt)),tD(e,i,s,o,a,"F",u,c)}function FD(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return oe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $S(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return Ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ro(n.unaryFilter.field);return Ze.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ro(n.unaryFilter.field);return Ze.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ro(n.unaryFilter.field);return Ze.create(s,"!=",{nullValue:"NULL_VALUE"});default:return oe()}}(t):t.fieldFilter!==void 0?function(n){return Ze.create(ro(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return oe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Un.create(n.compositeFilter.filters.map(r=>$S(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return oe()}}(n.compositeFilter.op))}(t):oe()}function $D(t){return RD[t]}function jD(t){return AD[t]}function UD(t){return PD[t]}function no(t){return{fieldPath:t.canonicalString()}}function ro(t){return dt.fromServerFormat(t.fieldPath)}function jS(t){return t instanceof Ze?function(n){if(n.op==="=="){if(o0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NAN"}};if(i0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(o0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NAN"}};if(i0(n.value))return{unaryFilter:{field:no(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:no(n.field),op:jD(n.op),value:n.value}}}(t):t instanceof Un?function(n){const r=n.getFilters().map(i=>jS(i));return r.length===1?r[0]:{compositeFilter:{op:UD(n.op),filters:r}}}(t):oe()}function BD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function US(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,n,r,i,o=ae.min(),s=ae.min(),a=mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zD{constructor(e){this.ct=e}}function WD(t){const e=LD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{constructor(){this.un=new qD}addToCollectionParentIndex(e,n){return this.un.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Jr.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Jr.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class qD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new ft(Me.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ft(Me.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Ho(0)}static kn(){return new Ho(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.changes=new rs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Zs(r.mutation,i,Gt.empty(),tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const i=wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=$s();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ur();const s=Js(),a=function(){return Js()}();return n.forEach((u,c)=>{const h=r.get(c.key);i.has(c.key)&&(h===void 0||h.mutation instanceof ai)?o=o.insert(c.key,c):h!==void 0?(s.set(c.key,h.mutation.getFieldMask()),Zs(h.mutation,c,h.mutation.getFieldMask(),tt.now())):s.set(c.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,h)=>s.set(c,h)),n.forEach((c,h)=>{var f;return a.set(c,new KD(h,(f=s.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Js();let i=new je((s,a)=>s-a),o=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||Gt.empty();h=a.applyToLocalView(c,h),r.set(u,h);const f=(i.get(a.batchId)||pe()).add(u);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,f=IS();h.forEach(m=>{if(!o.has(m)){const g=bS(n.get(m),r.get(m));g!==null&&f.set(m,g),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,f))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ne.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):nD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):j.resolve(wi());let a=-1,u=o;return s.next(c=>j.forEach(c,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(h)?j.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,pe())).next(h=>({batchId:a,changes:TS(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ne(n)).next(r=>{let i=$s();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=$s();return this.indexManager.getCollectionParents(e,o).next(a=>j.forEach(a,u=>{const c=function(f,m){return new Qc(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(h=>{h.forEach((f,m)=>{s=s.insert(f,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,c)=>{const h=c.getKey();s.get(h)===null&&(s=s.insert(h,Tt.newInvalidDocument(h)))});let a=$s();return s.forEach((u,c)=>{const h=o.get(u);h!==void 0&&Zs(h.mutation,c,Gt.empty(),tt.now()),Xc(n,c)&&(a=a.insert(u,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return j.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Fn(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:WD(i.bundledQuery),readTime:Fn(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.overlays=new je(ne.comparator),this.Ir=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wi();return j.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=wi(),o=n.length+1,s=new ne(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new je((c,h)=>c-h);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=o.get(c.largestBatchId);h===null&&(h=wi(),o=o.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=wi(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=i)););return j.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new wD(n,r));let o=this.Ir.get(n);o===void 0&&(o=pe(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(){this.sessionToken=mt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Tr=new ft(rt.Er),this.dr=new ft(rt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new rt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new rt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new ne(new Me([])),r=new rt(n,e),i=new rt(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new ne(new Me([])),r=new rt(n,e),i=new rt(n,e+1);let o=pe();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new rt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class rt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ne.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ft(rt.Er)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new _D(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new rt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,n){return j.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return j.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new rt(n,0),i=new rt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),j.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new ft(Ee);return n.forEach(i=>{const o=new rt(i,0),s=new rt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),j.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;ne.isDocumentKey(o)||(o=o.child(""));const s=new rt(new ne(o),0);let a=new ft(Ee);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),j.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ae(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return j.forEach(n.mutations,i=>{const o=new rt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new rt(n,0),i=this.br.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e){this.Mr=e,this.docs=function(){return new je(ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=ur();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Tt.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ur();const s=n.path,a=new ne(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||M2(O2(h),r)<=0||(i.has(h.key)||Xc(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return j.resolve(o)}getAllFromCollectionGroup(e,n,r,i){oe()}Or(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new tV(this)}getSize(e){return j.resolve(this.size)}}class tV extends GD{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.persistence=e,this.Nr=new rs(n=>Pm(n),km),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Om,this.targetCount=0,this.kr=Ho.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),j.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Ho(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.Kn(n),j.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),j.waitFor(o).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rV{constructor(e,n){this.qr={},this.overlays={},this.Qr=new Im(0),this.Kr=!1,this.Kr=!0,this.$r=new JD,this.referenceDelegate=e(this),this.Ur=new nV(this),this.indexManager=new HD,this.remoteDocumentCache=function(i){return new eV(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new zD(n),this.Gr=new YD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new ZD(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new iV(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return j.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class iV extends F2{constructor(e){super(),this.currentSequenceNumber=e}}class Mm{constructor(e){this.persistence=e,this.Jr=new Om,this.Yr=null}static Zr(e){return new Mm(e)}get Xr(){if(this.Yr)return this.Yr;throw oe()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),j.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.Xr,r=>{const i=ne.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return j.or([()=>j.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=pe(),i=pe();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Lm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return aN()?8:$2(Ct())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new oV;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ds()<=me.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",to(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),j.resolve()):(Ds()<=me.DEBUG&&Y("QueryEngine","Query:",to(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ds()<=me.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",to(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(n))):j.resolve())}Yi(e,n){if(u0(n))return j.resolve(null);let r=Ln(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Bf(n,null,"F"),r=Ln(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=pe(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(n,a);return this.ns(n,c,s,u.readTime)?this.Yi(e,Bf(n,null,"F")):this.rs(e,c,n,u)}))})))}Zi(e,n,r,i){return u0(n)||i.isEqual(ae.min())?j.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?j.resolve(null):(Ds()<=me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),to(n)),this.rs(e,s,n,V2(i,-1)).next(a=>a))})}ts(e,n){let r=new ft(ES(e));return n.forEach((i,o)=>{Xc(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ds()<=me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",to(n)),this.Ji.getDocumentsMatchingQuery(e,n,Jr.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aV{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new je(Ee),this._s=new rs(o=>Pm(o),km),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QD(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function lV(t,e,n,r){return new aV(t,e,n,r)}async function BS(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=pe();for(const c of i){s.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of o){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}function uV(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,h){const f=c.batch,m=f.keys();let g=j.resolve();return m.forEach(w=>{g=g.next(()=>h.getEntry(u,w)).next(T=>{const A=c.docVersions.get(w);Ae(A!==null),T.version.compareTo(A)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),h.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(u,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=pe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function zS(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function cV(t,e){const n=le(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((h,f)=>{const m=i.get(f);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,f)));let g=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(mt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),i=i.insert(f,g),function(T,A,y){return T.resumeToken.approximateByteSize()===0||A.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(m,g,h)&&a.push(n.Ur.updateTargetData(o,g))});let u=ur(),c=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(dV(o,s,e.documentUpdates).next(h=>{u=h.Ps,c=h.Is})),!r.isEqual(ae.min())){const h=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return j.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(n.os=i,o))}function dV(t,e,n){let r=pe(),i=pe();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ur();return n.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):Y("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function hV(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function fV(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,j.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Vr(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Gf(t,e,n){const r=le(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Ha(s))throw s;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function w0(t,e,n){const r=le(t);let i=ae.min(),o=pe();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,h){const f=le(u),m=f._s.get(h);return m!==void 0?j.resolve(f.os.get(m)):f.Ur.getTargetData(c,h)}(r,s,Ln(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ae.min(),n?o:pe())).next(a=>(pV(r,iD(e),a),{documents:a,Ts:o})))}function pV(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class E0{constructor(){this.activeTargetIds=cD()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mV{constructor(){this.so=new E0,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new E0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ul=null;function Th(){return Ul===null?Ul=function(){return 268435456+Math.round(2147483648*Math.random())}():Ul++,"0x"+Ul.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wt="WebChannelConnection";class _V extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=Th(),u=this.xo(n,r.toUriEncodedString());Y("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(n,u,c,i).then(h=>(Y("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Uo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ns}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=vV[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=Th();return new Promise((s,a)=>{const u=new nS;u.setWithCredentials(!0),u.listenOnce(iS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case iu.NO_ERROR:const h=u.getResponseJson();Y(wt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case iu.TIMEOUT:Y(wt,`RPC '${e}' ${o} timed out`),a(new ee(U.DEADLINE_EXCEEDED,"Request time out"));break;case iu.HTTP_ERROR:const f=u.getStatus();if(Y(wt,`RPC '${e}' ${o} failed with status:`,f,"response text:",u.getResponseText()),f>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);const g=m==null?void 0:m.error;if(g&&g.status&&g.message){const w=function(A){const y=A.toLowerCase().replace(/_/g,"-");return Object.values(U).indexOf(y)>=0?y:U.UNKNOWN}(g.status);a(new ee(w,g.message))}else a(new ee(U.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new ee(U.UNAVAILABLE,"Connection failed."));break;default:oe()}}finally{Y(wt,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);Y(wt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",c,r,15)})}Bo(e,n,r){const i=Th(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=aS(),a=sS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new rS({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=o.join("");Y(wt,`Creating RPC '${e}' stream ${i}: ${h}`,u);const f=s.createWebChannel(h,u);let m=!1,g=!1;const w=new yV({Io:A=>{g?Y(wt,`Not sending because RPC '${e}' stream ${i} is closed:`,A):(m||(Y(wt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),m=!0),Y(wt,`RPC '${e}' stream ${i} sending:`,A),f.send(A))},To:()=>f.close()}),T=(A,y,_)=>{A.listen(y,S=>{try{_(S)}catch(N){setTimeout(()=>{throw N},0)}})};return T(f,Fs.EventType.OPEN,()=>{g||(Y(wt,`RPC '${e}' stream ${i} transport opened.`),w.yo())}),T(f,Fs.EventType.CLOSE,()=>{g||(g=!0,Y(wt,`RPC '${e}' stream ${i} transport closed`),w.So())}),T(f,Fs.EventType.ERROR,A=>{g||(g=!0,Uo(wt,`RPC '${e}' stream ${i} transport errored:`,A),w.So(new ee(U.UNAVAILABLE,"The operation could not be completed")))}),T(f,Fs.EventType.MESSAGE,A=>{var y;if(!g){const _=A.data[0];Ae(!!_);const S=_,N=S.error||((y=S[0])===null||y===void 0?void 0:y.error);if(N){Y(wt,`RPC '${e}' stream ${i} received error:`,N);const M=N.status;let O=function(C){const P=Qe[C];if(P!==void 0)return NS(P)}(M),I=N.message;O===void 0&&(O=U.INTERNAL,I="Unknown error status: "+M+" with message "+N.message),g=!0,w.So(new ee(O,I)),f.close()}else Y(wt,`RPC '${e}' stream ${i} received:`,_),w.bo(_)}}),T(a,oS.STAT_EVENT,A=>{A.stat===Lf.PROXY?Y(wt,`RPC '${e}' stream ${i} detected buffering proxy`):A.stat===Lf.NOPROXY&&Y(wt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{w.wo()},0),w}}function Ih(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function td(t){return new kD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new WS(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===U.RESOURCE_EXHAUSTED?(lr(n.toString()),lr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new ee(U.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class wV extends HS{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=ND(this.serializer,e),r=function(o){if(!("targetChange"in o))return ae.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?ae.min():s.readTime?Fn(s.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=qf(this.serializer),n.addTarget=function(o,s){let a;const u=s.target;if(a=Uf(u)?{documents:OD(o,u)}:{query:MD(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=OS(o,s.resumeToken);const c=zf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(ae.min())>0){a.readTime=Qu(o,s.snapshotVersion.toTimestamp());const c=zf(o,s.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=FD(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=qf(this.serializer),n.removeTarget=e,this.a_(n)}}class EV extends HS{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,Ae(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Ae(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=VD(e.writeResults,e.commitTime),r=Fn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=qf(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>DD(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Wf(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ee(U.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Wf(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ee(U.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class TV{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(lr(n),this.D_=!1):Y("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{Wi(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(u){const c=le(u);c.L_.add(4),await Ka(c),c.q_.set("Unknown"),c.L_.delete(4),await nd(c)}(this))})}),this.q_=new TV(r,i)}}async function nd(t){if(Wi(t))for(const e of t.B_)await e(!0)}async function Ka(t){for(const e of t.B_)await e(!1)}function qS(t,e){const n=le(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Um(n)?jm(n):is(n).r_()&&$m(n,e))}function Fm(t,e){const n=le(t),r=is(n);n.N_.delete(e),r.r_()&&GS(n,e),n.N_.size===0&&(r.r_()?r.o_():Wi(n)&&n.q_.set("Unknown"))}function $m(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}is(t).A_(e)}function GS(t,e){t.Q_.xe(e),is(t).R_(e)}function jm(t){t.Q_=new CD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),is(t).start(),t.q_.v_()}function Um(t){return Wi(t)&&!is(t).n_()&&t.N_.size>0}function Wi(t){return le(t).L_.size===0}function KS(t){t.Q_=void 0}async function CV(t){t.q_.set("Online")}async function RV(t){t.N_.forEach((e,n)=>{$m(t,e)})}async function AV(t,e){KS(t),Um(t)?(t.q_.M_(e),jm(t)):t.q_.set("Unknown")}async function PV(t,e,n){if(t.q_.set("Online"),e instanceof VS&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Yu(t,r)}else if(e instanceof au?t.Q_.Ke(e):e instanceof DS?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{const r=await zS(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=o.N_.get(c);h&&o.N_.set(c,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(mt.EMPTY_BYTE_STRING,h.snapshotVersion)),GS(o,u);const f=new Vr(h.target,u,c,h.sequenceNumber);$m(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Y("RemoteStore","Failed to raise snapshot:",r),await Yu(t,r)}}async function Yu(t,e,n){if(!Ha(e))throw e;t.L_.add(1),await Ka(t),t.q_.set("Offline"),n||(n=()=>zS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await nd(t)})}function QS(t,e){return e().catch(n=>Yu(t,n,e))}async function rd(t){const e=le(t),n=ei(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;kV(e);)try{const i=await hV(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,bV(e,i)}catch(i){await Yu(e,i)}YS(e)&&XS(e)}function kV(t){return Wi(t)&&t.O_.length<10}function bV(t,e){t.O_.push(e);const n=ei(t);n.r_()&&n.V_&&n.m_(e.mutations)}function YS(t){return Wi(t)&&!ei(t).n_()&&t.O_.length>0}function XS(t){ei(t).start()}async function xV(t){ei(t).p_()}async function NV(t){const e=ei(t);for(const n of t.O_)e.m_(n.mutations)}async function DV(t,e,n){const r=t.O_.shift(),i=Nm.from(r,e,n);await QS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await rd(t)}async function VV(t,e){e&&ei(t).V_&&await async function(r,i){if(function(s){return SD(s)&&s!==U.ABORTED}(i.code)){const o=r.O_.shift();ei(r).s_(),await QS(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await rd(r)}}(t,e),YS(t)&&XS(t)}async function T0(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const r=Wi(n);n.L_.add(3),await Ka(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await nd(n)}async function OV(t,e){const n=le(t);e?(n.L_.delete(2),await nd(n)):e||(n.L_.add(2),await Ka(n),n.q_.set("Unknown"))}function is(t){return t.K_||(t.K_=function(n,r,i){const o=le(n);return o.w_(),new wV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:CV.bind(null,t),Ro:RV.bind(null,t),mo:AV.bind(null,t),d_:PV.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Um(t)?jm(t):t.q_.set("Unknown")):(await t.K_.stop(),KS(t))})),t.K_}function ei(t){return t.U_||(t.U_=function(n,r,i){const o=le(n);return o.w_(),new EV(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:xV.bind(null,t),mo:VV.bind(null,t),f_:NV.bind(null,t),g_:DV.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await rd(t)):(await t.U_.stop(),t.O_.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Bm(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ee(U.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zm(t,e){if(lr("AsyncQueue",`${e}: ${t}`),Ha(t))return new ee(U.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ne.comparator(n.key,r.key):(n,r)=>ne.comparator(n.key,r.key),this.keyedMap=$s(),this.sortedSet=new je(this.comparator)}static emptySet(e){return new Co(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Co;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.W_=new je(ne.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):oe():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qo{constructor(e,n,r,i,o,s,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new qo(e,n,Co.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MV{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class LV{constructor(){this.queries=C0(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=le(n),o=i.queries;i.queries=C0(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})})(this,new ee(U.ABORTED,"Firestore shutting down"))}}function C0(){return new rs(t=>wS(t),Yc)}async function FV(t,e){const n=le(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new MV,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=zm(s,`Initialization of query '${to(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Wm(n)}async function $V(t,e){const n=le(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function jV(t,e){const n=le(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Wm(n)}function UV(t,e,n){const r=le(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Wm(t){t.Y_.forEach(e=>{e.next()})}var Kf,R0;(R0=Kf||(Kf={})).ea="default",R0.Cache="cache";class BV{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Kf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.key=e}}class ZS{constructor(e){this.key=e}}class zV{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=pe(),this.mutatedKeys=pe(),this.Aa=ES(e),this.Ra=new Co(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new I0,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,f)=>{const m=i.get(h),g=Xc(this.query,f)?f:null,w=!!m&&this.mutatedKeys.has(m.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let A=!1;m&&g?m.data.isEqual(g.data)?w!==T&&(r.track({type:3,doc:g}),A=!0):this.ga(m,g)||(r.track({type:2,doc:g}),A=!0,(u&&this.Aa(g,u)>0||c&&this.Aa(g,c)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),A=!0):m&&!g&&(r.track({type:1,doc:m}),A=!0,(u||c)&&(a=!0)),A&&(g?(s=s.add(g),o=T?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((h,f)=>function(g,w){const T=A=>{switch(A){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return oe()}};return T(g)-T(w)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,s.length!==0||c?{snapshot:new qo(this.query,e.Ra,o,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new I0,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=pe(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new ZS(r))}),this.da.forEach(r=>{e.has(r)||n.push(new JS(r))}),n}ba(e){this.Ta=e.Ts,this.da=pe();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return qo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class WV{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class HV{constructor(e){this.key=e,this.va=!1}}class qV{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new rs(a=>wS(a),Yc),this.Ma=new Map,this.xa=new Set,this.Oa=new je(ne.comparator),this.Na=new Map,this.La=new Om,this.Ba={},this.ka=new Map,this.qa=Ho.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function GV(t,e,n=!0){const r=oT(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await eT(r,e,n,!0),i}async function KV(t,e){const n=oT(t);await eT(n,e,!0,!1)}async function eT(t,e,n,r){const i=await fV(t.localStore,Ln(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await QV(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&qS(t.remoteStore,i),a}async function QV(t,e,n,r,i){t.Ka=(f,m,g)=>async function(T,A,y,_){let S=A.view.ma(y);S.ns&&(S=await w0(T.localStore,A.query,!1).then(({documents:I})=>A.view.ma(I,S)));const N=_&&_.targetChanges.get(A.targetId),M=_&&_.targetMismatches.get(A.targetId)!=null,O=A.view.applyChanges(S,T.isPrimaryClient,N,M);return P0(T,A.targetId,O.wa),O.snapshot}(t,f,m,g);const o=await w0(t.localStore,e,!0),s=new zV(e,o.Ts),a=s.ma(o.documents),u=Ga.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(a,t.isPrimaryClient,u);P0(t,n,c.wa);const h=new WV(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),c.snapshot}async function YV(t,e,n){const r=le(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Yc(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Gf(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Fm(r.remoteStore,i.targetId),Qf(r,i.targetId)}).catch(Wa)):(Qf(r,i.targetId),await Gf(r.localStore,i.targetId,!0))}async function XV(t,e){const n=le(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Fm(n.remoteStore,r.targetId))}async function JV(t,e,n){const r=oO(t);try{const i=await function(s,a){const u=le(s),c=tt.now(),h=a.reduce((g,w)=>g.add(w.key),pe());let f,m;return u.persistence.runTransaction("Locally write mutations","readwrite",g=>{let w=ur(),T=pe();return u.cs.getEntries(g,h).next(A=>{w=A,w.forEach((y,_)=>{_.isValidDocument()||(T=T.add(y))})}).next(()=>u.localDocuments.getOverlayedDocuments(g,w)).next(A=>{f=A;const y=[];for(const _ of a){const S=vD(_,f.get(_.key).overlayedDocument);S!=null&&y.push(new ai(_.key,S,hS(S.value.mapValue),En.exists(!0)))}return u.mutationQueue.addMutationBatch(g,c,y,a)}).next(A=>{m=A;const y=A.applyToLocalDocumentSet(f,T);return u.documentOverlayCache.saveOverlays(g,A.batchId,y)})}).then(()=>({batchId:m.batchId,changes:TS(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new je(Ee)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,n),await Qa(r,i.changes),await rd(r.remoteStore)}catch(i){const o=zm(i,"Failed to persist write");n.reject(o)}}async function tT(t,e){const n=le(t);try{const r=await cV(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(Ae(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Ae(s.va):i.removedDocuments.size>0&&(Ae(s.va),s.va=!1))}),await Qa(n,r,e)}catch(r){await Wa(r)}}function A0(t,e,n){const r=le(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=le(s);u.onlineState=a;let c=!1;u.queries.forEach((h,f)=>{for(const m of f.j_)m.Z_(a)&&(c=!0)}),c&&Wm(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(t,e,n){const r=le(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new je(ne.comparator);s=s.insert(o,Tt.newNoDocument(o,ae.min()));const a=pe().add(o),u=new ed(ae.min(),new Map,new je(Ee),s,a);await tT(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Hm(r)}else await Gf(r.localStore,e,!1).then(()=>Qf(r,e,n)).catch(Wa)}async function eO(t,e){const n=le(t),r=e.batch.batchId;try{const i=await uV(n.localStore,e);rT(n,r,null),nT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qa(n,i)}catch(i){await Wa(i)}}async function tO(t,e,n){const r=le(t);try{const i=await function(s,a){const u=le(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let h;return u.mutationQueue.lookupMutationBatch(c,a).next(f=>(Ae(f!==null),h=f.keys(),u.mutationQueue.removeMutationBatch(c,f))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,h)).next(()=>u.localDocuments.getDocuments(c,h))})}(r.localStore,e);rT(r,e,n),nT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qa(r,i)}catch(i){await Wa(i)}}function nT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function rT(t,e,n){const r=le(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||iT(t,r)})}function iT(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Fm(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Hm(t))}function P0(t,e,n){for(const r of n)r instanceof JS?(t.La.addReference(r.key,e),nO(t,r)):r instanceof ZS?(Y("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||iT(t,r.key)):oe()}function nO(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Y("SyncEngine","New document in limbo: "+n),t.xa.add(r),Hm(t))}function Hm(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new ne(Me.fromString(e)),r=t.qa.next();t.Na.set(r,new HV(n)),t.Oa=t.Oa.insert(n,r),qS(t.remoteStore,new Vr(Ln(_S(n.path)),r,"TargetPurposeLimboResolution",Im.oe))}}async function Qa(t,e,n){const r=le(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Lm.Wi(u.targetId,c);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(u,c){const h=le(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>j.forEach(c,m=>j.forEach(m.$i,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>j.forEach(m.Ui,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!Ha(f))throw f;Y("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const m=f.targetId;if(!f.fromCache){const g=h.os.get(m),w=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(w);h.os=h.os.insert(m,T)}}}(r.localStore,o))}async function rO(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const r=await BS(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new ee(U.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qa(n,r.hs)}}function iO(t,e){const n=le(t),r=n.Na.get(e);if(r&&r.va)return pe().add(r.key);{let i=pe();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function oT(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=iO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.Ca.d_=jV.bind(null,e.eventManager),e.Ca.$a=UV.bind(null,e.eventManager),e}function oO(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eO.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tO.bind(null,e),e}class k0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=td(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return lV(this.persistence,new sV,e.initialUser,this.serializer)}createPersistence(e){return new rV(Mm.Zr,this.serializer)}createSharedClientState(e){return new mV}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sO{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=rO.bind(null,this.syncEngine),await OV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new LV}()}createDatastore(e){const n=td(e.databaseInfo.databaseId),r=function(o){return new _V(o)}(e.databaseInfo);return function(o,s,a,u){return new SV(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new IV(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>A0(this.syncEngine,n,0),function(){return S0.D()?new S0:new gV}())}createSyncEngine(e,n){return function(i,o,s,a,u,c,h){const f=new qV(i,o,s,a,u,c);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=le(i);Y("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Ka(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aO{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):lr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=uS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async o=>{Y("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(Y("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ee(U.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=zm(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ch(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await BS(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function b0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await cO(t);Y("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>T0(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>T0(e.remoteStore,i)),t._onlineComponents=e}function uO(t){return t.name==="FirebaseError"?t.code===U.FAILED_PRECONDITION||t.code===U.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function cO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ch(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!uO(n))throw n;Uo("Error using user provided cache. Falling back to memory cache: "+n),await Ch(t,new k0)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await Ch(t,new k0);return t._offlineComponents}async function sT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await b0(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await b0(t,new sO))),t._onlineComponents}function dO(t){return sT(t).then(e=>e.syncEngine)}async function hO(t){const e=await sT(t),n=e.eventManager;return n.onListen=GV.bind(null,e.syncEngine),n.onUnlisten=YV.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KV.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=XV.bind(null,e.syncEngine),n}function fO(t,e,n={}){const r=new Gr;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,u,c){const h=new aO({next:m=>{s.enqueueAndForget(()=>$V(o,f)),m.fromCache&&u.source==="server"?c.reject(new ee(U.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(m)},error:m=>c.reject(m)}),f=new BV(a,h,{includeMetadataChanges:!0,_a:!0});return FV(o,f)}(await hO(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lT(t,e,n){if(!n)throw new ee(U.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pO(t,e,n,r){if(e===!0&&r===!0)throw new ee(U.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function N0(t){if(!ne.isDocumentKey(t))throw new ee(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function D0(t){if(ne.isDocumentKey(t))throw new ee(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":oe()}function ti(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ee(U.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qm(t);throw new ee(U.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ee(U.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ee(U.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ee(U.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class id{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new V0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ee(U.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ee(U.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new V0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new C2;switch(r.type){case"firstParty":return new k2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ee(U.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=x0.get(n);r&&(Y("ComponentProvider","Removing Datastore"),x0.delete(n),r.terminate())}(this),Promise.resolve()}}function mO(t,e,n,r={}){var i;const o=(t=ti(t,id))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Et.MOCK_USER;else{a=eN(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ee(U.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(c)}t._authCredentials=new R2(new lS(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new od(this.firestore,e,this._query)}}class Qt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Qt(this.firestore,e,this._key)}}class Kr extends od{constructor(e,n,r){super(e,n,_S(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Qt(this.firestore,null,new ne(e))}withConverter(e){return new Kr(this.firestore,e,this._path)}}function gO(t,e,...n){if(t=kt(t),lT("collection","path",e),t instanceof id){const r=Me.fromString(e,...n);return D0(r),new Kr(t,null,r)}{if(!(t instanceof Qt||t instanceof Kr))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return D0(r),new Kr(t.firestore,null,r)}}function Rh(t,e,...n){if(t=kt(t),arguments.length===1&&(e=uS.newId()),lT("doc","path",e),t instanceof id){const r=Me.fromString(e,...n);return N0(r),new Qt(t,null,new ne(r))}{if(!(t instanceof Qt||t instanceof Kr))throw new ee(U.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Me.fromString(e,...n));return N0(r),new Qt(t.firestore,t instanceof Kr?t.converter:null,new ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new WS(this,"async_queue_retry"),this.Eu=()=>{const n=Ih();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=Ih();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=Ih();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new Gr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ha(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw lr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const i=Bm.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&oe()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class Ya extends id{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vO}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||cT(this),this._firestoreClient.terminate()}}function yO(t,e){const n=typeof t=="object"?t:J1(),r=typeof t=="string"?t:"(default)",i=Sm(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=Jx("firestore");o&&mO(i,...o)}return i}function uT(t){return t._firestoreClient||cT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function cT(t){var e,n,r;const i=t._freezeSettings(),o=function(a,u,c,h){return new B2(a,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,aT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new lO(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Go(mt.fromBase64String(e))}catch(n){throw new ee(U.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Go(mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ee(U.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ee(U.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ee(U.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _O=/^__.*__$/;class wO{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new qa(e,this.data,n,this.fieldTransforms)}}class dT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw oe()}}class Ym{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Ym(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Xu(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(hT(this.wu)&&_O.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class EO{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||td(e)}Nu(e,n,r,i=!1){return new Ym({wu:e,methodName:n,Ou:r,path:dt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fT(t){const e=t._freezeSettings(),n=td(t._databaseId);return new EO(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SO(t,e,n,r,i,o={}){const s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);Xm("Data must be an object, but it was:",s,r);const a=pT(r,s);let u,c;if(o.merge)u=new Gt(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const f of o.mergeFields){const m=Yf(e,f,n);if(!s.contains(m))throw new ee(U.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);gT(h,m)||h.push(m)}u=new Gt(h),c=s.fieldTransforms.filter(f=>u.covers(f.field))}else u=null,c=s.fieldTransforms;return new wO(new Dt(a),u,c)}class ad extends Gm{_toFieldTransform(e){if(e.wu!==2)throw e.wu===1?e.Mu(`${this._methodName}() can only appear at the top level of your update data`):e.Mu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ad}}function TO(t,e,n,r){const i=t.Nu(1,e,n);Xm("Data must be an object, but it was:",i,r);const o=[],s=Dt.empty();zi(r,(u,c)=>{const h=Jm(e,u,n);c=kt(c);const f=i.Cu(h);if(c instanceof ad)o.push(h);else{const m=ld(c,f);m!=null&&(o.push(h),s.set(h,m))}});const a=new Gt(o);return new dT(s,a,i.fieldTransforms)}function IO(t,e,n,r,i,o){const s=t.Nu(1,e,n),a=[Yf(e,r,n)],u=[i];if(o.length%2!=0)throw new ee(U.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(Yf(e,o[m])),u.push(o[m+1]);const c=[],h=Dt.empty();for(let m=a.length-1;m>=0;--m)if(!gT(c,a[m])){const g=a[m];let w=u[m];w=kt(w);const T=s.Cu(g);if(w instanceof ad)c.push(g);else{const A=ld(w,T);A!=null&&(c.push(g),h.set(g,A))}}const f=new Gt(c);return new dT(h,f,s.fieldTransforms)}function ld(t,e){if(mT(t=kt(t)))return Xm("Unsupported field value:",e,t),pT(t,e);if(t instanceof Gm)return function(r,i){if(!hT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=ld(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=kt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return dD(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=tt.fromDate(r);return{timestampValue:Qu(i.serializer,o)}}if(r instanceof tt){const o=new tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Qu(i.serializer,o)}}if(r instanceof Km)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Go)return{bytesValue:OS(i.serializer,r._byteString)};if(r instanceof Qt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Vm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qm)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return bm(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${qm(r)}`)}(t,e)}function pT(t,e){const n={};return cS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zi(t,(r,i)=>{const o=ld(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function mT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof tt||t instanceof Km||t instanceof Go||t instanceof Qt||t instanceof Gm||t instanceof Qm)}function Xm(t,e,n){if(!mT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=qm(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Yf(t,e,n){if((e=kt(e))instanceof sd)return e._internalPath;if(typeof e=="string")return Jm(t,e);throw Xu("Field path arguments must be of type string or ",t,!1,void 0,n)}const CO=new RegExp("[~\\*/\\[\\]]");function Jm(t,e,n){if(e.search(CO)>=0)throw Xu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sd(...e.split("."))._internalPath}catch{throw Xu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Xu(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ee(U.INVALID_ARGUMENT,a+t+u)}function gT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new RO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class RO extends vT{data(){return super.data()}}function yT(t,e){return typeof e=="string"?Jm(t,e):e instanceof sd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ee(U.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PO{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw oe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return zi(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>qe(s.doubleValue));return new Qm(o)}convertGeoPoint(e){return new Km(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ta(e));default:return null}}convertTimestamp(e){const n=Zr(e);return new tt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Me.fromString(e);Ae(US(r));const i=new Ia(r.get(1),r.get(3)),o=new ne(r.popFirst(5));return i.isEqual(n)||lr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kO(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bO extends vT{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class lu extends bO{data(e={}){return super.data(e)}}class xO{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Bl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new lu(this._firestore,this._userDataWriter,r.key,r,new Bl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ee(U.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const u=new lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const u=new lu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Bl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:NO(a.type),doc:u,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return oe()}}class DO extends PO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Qt(this.firestore,null,n)}}function VO(t){t=ti(t,od);const e=ti(t.firestore,Ya),n=uT(e),r=new DO(e);return AO(t._query),fO(n,t._query).then(i=>new xO(e,r,t,i))}function OO(t,e,n){t=ti(t,Qt);const r=ti(t.firestore,Ya),i=kO(t.converter,e);return Zm(r,[SO(fT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,En.none())])}function MO(t,e,n,...r){t=ti(t,Qt);const i=ti(t.firestore,Ya),o=fT(i);let s;return s=typeof(e=kt(e))=="string"||e instanceof sd?IO(o,"updateDoc",t._key,e,n,r):TO(o,"updateDoc",t._key,e),Zm(i,[s.toMutation(t._key,En.exists(!0))])}function LO(t){return Zm(ti(t.firestore,Ya),[new xm(t._key,En.none())])}function Zm(t,e){return function(r,i){const o=new Gr;return r.asyncQueue.enqueueAndForget(async()=>JV(await dO(r),i,o)),o.promise}(uT(t),e)}(function(e,n=!0){(function(i){ns=i})(ts),jo(new Oi("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Ya(new A2(r.getProvider("auth-internal")),new x2(r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ee(U.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ia(c.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),qr(Zy,"4.7.2",e),qr(Zy,"4.7.2","esm2017")})();const _T={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0};console.log(_T);const FO=X1(_T),Hn=yO(FO);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pa(){return Pa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pa.apply(this,arguments)}var Or;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Or||(Or={}));const O0="popstate";function $O(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Xf("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:ET(i)}return UO(e,n,null,t)}function nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jO(){return Math.random().toString(36).substr(2,8)}function M0(t,e){return{usr:t.state,key:t.key,idx:e}}function Xf(t,e,n,r){return n===void 0&&(n=null),Pa({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?os(e):e,{state:n,key:e&&e.key||r||jO()})}function ET(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function os(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Or.Pop,u=null,c=h();c==null&&(c=0,s.replaceState(Pa({},s.state,{idx:c}),""));function h(){return(s.state||{idx:null}).idx}function f(){a=Or.Pop;let A=h(),y=A==null?null:A-c;c=A,u&&u({action:a,location:T.location,delta:y})}function m(A,y){a=Or.Push;let _=Xf(T.location,A,y);c=h()+1;let S=M0(_,c),N=T.createHref(_);try{s.pushState(S,"",N)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(N)}o&&u&&u({action:a,location:T.location,delta:1})}function g(A,y){a=Or.Replace;let _=Xf(T.location,A,y);c=h();let S=M0(_,c),N=T.createHref(_);s.replaceState(S,"",N),o&&u&&u({action:a,location:T.location,delta:0})}function w(A){let y=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof A=="string"?A:ET(A);return _=_.replace(/ $/,"%20"),nt(y,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,y)}let T={get action(){return a},get location(){return t(i,s)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(O0,f),u=A,()=>{i.removeEventListener(O0,f),u=null}},createHref(A){return e(i,A)},createURL:w,encodeLocation(A){let y=w(A);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:m,replace:g,go(A){return s.go(A)}};return T}var L0;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(L0||(L0={}));function BO(t,e,n){return n===void 0&&(n="/"),zO(t,e,n,!1)}function zO(t,e,n,r){let i=typeof e=="string"?os(e):e,o=IT(i.pathname||"/",n);if(o==null)return null;let s=ST(t);WO(s);let a=null;for(let u=0;a==null&&u<s.length;++u){let c=tM(o);a=ZO(s[u],c,r)}return a}function ST(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let u={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};u.relativePath.startsWith("/")&&(nt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Ri([r,u.relativePath]),h=n.concat(u);o.children&&o.children.length>0&&(nt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ST(o.children,e,h,c)),!(o.path==null&&!o.index)&&e.push({path:c,score:XO(c,o.index),routesMeta:h})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let u of TT(o.path))i(o,s,u)}),e}function TT(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=TT(r.join("/")),a=[];return a.push(...s.map(u=>u===""?o:[o,u].join("/"))),i&&a.push(...s),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function WO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HO=/^:[\w-]+$/,qO=3,GO=2,KO=1,QO=10,YO=-2,F0=t=>t==="*";function XO(t,e){let n=t.split("/"),r=n.length;return n.some(F0)&&(r+=YO),e&&(r+=GO),n.filter(i=>!F0(i)).reduce((i,o)=>i+(HO.test(o)?qO:o===""?KO:QO),r)}function JO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZO(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let u=r[a],c=a===r.length-1,h=o==="/"?e:e.slice(o.length)||"/",f=$0({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),m=u.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=$0({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ri([o,f.pathname]),pathnameBase:aM(Ri([o,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(o=Ri([o,f.pathnameBase]))}return s}function $0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=eM(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let T=a[f]||"";s=o.slice(0,o.length-T.length).replace(/(.)\/+$/,"$1")}const w=a[f];return g&&!w?c[m]=void 0:c[m]=(w||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:t}}function eM(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),wT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,u)=>(r.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function tM(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function IT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function nM(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?os(t):t;return{pathname:n?n.startsWith("/")?n:rM(n,e):e,search:lM(r),hash:uM(i)}}function rM(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ah(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iM(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function oM(t,e){let n=iM(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=os(t):(i=Pa({},t),nt(!i.pathname||!i.pathname.includes("?"),Ah("?","pathname","search",i)),nt(!i.pathname||!i.pathname.includes("#"),Ah("#","pathname","hash",i)),nt(!i.search||!i.search.includes("#"),Ah("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let m=s.split("/");for(;m[0]==="..";)m.shift(),f-=1;i.pathname=m.join("/")}a=f>=0?e[f]:"/"}let u=nM(i,a),c=s&&s!=="/"&&s.endsWith("/"),h=(o||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}const Ri=t=>t.join("/").replace(/\/\/+/g,"/"),aM=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),lM=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uM=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function cM(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CT=["post","put","patch","delete"];new Set(CT);const dM=["get",...CT];new Set(dM);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ka(){return ka=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ka.apply(this,arguments)}const eg=R.createContext(null),hM=R.createContext(null),ud=R.createContext(null),cd=R.createContext(null),ss=R.createContext({outlet:null,matches:[],isDataRoute:!1}),RT=R.createContext(null);function dd(){return R.useContext(cd)!=null}function AT(){return dd()||nt(!1),R.useContext(cd).location}function PT(t){R.useContext(ud).static||R.useLayoutEffect(t)}function kT(){let{isDataRoute:t}=R.useContext(ss);return t?CM():fM()}function fM(){dd()||nt(!1);let t=R.useContext(eg),{basename:e,future:n,navigator:r}=R.useContext(ud),{matches:i}=R.useContext(ss),{pathname:o}=AT(),s=JSON.stringify(oM(i,n.v7_relativeSplatPath)),a=R.useRef(!1);return PT(()=>{a.current=!0}),R.useCallback(function(c,h){if(h===void 0&&(h={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=sM(c,JSON.parse(s),o,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ri([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,s,o,t])}function pM(t,e){return mM(t,e)}function mM(t,e,n,r){dd()||nt(!1);let{navigator:i}=R.useContext(ud),{matches:o}=R.useContext(ss),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let c=AT(),h;if(e){var f;let A=typeof e=="string"?os(e):e;u==="/"||(f=A.pathname)!=null&&f.startsWith(u)||nt(!1),h=A}else h=c;let m=h.pathname||"/",g=m;if(u!=="/"){let A=u.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(A.length).join("/")}let w=BO(t,{pathname:g}),T=wM(w&&w.map(A=>Object.assign({},A,{params:Object.assign({},a,A.params),pathname:Ri([u,i.encodeLocation?i.encodeLocation(A.pathname).pathname:A.pathname]),pathnameBase:A.pathnameBase==="/"?u:Ri([u,i.encodeLocation?i.encodeLocation(A.pathnameBase).pathname:A.pathnameBase])})),o,n,r);return e&&T?R.createElement(cd.Provider,{value:{location:ka({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Or.Pop}},T):T}function gM(){let t=IM(),e=cM(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const vM=R.createElement(gM,null);class yM extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(ss.Provider,{value:this.props.routeContext},R.createElement(RT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function _M(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(eg);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(ss.Provider,{value:e},r)}function wM(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let h=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||nt(!1),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let f=s[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:m,errors:g}=n,w=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||w){u=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((h,f,m)=>{let g,w=!1,T=null,A=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,T=f.route.errorElement||vM,u&&(c<0&&m===0?(w=!0,A=null):c===m&&(w=!0,A=f.route.hydrateFallbackElement||null)));let y=e.concat(s.slice(0,m+1)),_=()=>{let S;return g?S=T:w?S=A:f.route.Component?S=R.createElement(f.route.Component,null):f.route.element?S=f.route.element:S=h,R.createElement(_M,{match:f,routeContext:{outlet:h,matches:y,isDataRoute:n!=null},children:S})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?R.createElement(yM,{location:n.location,revalidation:n.revalidation,component:T,error:g,children:_(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):_()},null)}var bT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bT||{}),Ju=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ju||{});function EM(t){let e=R.useContext(eg);return e||nt(!1),e}function SM(t){let e=R.useContext(hM);return e||nt(!1),e}function TM(t){let e=R.useContext(ss);return e||nt(!1),e}function xT(t){let e=TM(),n=e.matches[e.matches.length-1];return n.route.id||nt(!1),n.route.id}function IM(){var t;let e=R.useContext(RT),n=SM(Ju.UseRouteError),r=xT(Ju.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function CM(){let{router:t}=EM(bT.UseNavigateStable),e=xT(Ju.UseNavigateStable),n=R.useRef(!1);return PT(()=>{n.current=!0}),R.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ka({fromRouteId:e},o)))},[t,e])}function Jf(t){nt(!1)}function RM(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Or.Pop,navigator:o,static:s=!1,future:a}=t;dd()&&nt(!1);let u=e.replace(/^\/*/,"/"),c=R.useMemo(()=>({basename:u,navigator:o,static:s,future:ka({v7_relativeSplatPath:!1},a)}),[u,a,o,s]);typeof r=="string"&&(r=os(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:w="default"}=r,T=R.useMemo(()=>{let A=IT(h,u);return A==null?null:{location:{pathname:A,search:f,hash:m,state:g,key:w},navigationType:i}},[u,h,f,m,g,w,i]);return T==null?null:R.createElement(ud.Provider,{value:c},R.createElement(cd.Provider,{children:n,value:T}))}function AM(t){let{children:e,location:n}=t;return pM(Zf(e),n)}new Promise(()=>{});function Zf(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let o=[...e,i];if(r.type===R.Fragment){n.push.apply(n,Zf(r.props.children,o));return}r.type!==Jf&&nt(!1),!r.props.index||!r.props.children||nt(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=Zf(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const PM="6";try{window.__reactRouterVersion=PM}catch{}const kM="startTransition",j0=ZI[kM];function bM(t){let{basename:e,children:n,future:r,window:i}=t,o=R.useRef();o.current==null&&(o.current=$O({window:i,v5Compat:!0}));let s=o.current,[a,u]=R.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},h=R.useCallback(f=>{c&&j0?j0(()=>u(f)):u(f)},[u,c]);return R.useLayoutEffect(()=>s.listen(h),[s,h]),R.createElement(RM,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var U0;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(U0||(U0={}));var B0;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(B0||(B0={}));function NT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xM=NT,DT=new Ba("auth","Firebase",NT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new wm("@firebase/auth");function NM(t,...e){Zu.logLevel<=me.WARN&&Zu.warn(`Auth (${ts}): ${t}`,...e)}function uu(t,...e){Zu.logLevel<=me.ERROR&&Zu.error(`Auth (${ts}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(t,...e){throw ng(t,...e)}function Sn(t,...e){return ng(t,...e)}function tg(t,e,n){const r=Object.assign(Object.assign({},xM()),{[e]:n});return new Ba("auth","Firebase",r).create(e,{appName:t.name})}function Ai(t){return tg(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function DM(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Bn(t,"argument-error"),tg(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ng(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return DT.create(t,...e)}function ie(t,e,...n){if(!t)throw ng(e,...n)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw uu(e),new Error(e)}function cr(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function VM(){return z0()==="http:"||z0()==="https:"}function z0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OM(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VM()||iN()||"connection"in navigator)?navigator.onLine:!0}function MM(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(e,n){this.shortDelay=e,this.longDelay=n,cr(n>e,"Short delay should be less than long delay!"),this.isMobile=tN()||oN()}get(){return OM()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t,e){cr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new Xa(3e4,6e4);function ig(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function as(t,e,n,r,i={}){return OT(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=za(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},o);return rN()||(c.referrerPolicy="no-referrer"),VT.fetch()(MT(t,t.config.apiHost,n,a),c)})}async function OT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},LM),e);try{const i=new jM(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw zl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zl(t,"user-disabled",s);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw tg(t,h,c);Bn(t,h)}}catch(i){if(i instanceof mr)throw i;Bn(t,"network-request-failed",{message:String(i)})}}async function $M(t,e,n,r,i={}){const o=await as(t,e,n,r,i);return"mfaPendingCredential"in o&&Bn(t,"multi-factor-auth-required",{_serverResponse:o}),o}function MT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?rg(t.config,i):`${t.config.apiScheme}://${i}`}class jM{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sn(this.auth,"network-request-failed")),FM.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zl(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UM(t,e){return as(t,"POST","/v1/accounts:delete",e)}async function LT(t,e){return as(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BM(t,e=!1){const n=kt(t),r=await n.getIdToken(e),i=og(r);ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:ea(Ph(i.auth_time)),issuedAtTime:ea(Ph(i.iat)),expirationTime:ea(Ph(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Ph(t){return Number(t)*1e3}function og(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return uu("JWT malformed, contained fewer than 3 sections"),null;try{const i=H1(n);return i?JSON.parse(i):(uu("Failed to decode base64 JWT payload"),null)}catch(i){return uu("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function W0(t){const e=og(t);return ie(e,"internal-error"),ie(typeof e.exp<"u","internal-error"),ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ba(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mr&&zM(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function zM({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ea(this.lastLoginAt),this.creationTime=ea(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ec(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ba(t,LT(n,{idToken:r}));ie(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?FT(o.providerUserInfo):[],a=qM(t.providerData,s),u=t.isAnonymous,c=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function HM(t){const e=kt(t);await ec(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qM(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function FT(t){return t.map(e=>{var{providerId:n}=e,r=Ma(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GM(t,e){const n=await OT(t,{},async()=>{const r=za({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=MT(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VT.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function KM(t,e){return as(t,"POST","/v2/accounts:revokeToken",ig(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ie(e.idToken,"internal-error"),ie(typeof e.idToken<"u","internal-error"),ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ie(e.length!==0,"internal-error");const n=W0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ie(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await GM(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Ro;return r&&(ie(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(ie(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(ie(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ro,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(t,e){ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Ma(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new WM(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new tp(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await ba(this,this.stsTokenManager.getToken(this.auth,e));return ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BM(this,e)}reload(){return HM(this)}_assign(e){this!==e&&(ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ec(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Jn(this.auth.app))return Promise.reject(Ai(this.auth));const e=await this.getIdToken();return await ba(this,UM(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,c,h;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,g=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,w=(s=n.photoURL)!==null&&s!==void 0?s:void 0,T=(a=n.tenantId)!==null&&a!==void 0?a:void 0,A=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:N,isAnonymous:M,providerData:O,stsTokenManager:I}=n;ie(S&&I,e,"internal-error");const v=Ro.fromJSON(this.name,I);ie(typeof S=="string",e,"internal-error"),Sr(f,e.name),Sr(m,e.name),ie(typeof N=="boolean",e,"internal-error"),ie(typeof M=="boolean",e,"internal-error"),Sr(g,e.name),Sr(w,e.name),Sr(T,e.name),Sr(A,e.name),Sr(y,e.name),Sr(_,e.name);const C=new er({uid:S,auth:e,email:m,emailVerified:N,displayName:f,isAnonymous:M,photoURL:w,phoneNumber:g,tenantId:T,stsTokenManager:v,createdAt:y,lastLoginAt:_});return O&&Array.isArray(O)&&(C.providerData=O.map(P=>Object.assign({},P))),A&&(C._redirectEventId=A),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ro;i.updateFromServerResponse(n);const o=new er({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ec(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];ie(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?FT(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new Ro;a.updateFromIdToken(r);const u=new er({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new tp(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;function tr(t){cr(t instanceof Function,"Expected a class definition");let e=H0.get(t);return e?(cr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H0.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}$T.type="NONE";const q0=$T;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cu(t,e,n){return`firebase:${t}:${e}:${n}`}class Ao{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=cu(this.userKey,i.apiKey,o),this.fullPersistenceKey=cu("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ao(tr(q0),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let o=i[0]||tr(q0);const s=cu(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(s);if(h){const f=er._fromJSON(e,h);c!==o&&(a=f),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new Ao(o,e,r):(o=u[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==o)try{await c._remove(s)}catch{}})),new Ao(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G0(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HT(e))return"Blackberry";if(qT(e))return"Webos";if(UT(e))return"Safari";if((e.includes("chrome/")||BT(e))&&!e.includes("edge/"))return"Chrome";if(WT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jT(t=Ct()){return/firefox\//i.test(t)}function UT(t=Ct()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function BT(t=Ct()){return/crios\//i.test(t)}function zT(t=Ct()){return/iemobile/i.test(t)}function WT(t=Ct()){return/android/i.test(t)}function HT(t=Ct()){return/blackberry/i.test(t)}function qT(t=Ct()){return/webos/i.test(t)}function sg(t=Ct()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function QM(t=Ct()){var e;return sg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function YM(){return sN()&&document.documentMode===10}function GT(t=Ct()){return sg(t)||WT(t)||qT(t)||HT(t)||/windows phone/i.test(t)||zT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(t,e=[]){let n;switch(t){case"Browser":n=G0(Ct());break;case"Worker":n=`${G0(Ct())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ts}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XM{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JM(t,e={}){return as(t,"GET","/v2/passwordPolicy",ig(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZM=6;class eL{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:ZM,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K0(this),this.idTokenSubscription=new K0(this),this.beforeStateQueue=new XM(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=DT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=tr(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Ao.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LT(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Jn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===a)&&(u!=null&&u.user)&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ec(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MM()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Jn(this.app))return Promise.reject(Ai(this));const n=e?kt(e):null;return n&&ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Jn(this.app)?Promise.reject(Ai(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Jn(this.app)?Promise.reject(Ai(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await JM(this),n=new eL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ba("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await KM(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&tr(e)||this._popupRedirectResolver;ie(n,this,"argument-error"),this.redirectPersistenceManager=await Ao.create(this,[tr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ie(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&NM(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hd(t){return kt(t)}class K0{constructor(e){this.auth=e,this.observer=null,this.addObserver=pN(n=>this.observer=n)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ag={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function nL(t){ag=t}function rL(t){return ag.loadJS(t)}function iL(){return ag.gapiScript}function oL(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t,e){const n=Sm(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Bu(o,e??{}))return i;Bn(i,"already-initialized")}return n.initialize({options:e})}function aL(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(tr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lL(t,e,n){const r=hd(t);ie(r._canInitEmulator,r,"emulator-config-failed"),ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=QT(e),{host:s,port:a}=uL(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),cL()}function QT(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function uL(t){const e=QT(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:Q0(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:Q0(s)}}}function Q0(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cL(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,n){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Po(t,e){return $M(t,"POST","/v1/accounts:signInWithIdp",ig(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dL="http://localhost";class $i extends YT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Bn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Ma(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new $i(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Po(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Po(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Po(e,n)}buildRequest(){const e={requestUri:dL,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=za(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja extends lg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends Ja{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn extends Ja{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $i._fromParams({providerId:Qn.PROVIDER_ID,signInMethod:Qn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qn.credentialFromTaggedObject(e)}static credentialFromError(e){return Qn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Qn.credential(n,r)}catch{return null}}}Qn.GOOGLE_SIGN_IN_METHOD="google.com";Qn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Ja{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return br.credentialFromTaggedObject(e)}static credentialFromError(e){return br.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return br.credential(e.oauthAccessToken)}catch{return null}}}br.GITHUB_SIGN_IN_METHOD="github.com";br.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr extends Ja{constructor(){super("twitter.com")}static credential(e,n){return $i._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return xr.credentialFromTaggedObject(e)}static credentialFromError(e){return xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return xr.credential(n,r)}catch{return null}}}xr.TWITTER_SIGN_IN_METHOD="twitter.com";xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await er._fromIdTokenResponse(e,r,i),s=Y0(r);return new Ko({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Y0(r);return new Ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Y0(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends mr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,tc.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new tc(e,n,r,i)}}function XT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?tc._fromErrorAndOperation(t,o,e,r):o})}async function hL(t,e,n=!1){const r=await ba(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e,n=!1){const{auth:r}=t;if(Jn(r.app))return Promise.reject(Ai(r));const i="reauthenticate";try{const o=await ba(t,XT(r,i,e,t),n);ie(o.idToken,r,"internal-error");const s=og(o.idToken);ie(s,r,"internal-error");const{sub:a}=s;return ie(t.uid===a,r,"user-mismatch"),Ko._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Bn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pL(t,e,n=!1){if(Jn(t.app))return Promise.reject(Ai(t));const r="signIn",i=await XT(t,r,e),o=await Ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function mL(t,e,n,r){return kt(t).onIdTokenChanged(e,n,r)}function gL(t,e,n){return kt(t).beforeAuthStateChanged(e,n)}function vL(t){return kt(t).signOut()}const nc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nc,"1"),this.storage.removeItem(nc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yL=1e3,_L=10;class ZT extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);YM()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,_L):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},yL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZT.type="LOCAL";const wL=ZT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}eI.type="SESSION";const tI=eI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new fd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async c=>c(n.origin,o)),u=await EL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}fd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ug(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{const c=ug("",20);i.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const m=f;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function TL(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nI(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function IL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function RL(){return nI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebaseLocalStorageDb",AL=1,rc="firebaseLocalStorage",iI="fbase_key";class Za{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pd(t,e){return t.transaction([rc],e?"readwrite":"readonly").objectStore(rc)}function PL(){const t=indexedDB.deleteDatabase(rI);return new Za(t).toPromise()}function np(){const t=indexedDB.open(rI,AL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(rc,{keyPath:iI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(rc)?e(r):(r.close(),await PL(),e(await np()))})})}async function X0(t,e,n){const r=pd(t,!0).put({[iI]:e,value:n});return new Za(r).toPromise()}async function kL(t,e){const n=pd(t,!1).get(e),r=await new Za(n).toPromise();return r===void 0?null:r.value}function J0(t,e){const n=pd(t,!0).delete(e);return new Za(n).toPromise()}const bL=800,xL=3;class oI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await np(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>xL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=fd._getInstance(RL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await IL(),!this.activeServiceWorker)return;this.sender=new SL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await np();return await X0(e,nc,"1"),await J0(e,nc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>X0(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>kL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>J0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=pd(i,!1).getAll();return new Za(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oI.type="LOCAL";const NL=oI;new Xa(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e){return e?tr(e):(ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg extends YT{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function DL(t){return pL(t.auth,new cg(t),t.bypassAuthState)}function VL(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),fL(n,new cg(t),t.bypassAuthState)}async function OL(t){const{auth:e,user:n}=t;return ie(n,e,"internal-error"),hL(n,new cg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DL;case"linkViaPopup":case"linkViaRedirect":return OL;case"reauthViaPopup":case"reauthViaRedirect":return VL;default:Bn(this.auth,"internal-error")}}resolve(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new Xa(2e3,1e4);async function LL(t,e,n){if(Jn(t.app))return Promise.reject(Sn(t,"operation-not-supported-in-this-environment"));const r=hd(t);DM(t,e,lg);const i=sI(r,n);return new Ei(r,"signInViaPopup",e,i).executeNotNull()}class Ei extends aI{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Ei.currentPopupAction&&Ei.currentPopupAction.cancel(),Ei.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ie(e,this.auth,"internal-error"),e}async onExecution(){cr(this.filter.length===1,"Popup operations only handle one event");const e=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ei.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ML.get())};e()}}Ei.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL="pendingRedirect",du=new Map;class $L extends aI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=du.get(this.auth._key());if(!e){try{const r=await jL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}du.set(this.auth._key(),e)}return this.bypassAuthState||du.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jL(t,e){const n=zL(e),r=BL(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function UL(t,e){du.set(t._key(),e)}function BL(t){return tr(t._redirectPersistence)}function zL(t){return cu(FL,t.config.apiKey,t.name)}async function WL(t,e,n=!1){if(Jn(t.app))return Promise.reject(Ai(t));const r=hd(t),i=sI(r,e),s=await new $L(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HL=10*60*1e3;class qL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!lI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z0(e))}saveEventToCache(e){this.cachedEventUids.add(Z0(e)),this.lastProcessedEventTime=Date.now()}}function Z0(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function lI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KL(t,e={}){return as(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YL=/^https?/;async function XL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await KL(t);for(const n of e)try{if(JL(n))return}catch{}Bn(t,"unauthorized-domain")}function JL(t){const e=ep(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!YL.test(n))return!1;if(QL.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL=new Xa(3e4,6e4);function e_(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function e4(t){return new Promise((e,n)=>{var r,i,o;function s(){e_(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{e_(),n(Sn(t,"network-request-failed"))},timeout:ZL.get()})}if(!((i=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=$n().gapi)===null||o===void 0)&&o.load)s();else{const a=oL("iframefcb");return $n()[a]=()=>{gapi.load?s():n(Sn(t,"network-request-failed"))},rL(`${iL()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw hu=null,e})}let hu=null;function t4(t){return hu=hu||e4(t),hu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=new Xa(5e3,15e3),r4="__/auth/iframe",i4="emulator/auth/iframe",o4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},s4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function a4(t){const e=t.config;ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?rg(e,i4):`https://${t.config.authDomain}/${r4}`,r={apiKey:e.apiKey,appName:t.name,v:ts},i=s4.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${za(r).slice(1)}`}async function l4(t){const e=await t4(t),n=$n().gapi;return ie(n,t,"internal-error"),e.open({where:document.body,url:a4(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o4,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Sn(t,"network-request-failed"),a=$n().setTimeout(()=>{o(s)},n4.get());function u(){$n().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},c4=500,d4=600,h4="_blank",f4="http://localhost";class t_{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function p4(t,e,n,r=c4,i=d4){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},u4),{width:r.toString(),height:i.toString(),top:o,left:s}),c=Ct().toLowerCase();n&&(a=BT(c)?h4:n),jT(c)&&(e=e||f4,u.scrollbars="yes");const h=Object.entries(u).reduce((m,[g,w])=>`${m}${g}=${w},`,"");if(QM(c)&&a!=="_self")return m4(e||"",a),new t_(null);const f=window.open(e||"",a,h);ie(f,t,"popup-blocked");try{f.focus()}catch{}return new t_(f)}function m4(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4="__/auth/handler",v4="emulator/auth/handler",y4=encodeURIComponent("fac");async function n_(t,e,n,r,i,o){ie(t.config.authDomain,t,"auth-domain-config-required"),ie(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ts,eventId:i};if(e instanceof lg){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",fN(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))s[h]=f}if(e instanceof Ja){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${y4}=${encodeURIComponent(u)}`:"";return`${_4(t)}?${za(a).slice(1)}${c}`}function _4({config:t}){return t.emulator?rg(t,v4):`https://${t.authDomain}/${g4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kh="webStorageSupport";class w4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tI,this._completeRedirectFn=WL,this._overrideRedirectResult=UL}async _openPopup(e,n,r,i){var o;cr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await n_(e,n,r,ep(),i);return p4(e,s,ug())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await n_(e,n,r,ep(),i);return TL(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(cr(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await l4(e),r=new qL(e);return n.register("authEvent",i=>(ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kh,{type:kh},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[kh];s!==void 0&&n(!!s),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=XL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return GT()||UT()||sg()}}const E4=w4;var r_="@firebase/auth",i_="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T4(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I4(t){jo(new Oi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;ie(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KT(t)},c=new tL(r,i,o,u);return aL(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),jo(new Oi("auth-internal",e=>{const n=hd(e.getProvider("auth").getImmediate());return(r=>new S4(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(r_,i_,T4(t)),qr(r_,i_,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C4=5*60,R4=K1("authIdTokenMaxAge")||C4;let o_=null;const A4=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R4)return;const i=n==null?void 0:n.token;o_!==i&&(o_=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function uI(t=J1()){const e=Sm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sL(t,{popupRedirectResolver:E4,persistence:[NL,wL,tI]}),r=K1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=A4(o.toString());gL(n,s,()=>s(n.currentUser)),mL(n,a=>s(a))}}const i=q1("auth");return i&&lL(n,`http://${i}`),n}function P4(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}nL({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Sn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",P4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I4("Browser");const cI=R.createContext({getStorage:()=>new Promise(t=>t([])),addItemStorage:()=>{},deleteStorageItem:()=>{},updateStorageItem:()=>{},lastUpdate:"",dbReady:!1,signinWithGoogle:()=>new Promise(t=>t())}),k4=({children:t})=>{const[e,n]=R.useState(new Date().toUTCString()),[r]=Zp({key:"login",defaultValue:"stale"}),i=kT(),o=uI(),s=new Qn;s.setCustomParameters({prompt:"select_account"});function a(){return LL(o,s)}async function u(m){if(Hn)return await VO(gO(Hn,m??"magazzino")).then(g=>(n(new Date().toUTCString()),g.docs.map(w=>w.data())))}async function c(m,g){const w=Wx();if(Hn)try{return await OO(Rh(Hn,g??"magazzino",w),{...m,id:w}).then(()=>{n(new Date().toUTCString())})}catch(T){console.error(T)}}async function h(m,g){Hn&&await MO(Rh(Hn,g??"magazzino",m.id),m).then(()=>n(new Date().toUTCString()))}async function f(m,g){Hn&&await LO(Rh(Hn,g??"magazzino",m.id)).then(()=>n(new Date().toUTCString()))}return R.useEffect(()=>{r||i("login",{replace:!1})},[r]),b.jsx(cI.Provider,{value:{getStorage:u,addItemStorage:c,deleteStorageItem:f,updateStorageItem:h,dbReady:!!Hn,lastUpdate:e,signinWithGoogle:a},children:t})},dg=()=>R.useContext(cI),b4=t=>{const{elementToDelete:e,onConfirm:n,...r}=t;return b.jsxs(Rn,{...r,radius:12,overlayProps:{blur:2},children:[b.jsxs(vn,{children:["Sicuro di voler eliminare ",e,"?"]}),b.jsx(Wc,{h:20}),b.jsxs(Zo,{justify:"space-evenly",children:[b.jsx(Xr,{onClick:r.onClose,color:"blue",children:"Annulla"}),b.jsx(Xr,{onClick:()=>{n(),r.onClose()},color:"red",variant:"outline",children:"Elimina"})]})]})},s_=t=>{const{onConfirm:e,defaultValue:n,...r}=t,[i,o]=R.useState((n==null?void 0:n.name)??""),[s,a]=R.useState((n==null?void 0:n.unit)??""),[u,c]=R.useState((n==null?void 0:n.number)??0);return SP(()=>{n!=null&&n.name&&o((n==null?void 0:n.name)??""),n!=null&&n.unit&&a((n==null?void 0:n.unit)??""),n!=null&&n.number&&c((n==null?void 0:n.number)??0)},[n]),b.jsxs(Rn,{...r,radius:12,overlayProps:{blur:2},children:[b.jsx(vn,{children:"Aggiungi un elemento alla lista:"}),b.jsx(Wc,{h:20}),b.jsxs(Kn,{children:[b.jsx(ju,{value:i,onChange:h=>o(h.currentTarget.value),label:"Nome"}),b.jsx(_m,{value:u,onChange:h=>c(h),label:"Quantità",min:0}),b.jsx(ju,{value:s,onChange:h=>a(h.currentTarget.value),label:"Unità di misura",placeholder:"Pacchi, bottiglie..."})]}),b.jsx(Zo,{justify:"flex-end",children:b.jsx(Xr,{onClick:()=>{e({name:i,unit:s,number:u,id:(n==null?void 0:n.id)??""}),r.onClose()},color:"blue",children:"Invia"})})]})},x4=({list:t,path:e})=>{const[n,{open:r,close:i}]=lh(!1),[o,{open:s,close:a}]=lh(!1),[u,{open:c,close:h}]=lh(!1),[f,m]=R.useState(),[g,w]=R.useState(),{deleteStorageItem:T,addItemStorage:A,updateStorageItem:y}=dg();return b.jsxs(b.Fragment,{children:[b.jsx(s_,{title:b.jsx(vn,{fz:24,fw:600,children:"Modifica"}),defaultValue:g,opened:u,onClose:h,onConfirm:_=>y(_,e)}),b.jsx(s_,{title:b.jsx(vn,{fz:24,fw:600,children:"Aggiungi"}),opened:o,onClose:a,onConfirm:_=>A(_,e)}),b.jsx(b4,{title:b.jsxs(vn,{fz:24,fw:600,children:["Elimina ",f==null?void 0:f.name]}),onConfirm:()=>{f&&T(f,e)},opened:n,onClose:i,elementToDelete:(f==null?void 0:f.name)??""}),b.jsx(Lo,{px:6,bg:"white",children:b.jsxs(Kn,{children:[b.jsx(Vi,{w:100,order:6,children:"Nome:"}),b.jsx(Vi,{ta:"right",w:70,order:6,children:"Quantità:"})]})}),b.jsxs(Lo,{mt:8,bg:"white",children:[b.jsxs($a.Autosize,{styles:{thumb:{backgroundColor:"gainsboro"}},scrollbars:"y",offsetScrollbars:!0,mah:400,children:[t.length===0&&b.jsxs(Kn,{px:8,pt:10,gap:8,wrap:"nowrap",children:[b.jsx(Mx,{size:58,stroke:1,color:"var(--mantine-color-gray-7)"}),b.jsx(vn,{c:"gray.7",fw:600,children:"Aggiungi un elemento premendo il tasto qui sotto"})]}),t.map(({name:_,unit:S="",number:N,id:M})=>b.jsxs(Kn,{mx:6,style:{borderBottom:"1px solid var(--mantine-color-dark-1"},py:4,children:[b.jsx(vn,{w:100,fz:12,children:_}),b.jsx(vn,{ta:"right",w:70,fz:12,children:N+S}),b.jsxs(Kn,{style:{flexGrow:1},justify:"flex-end",gap:6,children:[b.jsx(Fo,{onClick:()=>{w({id:M,name:_,number:N,unit:S}),c()},color:"blue",variant:"light",children:b.jsx(Fx,{})}),b.jsx(Fo,{onClick:()=>{m({id:M,name:_,number:N,unit:S}),r()},color:"red",variant:"light",children:b.jsx($x,{})})]})]},M))]}),b.jsx(Kn,{p:8,justify:"flex-end",children:b.jsx(Xr,{color:"blue",onClick:()=>s(),children:"Aggiungi"})})]})]})};function N4(){const[t,e]=R.useState("magazzino"),n=uI(),[r,i]=R.useState([]),{getStorage:o,dbReady:s,lastUpdate:a}=dg(),[u,c]=Zp({key:"login",defaultValue:""});return R.useEffect(()=>{s&&o(t).then(h=>{i(h)})},[s,a,t]),b.jsxs(se,{p:"10px 8px",h:"100vh",w:"100vw",children:[b.jsxs(Zo,{justify:"space-between",children:[b.jsx(Oc,{src:B1,w:100}),b.jsx(Fo,{onClick:()=>vL(n).then(()=>c("")),variant:"transparent",color:"white",children:b.jsx(Lx,{})})]}),b.jsx(Vi,{ml:10,mt:16,c:"white",children:"Gestionale"}),b.jsx(Vi,{ml:10,order:5,children:"Inserisci sotto tutte le provviste nel magazzino o aggiungi alla lista della spesa ciò che scarseggia"}),b.jsx(Wc,{h:30}),b.jsxs(Hc,{gap:0,children:[b.jsxs(Kn,{gap:0,children:[b.jsx(se,{c:"white",fz:14,fw:t==="magazzino"?700:500,bg:"red.5",p:"6px 4px",style:{borderTopLeftRadius:4,borderTopRightRadius:4},onClick:()=>e("magazzino"),children:"Magazzino"}),b.jsx(se,{c:"white",fz:14,fw:t==="carrello"?700:500,bg:"blue.5",p:"6px 4px",style:{borderTopLeftRadius:4,borderTopRightRadius:4},onClick:()=>e("carrello"),children:"Lista della spesa"})]}),b.jsx(Lo,{style:{borderBottomRightRadius:4,borderTopRightRadius:4,borderBottomLeftRadius:4},radius:0,fz:18,c:"gray.9",p:"10px 6px",bg:t==="magazzino"?"red.5":"blue.5",children:b.jsx(x4,{list:r,path:t})})]})]})}const D4=()=>{const{signinWithGoogle:t}=dg(),[e,n]=Zp({key:"login",defaultValue:""}),r=kT(),[i,o]=R.useState(!1);return R.useEffect(()=>{e&&r("")},[e]),b.jsxs(b.Fragment,{children:[b.jsxs(Hc,{align:"center",w:"90%",m:"0 auto",h:"100vh",children:[b.jsx(Oc,{mt:"30%",w:210,src:B1}),b.jsxs(se,{children:[b.jsx(Vi,{ta:"center",order:2,children:"Accedi con Google"}),b.jsx(Zo,{mt:16,justify:"center",children:b.jsx(Xr,{w:218,color:i?"red":"blue",onClick:()=>{o(!1),t().then(s=>{if(s.user.uid!=="DKnCJH87brPpcZ1eakCLEtg5qOC2")return o(!0);n(s.user.uid),r("/")}).catch(()=>{o(!0)})},children:"Accedi"})}),i&&b.jsx(vn,{mt:16,c:"red",children:"Credenziali errate o account non autorizzato"})]})]}),b.jsx(se,{w:"100%",ta:"center",pos:"absolute",bottom:6,fz:8,children:"Tutti i diritti sono riservati. Questa piattaforma è di proprieta di Nuova Proloco Città di Luino"})]})},V4={fontFamily:"Outfit, sans-serif"};wE(document.getElementById("root")).render(b.jsx(R.StrictMode,{children:b.jsx(bM,{basename:"/gestionale",children:b.jsx(k4,{children:b.jsx(zE,{theme:V4,defaultColorScheme:"dark",children:b.jsxs(AM,{children:[b.jsx(Jf,{path:"/login",element:b.jsx(D4,{})}),b.jsx(Jf,{path:"",element:b.jsx(N4,{})})]})})})})}));
